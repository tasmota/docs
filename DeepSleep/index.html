<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Documentation (Wiki) for Tasmota"><link href=https://tasmota.github.io/docs/DeepSleep/ rel=canonical><link href=../Buttons-and-Switches/ rel=prev><link href=../Device-Groups/ rel=next><link rel=icon href=../_media/favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.3"><title>DeepSleep - Tasmota</title><link rel=stylesheet href=../assets/stylesheets/main.484c7ddc.min.css><link rel=stylesheet href=../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Barlow:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Barlow";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../assets/css/anchor-fix.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-8J08F8X90S"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-8J08F8X90S",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-8J08F8X90S",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=blue data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#deepsleep-modes-regular-time-based class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title=Tasmota class="md-header__button md-logo" aria-label=Tasmota data-md-component=logo> <img src=../_media/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Tasmota </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> DeepSleep </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=blue data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=blue data-md-color-accent=deep-purple aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/arendst/tasmota title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> arendst/tasmota </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=.. class=md-tabs__link> Home </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../Features/ class=md-tabs__link> Features </a> </li> <li class=md-tabs__item> <a href=../ESP32/ class=md-tabs__link> ESP32 </a> </li> <li class=md-tabs__item> <a href=../Integrations/ class=md-tabs__link> Smart Home Integrations </a> </li> <li class=md-tabs__item> <a href=../Supported-Peripherals/ class=md-tabs__link> Peripherals </a> </li> <li class=md-tabs__item> <a href=../Configuration-Procedure-for-New-Devices/ class=md-tabs__link> Supported Devices </a> </li> <li class=md-tabs__item> <a href=../FAQ/ class=md-tabs__link> Help </a> </li> <li class=md-tabs__item> <a href=http://tasmota.github.io/install class=md-tabs__link> Web Installer </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title=Tasmota class="md-nav__button md-logo" aria-label=Tasmota data-md-component=logo> <img src=../_media/logo.svg alt=logo> </a> Tasmota </label> <div class=md-nav__source> <a href=https://github.com/arendst/tasmota title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> arendst/tasmota </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1 id=__nav_1_label tabindex=0> <span class=md-ellipsis> Home </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Home </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> <span class=md-ellipsis> News </span> </a> </li> <li class=md-nav__item> <a href=../About/ class=md-nav__link> <span class=md-ellipsis> About </span> </a> </li> <li class=md-nav__item> <a href=../Getting-Started/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> </a> </li> <li class=md-nav__item> <a href=../Upgrading/ class=md-nav__link> <span class=md-ellipsis> Upgrading </span> </a> </li> <li class=md-nav__item> <a href=../MQTT/ class=md-nav__link> <span class=md-ellipsis> MQTT </span> </a> </li> <li class=md-nav__item> <a href=../Commands/ class=md-nav__link> <span class=md-ellipsis> Commands </span> </a> </li> <li class=md-nav__item> <a href=../Templates/ class=md-nav__link> <span class=md-ellipsis> Templates </span> </a> </li> <li class=md-nav__item> <a href=../Components/ class=md-nav__link> <span class=md-ellipsis> Components </span> </a> </li> <li class=md-nav__item> <a href=../Modules/ class=md-nav__link> <span class=md-ellipsis> Modules </span> </a> </li> <li class=md-nav__item> <a href=../Peripherals/ class=md-nav__link> <span class=md-ellipsis> Peripherals </span> </a> </li> <li class=md-nav__item> <a href=../WebUI/ class=md-nav__link> <span class=md-ellipsis> WebUI </span> </a> </li> <li class=md-nav__item> <a href=../Firmware-Builds/ class=md-nav__link> <span class=md-ellipsis> Firmware Builds </span> </a> </li> <li class=md-nav__item> <a href=../Compile-your-build/ class=md-nav__link> <span class=md-ellipsis> Compiling </span> </a> </li> <li class=md-nav__item> <a href=../Contributing/ class=md-nav__link> <span class=md-ellipsis> Contributing </span> </a> </li> <li class=md-nav__item> <a href=../Download/ class=md-nav__link> <span class=md-ellipsis> Download </span> </a> </li> <li class=md-nav__item> <a href=https://github.com/arendst/Tasmota/discussions/categories/show-and-tell class=md-nav__link> <span class=md-ellipsis> Project Showcase </span> </a> </li> <li class=md-nav__item> <a href=../For-Developers/ class=md-nav__link> <span class=md-ellipsis> For Developers </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex> <span class=md-ellipsis> Features </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Features </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Features/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../ADC/ class=md-nav__link> <span class=md-ellipsis> Analog Pin </span> </a> </li> <li class=md-nav__item> <a href=../ArtNet/ class=md-nav__link> <span class=md-ellipsis> ArtNet DMX </span> </a> </li> <li class=md-nav__item> <a href=../Buttons-and-Switches/ class=md-nav__link> <span class=md-ellipsis> Buttons and Switches </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> DeepSleep </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> DeepSleep </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#deepsleep-modes-regular-time-based class=md-nav__link> <span class=md-ellipsis> DeepSleep modes (regular, time based) </span> </a> <nav class=md-nav aria-label="DeepSleep modes (regular, time based)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#repeating-regular-deepsleep-based-on-interval class=md-nav__link> <span class=md-ellipsis> Repeating regular deepsleep based on interval </span> </a> </li> <li class=md-nav__item> <a href=#deepsleep-wakeup-based-on-timer-events class=md-nav__link> <span class=md-ellipsis> DeepSleep wakeup based on TIMER events </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#methods-to-temporarily-disable-deepsleep-mode class=md-nav__link> <span class=md-ellipsis> Methods to (temporarily) disable DeepSleep mode </span> </a> <nav class=md-nav aria-label="Methods to (temporarily) disable DeepSleep mode"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#using-a-switch class=md-nav__link> <span class=md-ellipsis> Using a switch </span> </a> </li> <li class=md-nav__item> <a href=#using-mqtt class=md-nav__link> <span class=md-ellipsis> Using MQTT </span> </a> </li> <li class=md-nav__item> <a href=#using-smart-home-automation class=md-nav__link> <span class=md-ellipsis> Using smart home automation </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#rules class=md-nav__link> <span class=md-ellipsis> Rules </span> </a> </li> <li class=md-nav__item> <a href=#driver-writer-executing-commands-before-entering-deepsleep class=md-nav__link> <span class=md-ellipsis> Driver writer: Executing commands before entering DeepSleep </span> </a> </li> <li class=md-nav__item> <a href=#overcome-network-issues class=md-nav__link> <span class=md-ellipsis> Overcome network issues </span> </a> </li> <li class=md-nav__item> <a href=#deepsleep-algorithm-general-timing class=md-nav__link> <span class=md-ellipsis> DeepSleep Algorithm General Timing </span> </a> </li> <li class=md-nav__item> <a href=#esp8266-deepsleep-side-effects class=md-nav__link> <span class=md-ellipsis> ESP8266 DeepSleep Side-effects </span> </a> </li> <li class=md-nav__item> <a href=#log-output-explanation class=md-nav__link> <span class=md-ellipsis> Log Output Explanation </span> </a> </li> <li class=md-nav__item> <a href=#rules-to-adapt-deepsleep-period-to-battery-level class=md-nav__link> <span class=md-ellipsis> Rules to adapt DeepSleep period to battery level. </span> </a> </li> <li class=md-nav__item> <a href=#deepsleep-power-saving class=md-nav__link> <span class=md-ellipsis> DeepSleep Power Saving </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../Device-Groups/ class=md-nav__link> <span class=md-ellipsis> Device Groups </span> </a> </li> <li class=md-nav__item> <a href=../Universal-Display-Driver/ class=md-nav__link> <span class=md-ellipsis> Universal Display and Universal Touch drivers (uDisplay/uTouch) </span> </a> </li> <li class=md-nav__item> <a href=../Displays/ class=md-nav__link> <span class=md-ellipsis> Displays </span> </a> </li> <li class=md-nav__item> <a href=../Dynamic-Sleep/ class=md-nav__link> <span class=md-ellipsis> Dynamic Sleep </span> </a> </li> <li class=md-nav__item> <a href=../I2CDEVICES/ class=md-nav__link> <span class=md-ellipsis> I2C Devices </span> </a> </li> <li class=md-nav__item> <a href=../I2S-Audio/ class=md-nav__link> <span class=md-ellipsis> I2S Audio </span> </a> </li> <li class=md-nav__item> <a href=../IPv6/ class=md-nav__link> <span class=md-ellipsis> IPv6 </span> </a> </li> <li class=md-nav__item> <a href=../Lights/ class=md-nav__link> <span class=md-ellipsis> Lights </span> </a> </li> <li class=md-nav__item> <a href=../Matter/ class=md-nav__link> <span class=md-ellipsis> Matter </span> </a> </li> <li class=md-nav__item> <a href=../PIR-Motion-Sensors/ class=md-nav__link> <span class=md-ellipsis> PIR Motion Sensors </span> </a> </li> <li class=md-nav__item> <a href=../Power-Monitoring-Calibration/ class=md-nav__link> <span class=md-ellipsis> Power Monitoring Calibration </span> </a> </li> <li class=md-nav__item> <a href=../PWM-dimmer-switch/ class=md-nav__link> <span class=md-ellipsis> PWM Dimmer </span> </a> </li> <li class=md-nav__item> <a href=../Rules/ class=md-nav__link> <span class=md-ellipsis> Rules </span> </a> </li> <li class=md-nav__item> <a href=../Scripting-Language/ class=md-nav__link> <span class=md-ellipsis> Scripting Language </span> </a> </li> <li class=md-nav__item> <a href=../Blinds-and-Shutters/ class=md-nav__link> <span class=md-ellipsis> Shutters and Blinds </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_21> <label class=md-nav__link for=__nav_2_21 id=__nav_2_21_label tabindex=0> <span class=md-ellipsis> Protocol Bridging </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_21_label aria-expanded=false> <label class=md-nav__title for=__nav_2_21> <span class="md-nav__icon md-icon"></span> Protocol Bridging </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../TasmotaClient/ class=md-nav__link> <span class=md-ellipsis> Arduino MCU </span> </a> </li> <li class=md-nav__item> <a href=../Bluetooth/ class=md-nav__link> <span class=md-ellipsis> BLE Gateway </span> </a> </li> <li class=md-nav__item> <a href=../DALI/ class=md-nav__link> <span class=md-ellipsis> DALI </span> </a> </li> <li class=md-nav__item> <a href=../HDMI_CEC/ class=md-nav__link> <span class=md-ellipsis> HDMI CEC </span> </a> </li> <li class=md-nav__item> <a href=../Tasmota-IR/ class=md-nav__link> <span class=md-ellipsis> IR Communication </span> </a> </li> <li class=md-nav__item> <a href=../Projector/ class=md-nav__link> <span class=md-ellipsis> LCD/DLP Projector Control </span> </a> </li> <li class=md-nav__item> <a href=../LoRa-and-LoRaWan-Bridge/ class=md-nav__link> <span class=md-ellipsis> LoRa and LoRaWan Bridge </span> </a> </li> <li class=md-nav__item> <a href=../Modbus-Bridge/ class=md-nav__link> <span class=md-ellipsis> Modbus Bridge </span> </a> </li> <li class=md-nav__item> <a href=../OpenTherm/ class=md-nav__link> <span class=md-ellipsis> OpenTherm </span> </a> </li> <li class=md-nav__item> <a href=../RF-Protocol/ class=md-nav__link> <span class=md-ellipsis> RF Communication </span> </a> </li> <li class=md-nav__item> <a href=../Serial-to-TCP-Bridge/ class=md-nav__link> <span class=md-ellipsis> Serial to TCP Bridge </span> </a> </li> <li class=md-nav__item> <a href=../TWAI/ class=md-nav__link> <span class=md-ellipsis> TWAI </span> </a> </li> <li class=md-nav__item> <a href=../Telegram/ class=md-nav__link> <span class=md-ellipsis> Telegram </span> </a> </li> <li class=md-nav__item> <a href=../Zigbee/ class=md-nav__link> <span class=md-ellipsis> Zigbee </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../Smart-Meter-Interface/ class=md-nav__link> <span class=md-ellipsis> Smart Meter Interface </span> </a> </li> <li class=md-nav__item> <a href=../Thermostat/ class=md-nav__link> <span class=md-ellipsis> Thermostat </span> </a> </li> <li class=md-nav__item> <a href=../Timers/ class=md-nav__link> <span class=md-ellipsis> Timers </span> </a> </li> <li class=md-nav__item> <a href=../TLS/ class=md-nav__link> <span class=md-ellipsis> TLS Secured MQTT </span> </a> </li> <li class=md-nav__item> <a href=../TuyaMCU/ class=md-nav__link> <span class=md-ellipsis> TuyaMCU </span> </a> </li> <li class=md-nav__item> <a href=../UFS/ class=md-nav__link> <span class=md-ellipsis> Universal File System </span> </a> </li> <li class=md-nav__item> <a href=../Range-Extender/ class=md-nav__link> <span class=md-ellipsis> Wi-Fi Range Extender </span> </a> </li> <li class=md-nav__item> <a href=../Wireguard/ class=md-nav__link> <span class=md-ellipsis> Wireguard VPN </span> </a> </li> <li class=md-nav__item> <a href=../Tutorials/ class=md-nav__link> <span class=md-ellipsis> Projects and Tutorials </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> ESP32 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> ESP32 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ESP32/ class=md-nav__link> <span class=md-ellipsis> Tasmota32 Features </span> </a> </li> <li class=md-nav__item> <a href=../Berry/ class=md-nav__link> <span class=md-ellipsis> Berry </span> </a> </li> <li class=md-nav__item> <a href=../Bluetooth_ESP32/ class=md-nav__link> <span class=md-ellipsis> Bluetooth Low Energy </span> </a> </li> <li class=md-nav__item> <a href=../LVGL/ class=md-nav__link> <span class=md-ellipsis> LVGL </span> </a> </li> <li class=md-nav__item> <a href=../HASPmota/ class=md-nav__link> <span class=md-ellipsis> HASPmota </span> </a> </li> <li class=md-nav__item> <a href=../Matter/ class=md-nav__link> <span class=md-ellipsis> Matter </span> </a> </li> <li class=md-nav__item> <a href=../Tasmota-Extension/ class=md-nav__link> <span class=md-ellipsis> Tasmota Extension </span> </a> </li> <li class=md-nav__item> <a href=../Tasmota-Application/ class=md-nav__link> <span class=md-ellipsis> Tasmota Application Files </span> </a> </li> <li class=md-nav__item> <a href=../TFL/ class=md-nav__link> <span class=md-ellipsis> TensorFlow Lite </span> </a> </li> <li class=md-nav__item> <a href=../TouchPin/ class=md-nav__link> <span class=md-ellipsis> Touch GPIOs </span> </a> </li> <li class=md-nav__item> <a href=../Safeboot/ class=md-nav__link> <span class=md-ellipsis> Safeboot Partition Layout </span> </a> </li> <li class=md-nav__item> <a href=https://templates.blakadder.com/esp32 class=md-nav__link> <span class=md-ellipsis> Supported Devices </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Smart Home Integrations </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Smart Home Integrations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Integrations/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../Alexa/ class=md-nav__link> <span class=md-ellipsis> Alexa </span> </a> </li> <li class=md-nav__item> <a href=../AWS-IoT/ class=md-nav__link> <span class=md-ellipsis> AWS IoT </span> </a> </li> <li class=md-nav__item> <a href=../Domoticz/ class=md-nav__link> <span class=md-ellipsis> Domoticz </span> </a> </li> <li class=md-nav__item> <a href=../Home-Assistant/ class=md-nav__link> <span class=md-ellipsis> Home Assistant </span> </a> </li> <li class=md-nav__item> <a href=../Homebridge/ class=md-nav__link> <span class=md-ellipsis> Homebridge </span> </a> </li> <li class=md-nav__item> <a href=https://homey.app/en-us/app/com.paveld.tasmota/Tasmota-MQTT/ class=md-nav__link> <span class=md-ellipsis> Homey </span> </a> </li> <li class=md-nav__item> <a href=../HomeSeer/ class=md-nav__link> <span class=md-ellipsis> HomeSeer </span> </a> </li> <li class=md-nav__item> <a href=../IP-Symcon/ class=md-nav__link> <span class=md-ellipsis> IP Symcon </span> </a> </li> <li class=md-nav__item> <a href=../KNX/ class=md-nav__link> <span class=md-ellipsis> KNX </span> </a> </li> <li class=md-nav__item> <a href=../NodeRed/ class=md-nav__link> <span class=md-ellipsis> NodeRed </span> </a> </li> <li class=md-nav__item> <a href=../nymea/ class=md-nav__link> <span class=md-ellipsis> nymea </span> </a> </li> <li class=md-nav__item> <a href=../Octoprint/ class=md-nav__link> <span class=md-ellipsis> OctoPrint </span> </a> </li> <li class=md-nav__item> <a href=../openHAB/ class=md-nav__link> <span class=md-ellipsis> openHAB </span> </a> </li> <li class=md-nav__item> <a href=../otto/ class=md-nav__link> <span class=md-ellipsis> Otto </span> </a> </li> <li class=md-nav__item> <a href=https://github.com/arendst/Tasmota/issues/3769 class=md-nav__link> <span class=md-ellipsis> IOBroker </span> </a> </li> <li class=md-nav__item> <a href=https://github.com/tim-hellhake/tasmota-adapter class=md-nav__link> <span class=md-ellipsis> Mozilla WebThings Adapter </span> </a> </li> <li class=md-nav__item> <a href=https://github.com/hongtat/tasmota-connect class=md-nav__link> <span class=md-ellipsis> SmartThings </span> </a> </li> <li class=md-nav__item> <a href=https://github.com/Gifford47/tasmohab/blob/master/README.md class=md-nav__link> <span class=md-ellipsis> Tasmohab </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../Supported-Peripherals/ class=md-nav__link> <span class=md-ellipsis> Peripherals </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> Supported Devices </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Supported Devices </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Configuration-Procedure-for-New-Devices/ class=md-nav__link> <span class=md-ellipsis> Configure Unknown Device </span> </a> </li> <li class=md-nav__item> <a href="https://templates.blakadder.com/ " target='_blank""' class=md-nav__link> <span class=md-ellipsis> All Supported Devices </span> </a> </li> <li class=md-nav__item> <a href=../Pinouts/ class=md-nav__link> <span class=md-ellipsis> Wi-Fi Module Pinouts </span> </a> </li> <li class=md-nav__item> <a href=../Supported-Modules/ class=md-nav__link> <span class=md-ellipsis> Supported Modules </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> Help </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Help </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../FAQ/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> <li class=md-nav__item> <a href=../Troubleshooting/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting </span> </a> </li> <li class=md-nav__item> <a href=../Device-Recovery/ class=md-nav__link> <span class=md-ellipsis> Device Recovery </span> </a> </li> <li class=md-nav__item> <a href="https://discord.gg/Ks2Kzd4 " target='_blank""' class=md-nav__link> <span class=md-ellipsis> Discord Support </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=http://tasmota.github.io/install class=md-nav__link> <span class=md-ellipsis> Web Installer </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#deepsleep-modes-regular-time-based class=md-nav__link> <span class=md-ellipsis> DeepSleep modes (regular, time based) </span> </a> <nav class=md-nav aria-label="DeepSleep modes (regular, time based)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#repeating-regular-deepsleep-based-on-interval class=md-nav__link> <span class=md-ellipsis> Repeating regular deepsleep based on interval </span> </a> </li> <li class=md-nav__item> <a href=#deepsleep-wakeup-based-on-timer-events class=md-nav__link> <span class=md-ellipsis> DeepSleep wakeup based on TIMER events </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#methods-to-temporarily-disable-deepsleep-mode class=md-nav__link> <span class=md-ellipsis> Methods to (temporarily) disable DeepSleep mode </span> </a> <nav class=md-nav aria-label="Methods to (temporarily) disable DeepSleep mode"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#using-a-switch class=md-nav__link> <span class=md-ellipsis> Using a switch </span> </a> </li> <li class=md-nav__item> <a href=#using-mqtt class=md-nav__link> <span class=md-ellipsis> Using MQTT </span> </a> </li> <li class=md-nav__item> <a href=#using-smart-home-automation class=md-nav__link> <span class=md-ellipsis> Using smart home automation </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#rules class=md-nav__link> <span class=md-ellipsis> Rules </span> </a> </li> <li class=md-nav__item> <a href=#driver-writer-executing-commands-before-entering-deepsleep class=md-nav__link> <span class=md-ellipsis> Driver writer: Executing commands before entering DeepSleep </span> </a> </li> <li class=md-nav__item> <a href=#overcome-network-issues class=md-nav__link> <span class=md-ellipsis> Overcome network issues </span> </a> </li> <li class=md-nav__item> <a href=#deepsleep-algorithm-general-timing class=md-nav__link> <span class=md-ellipsis> DeepSleep Algorithm General Timing </span> </a> </li> <li class=md-nav__item> <a href=#esp8266-deepsleep-side-effects class=md-nav__link> <span class=md-ellipsis> ESP8266 DeepSleep Side-effects </span> </a> </li> <li class=md-nav__item> <a href=#log-output-explanation class=md-nav__link> <span class=md-ellipsis> Log Output Explanation </span> </a> </li> <li class=md-nav__item> <a href=#rules-to-adapt-deepsleep-period-to-battery-level class=md-nav__link> <span class=md-ellipsis> Rules to adapt DeepSleep period to battery level. </span> </a> </li> <li class=md-nav__item> <a href=#deepsleep-power-saving class=md-nav__link> <span class=md-ellipsis> DeepSleep Power Saving </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/tasmota/docs/blob/master/docs/DeepSleep.md title="Edit this page" class="md-content__button md-icon" rel=edit> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg> </a> <h1>DeepSleep</h1> <p>DeepSleep support for up to 10 years (i.e., 86,400 seconds = 1 day) (e.g., if used with KNX). During DeepSleep, the device is effectively <strong>off</strong> and, as such, it is not possible to modify DeepSleepTime without exiting DeepSleep. </p> <p><img alt src=../_media/deepsleep_minimal.png></p> <p>In order for the device to wake itself to perform its function during the DeepSleep cycle, the RST pin must be connected to the D0/GPIO16 pin. This is the only pin which can perform this function as the wake-up signal is sent from the RTC through D0/GPIO16 to RST. When connected to RST for DeepSleep purpose, GPIO16 may not be used for other functions. As such, it is recommended to leave it configured as <code>None (0)</code>. <em>On the diagram, black denotes existing parts and connections on a standard ESP board (mini-D1, NodeMCU, ...). Red denotes what is added to the DeepSleep feature.</em></p> <p><img alt src=../_media/deepsleep_gpio16_none.png></p> <h2 id=deepsleep-modes-regular-time-based>DeepSleep modes (regular, time based)<a class=headerlink href=#deepsleep-modes-regular-time-based title="Permanent link">~</a></h2> <p>There are TWO general methods to work with deepsleep. Method ONE wakes up the device on a regular interval, wait for TELEPERIOD and immediate go to deepsleep again. This is mostly to make regular measurements and send them to a MQTT broker. Method TWO is more complex and use TIMER events to wakeup the device. The way and when the device go to deepsleep again depends on the configuration. See explanation below.</p> <h3 id=repeating-regular-deepsleep-based-on-interval>Repeating regular deepsleep based on interval<a class=headerlink href=#repeating-regular-deepsleep-based-on-interval title="Permanent link">~</a></h3> <p>(<a href=../Commands/#deepsleeptime><code>DeepSleepTime</code></a>) <code>DeepSleepTime</code> sets the time the device remains in DeepSleep before it returns to full operating mode. Once the command is issued, the DeepSleep cycle commences. </p> <div class="admonition example"> <p class=admonition-title>Example</p> <p>With <code>DeepSleepTime 3600</code>, the device will wake up exactly every hour (e.g., 8:00am, 9:00am, ...). If you define <code>DeepSleepTime 86400</code> (i.e., 60*60*24), it will wake-up exactly at 0:00 local time. There is no option to shift the wakeup time; except changing the timezone. If you define <code>DeepSleepTime 600</code>, it will wake-up every 10 minutes (e.g., 8:00, 8:10, 8:20, ...).</p> </div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>The next wake time will always be an even number of <code>DeepSleepTime</code> cycles since the epoch (Midnight 1970-01-01). This may matter if the sleep time isn't an even number of minutes/hours (ex: 3660), such as when trying to wake at a specific time of day.</p> </div> <h3 id=deepsleep-wakeup-based-on-timer-events>DeepSleep wakeup based on TIMER events<a class=headerlink href=#deepsleep-wakeup-based-on-timer-events title="Permanent link">~</a></h3> <p>With Version 13.2 there is a new functionality to use TIMERS for the wakeup process on deepsleep. In this case the deepsleeptime will be dynamically calculated through the TIMERS. To enable TIMERS on deepsleep there must be a <code>rule1 Wakeup</code></p> <table> <thead> <tr> <th>rule1</th> <th style="text-align: center;">state</th> <th>Behavior</th> </tr> </thead> <tbody> <tr> <td><code>Wakeup</code></td> <td style="text-align: center;">ON/1</td> <td>Device will do a TELEPERIOD and go to deepsleep asap, similar to deepsleep with interval</td> </tr> <tr> <td><code>Wakeup</code></td> <td style="text-align: center;">OFF/0</td> <td>Device will stay ON until send to deepsleep with Restart 9 (deepsleep)</td> </tr> <tr> <td><code>Wakeup</code></td> <td style="text-align: center;">ONCE/5</td> <td>Device will do a TELEPERIOD and go to deepsleep asap, with the next wakeup the device will stay ON</td> </tr> </tbody> </table> <p>Now every TIMER that has RULE as an action will wakeup the device at the proposed time. You can define multiple timers and multiple wakeups also defined on sunset or sunrise. The process will always select the NEXT wakeup it finds. As soon as all conditions meet a 60 second timer countdown starts to send the device to deepsleep. To prevent this it is recommended to disbale ALL timers on the UI during definition. If you tag the rule1 with ONCE the device will stay awake after the deepsleep. To send the device to deepsleep e.g. at sunset another rule can be used to do this:</p> <div class=highlight><pre><span></span><code><span class=go>Rule2</span>
<span class=go>  on time#minute==%sunset% do rule1 5 endon</span>

<span class=go>Rule2 ON</span>
</code></pre></div> <p>Be aware that <code>rule1 Wakeup</code> will DISABLE the capability to use deepsleeptime. You have to clean rule1 if you want to use the regular wakeups through deepsleeptime window.</p> <p>Also be aware that <code>restart 9</code> does not trigger the deepsleep timing. It just send the device into deepsleep and you have to wake up the device externally.</p> <p><img alt src=../_media/deepsleep_timers.png></p> <p>Current timer will wakeup the device every day 1h after sunrise. The Time will be dynamically calculated.</p> <h2 id=methods-to-temporarily-disable-deepsleep-mode>Methods to (temporarily) disable DeepSleep mode<a class=headerlink href=#methods-to-temporarily-disable-deepsleep-mode title="Permanent link">~</a></h2> <h3 id=using-a-switch>Using a switch<a class=headerlink href=#using-a-switch title="Permanent link">~</a></h3> <p><img alt src=../_media/deepsleep_switch.png></p> <p>Select another GPIO (let's call it "GPIOn") and connect it GND. This can be performed through a switch per the schematic below. Flipping the switch to "ON" will prevent Tasmota to enter DeepSleep again after next wake-up until the switch is flipped back OFF. <em>On the diagram, blue denotes additional parts and connections to be able to disable DeepSleep.</em> GPIOn should be defined as <code>DeepSleep (182)</code> in the configuration as shown below:</p> <p><img alt src=../_media/deepsleep_deepsleep182.png></p> <p>The following GPIOs <strong>CANNOT</strong> be used for the purpose of temporarily disabling DeepSleep as described above:<br> - GPIO16 (because it is connected to RST),<br> - GPIO15 (because of an existing on-board pull-down resistor),<br> - GPIO0 (because pulling it down at wake up will enter serial bootload mode).<br></p> <p>All others GPIO should be acceptable.</p> <p>An interesting use-case is to disable DeepSleep when external power (USB, PSU, solar panel...) is applied to the device using a transistor.</p> <p><img alt="DeepSleep and transistor" src=../_media/deepsleep_transistor.png></p> <p>If the device is not (easily) accessible, methods can be used to disable the DeepSleep loop without physical access.</p> <h3 id=using-mqtt>Using MQTT<a class=headerlink href=#using-mqtt title="Permanent link">~</a></h3> <p>Send a retained <code>DeepSleepTime 0</code> command to your device. As the message is retained in the MQTT broker, the device will receive it as soon as it connects to the MQTT broker.</p> <div class="admonition example"> <p class=admonition-title>Example: Sending from another Tasmota</p> </div> <p>In another Tasmota console you can type the following command:<br> <code>Publish2 cmnd/%topic%/DeepSleepTime 0</code><br> To clear the retained message, once your device is out of DeepSleep, use:<br> <code>Publish2 cmnd/%topic%/DeepSleepTime</code></p> <div class="admonition example"> <p class=admonition-title>Example: Sending using mosquitto utilities</p> </div> <p>Command to send a retained message:<br> <code>mosquitto_pub -t "cmnd/myDeviceTopic/DeepsleepTime" -r -m "0"</code><br> Remove retained message<br> <code>mosquitto_pub -t "cmnd/myDeviceTopic/DeepsleepTime" -r -n</code><br></p> <p>You can also send retained message or clear them with other MQTT tools: MQTT Explorer, ....</p> <p>Once you have made your configuration change, you will need to re-enable DeepSleep mode using <code>DeepSleepTime</code> command.</p> <h3 id=using-smart-home-automation>Using smart home automation<a class=headerlink href=#using-smart-home-automation title="Permanent link">~</a></h3> <p>Configure a settable flag in your home automation hub (e.g., Node-Red, openHAB, Home Assistant). The flag should subscribe to the <code>tele/%topic%/LWT</code> topic for the payload <code>Online</code>. Alternatively, if testing the payload value is not easy, subscribe to the topic <code>tele/%topic%/STATE</code> which is the 2nd topic on which the device publish right after waking-up.</p> <p>The moment a message is received on this topic, the automation can publish a message to topic <code>cmnd/%topic%/DeepSleepTime</code> with payload <code>0</code>. This will cause the device to disable DeepSleep and allow maintenance such as firmware updates to be performed without having an unexpected DeepSleep event. Send the <code>DeepSleepTime 0</code> command <mark>only once</mark>.</p> <p>Once device maintenance is completed, place it back into DeepSleep mode using original configuration.</p> <h2 id=rules>Rules<a class=headerlink href=#rules title="Permanent link">~</a></h2> <div class="admonition example"> <p class=admonition-title>Example</p> <p>An example of a ruleset which deepsleeps a device with a RTC module attached during a certain portion of the day (i.e. at night). Mem1 is set to wakeup time in the morning (i.e. 540) and Mem2 to sleep time (i.e. 1080). For network attached devices with no RTC module, <code>time#initialized</code> trigger is better than <code>system#init</code>. Might be smart to have a DeepSleep gpio assigned if you need to access the device outside of normal awake hours. <div class=highlight><pre><span></span><code>rule1 
on system#init do backlog event timecheck=%time%; ruletimer1 1 endon
on time#minute do event timecheck=%time%; ruletimer1 1 endon
on event#timecheck&lt;%mem1% do Var1 3600 endon
on event#timecheck&gt;%mem1% do Var1 0 endon
on event#timecheck&gt;%mem2% do Var1 3600 endon
on rules#timer=1 do deepsleeptime %var1% endon
</code></pre></div></p> </div> <p>The following triggers can be used to execute commands upon wake-up or right before entering DeepSleep: - <code>Power1#Boot</code> : is the earliest trigger. But valid only if you have a <code>Relay</code> output defined. - <code>Switch1#Boot</code> : is the next trigger, also occur very early in the boot process. But valid only if you have <code>Switch</code> input defined. - <code>System#Boot</code> : is occurring later in the Tasmota boot process but is always available. - <code>System#Save</code> : is occurring right before a restart or before entering DeepSleep.</p> <p>For example the ruleset below turn on power right after Tasmota started, and turn it off just before entering DeepSleep <div class=highlight><pre><span></span><code>Rule1 ON Power1#Boot DO Power on ENDON ON System#Save DO Power off ENDON
</code></pre></div> Any rule apply AFTER the Init() procedures of all sensors/drivers. This does mean that a POWER OFF on the GPIO may prevent sensors from being initialized correctly during start-up (e.g. DS18B20) and do not show up in teleperiod message. To ensure the GPIO is HIGH during restart you should define in the <code>Configure</code> --&gt; <code>Configure module</code> --&gt; <code>GPIO x</code> to <code>Output Hi</code> instead of <code>RELAY 1</code> and avoid using any rules. To ensure the GPIO goes LOW after deepsleep you need to solder a 4.7K resistor between GND and the GPIO.</p> <p>Sequence is then as follow (only key lines are shown): <div class=highlight><pre><span></span><code>00:00:00.085 CFG: Loaded from File, Count 122
00:00:00.095 Project tasmota demo-sensor Version 9.5.0(tasmota-sensors)
00:00:00.105 RUL: POWER1#BOOT performs &quot;Power ON&quot;
00:00:00.109 RSL: POWER = {&quot;POWER&quot;:&quot;ON&quot;}
00:00:00.111 RSL: POWER = ON
00:00:04.454 WIF: Connecting to AP1 DEMOAP Channel 1 BSSId XX:XX:XX:XX:XX:XX in mode 11n as demo-sensor...
00:00:05.756 WIF: Connected
00:00:06.008 HTP: Web server active on dev-4119 with IP address 192.168.168.199
15:03:40.010 MQT: Attempting connection...
15:03:40.024 MQT: Connected
15:03:40.028 MQT: tele/demo-sensor/LWT = Online (retained)
15:03:40.032 MQT: cmnd/demo-sensor/POWER = 
15:03:40.047 MQT: stat/demo-sensor/POWER = {&quot;POWER&quot;:&quot;ON&quot;}
15:03:40.050 MQT: stat/demo-sensor/POWER = ON (retained)
15:03:44.472 MQT: tele/demo-sensor/STATE = {&quot;Time&quot;:&quot;2021-06-27T15:03:44+02:00&quot;,&quot;Uptime&quot;:&quot;0T00:00:13&quot;,&quot;UptimeSec&quot;:13,&quot;Heap&quot;:28,&quot;SleepMode&quot;:&quot;Dynamic&quot;,&quot;Sleep&quot;:50,&quot;LoadAvg&quot;:19,&quot;MqttCount&quot;:1,&quot;POWER&quot;:&quot;ON&quot;,&quot;Wifi&quot;:{&quot;AP&quot;:1,&quot;SSId&quot;:&quot;DEMOAP&quot;,&quot;BSSId&quot;:&quot;XX:XX:XX:XX:XX:XX&quot;,&quot;Channel&quot;:1,&quot;Mode&quot;:&quot;11n&quot;,&quot;RSSI&quot;:86,&quot;Signal&quot;:-57,&quot;LinkCount&quot;:1,&quot;Downtime&quot;:&quot;0T00:00:07&quot;}}
15:03:44.500 MQT: tele/demo-sensor/SENSOR = {&quot;Time&quot;:&quot;2021-06-27T15:03:44+02:00&quot;,&quot;Switch1&quot;:&quot;OFF&quot;,&quot;Switch2&quot;:&quot;ON&quot;} (retained)
15:03:44.515 RUL: SYSTEM#SAVE performs &quot;Power OFF&quot;
15:03:44.524 MQT: stat/demo-sensor/POWER = {&quot;POWER&quot;:&quot;OFF&quot;}
15:03:44.527 MQT: stat/demo-sensor/POWER = OFF (retained)
15:03:44.539 MQT: stat/demo-sensor/DEEPSLEEP = {&quot;DeepSleep&quot;:{&quot;Time&quot;:&quot;2021-06-27T15:04:00&quot;,&quot;Epoch&quot;:1624799040}}
15:03:47.433 APP: Sleeping
</code></pre></div></p> <h2 id=driver-writer-executing-commands-before-entering-deepsleep>Driver writer: Executing commands before entering DeepSleep<a class=headerlink href=#driver-writer-executing-commands-before-entering-deepsleep title="Permanent link">~</a></h2> <p>When writing a driver for a sensor, if the sensor supports a low power mode, it is a good practice to set the sensor in such low power mode in the FUNC_SAVE_BEFORE_RESTART handler. When Tasmota will restart at next wake-up, sensor will be automatically re-initialized. </p> <p>Example from <code>xsns_09_bmp.ino</code>: <div class=highlight><pre><span></span><code><span class=cp>#ifdef USE_DEEPSLEEP</span>
<span class=w>      </span><span class=k>case</span><span class=w> </span><span class=no>FUNC_SAVE_BEFORE_RESTART</span><span class=p>:</span>
<span class=w>        </span><span class=n>BMP_EnterSleep</span><span class=p>();</span>
<span class=w>        </span><span class=k>break</span><span class=p>;</span>
<span class=cp>#endif </span><span class=c1>// USE_DEEPSLEEP </span>
</code></pre></div></p> <p>In general you can also execute any command or special script <mark>BEFORE</mark> device goes into DeepSleep using handler FUNC_SAVE_BEFORE_RESTART as a predefined hook to implement your own procedure. This requires you to code your own function and self-compile custom firmware.</p> <h2 id=overcome-network-issues>Overcome network issues<a class=headerlink href=#overcome-network-issues title="Permanent link">~</a></h2> <p>If the device is not able to make a WIFI connection and get an IP during the first 15 seconds after boot it will go again without any further actions into deepsleep for another cycle. If you compile your own firmware you can change the timeout (e.g. 30 seconds) by setting <code>#define DEEPSLEEP_NETWORK_TIMEOUT 30</code> in <code>user_config.override</code> or disable completely (device stay online until network connected) with <code>#define DEEPSLEEP_NETWORK_TIMEOUT 0</code>. If MQTT or NTP does not work the TELEPERIOD will execute anyhow and send the device to deepsleep afterwards. A wrong NTP will result in wrong timestamp send to MQTT. A missing MQTT connection will avoid any send.</p> <p>Another method to send the device into deepsleep after start is creating a rule like the one below. In this case the timeout can be configured online and changed. <div class=highlight><pre><span></span><code><span class=go>Rule1</span>
<span class=go>  ON Dimmer#Boot DO RuleTimer1 30 ENDON</span>
<span class=go>  ON Rules#Timer=1 DO DeepSleepTime 3600 ENDON</span>

<span class=go>Rule1 ON</span>
</code></pre></div></p> <h2 id=deepsleep-algorithm-general-timing>DeepSleep Algorithm General Timing<a class=headerlink href=#deepsleep-algorithm-general-timing title="Permanent link">~</a></h2> <p>Let's assume you have set <code>DeepSleepTime 3600</code> (one hour) and <code>TelePeriod 60</code> (one minute). The device will first wake at 8:00 am. The device will boot and connect Wi-Fi. Next, the correct time must be synchronized from one of the NTP servers and initial telemetry is sent.</p> <p>DeepSleep is then triggered after the next TelePeriod event. In this example, it will occur after one minute. Telemetry will be collected and sent (e.g., via MQTT) and DeepSleep can happen. First, <code>Offline</code> is published to the LWT topic on MQTT. It then calculates the new sleeping time to wake-up at 9:00 am (3600 seconds after the last wake-up). At 9:00 am this same sequence of events happens again.</p> <p>If you want to minimize the time that the device is in operation, two special values for TelePeriod exist: 10 seconds and 300 seconds. Using either of these two exact values will prevent waiting for the next telemetry. DeepSleep will be triggered within a few second of the time being synchronized rather than waiting for the TelePeriod.</p> <h2 id=esp8266-deepsleep-side-effects>ESP8266 DeepSleep Side-effects<a class=headerlink href=#esp8266-deepsleep-side-effects title="Permanent link">~</a></h2> <p>Not all GPIO behave the same during DeepSleep. Some GPIO go HIGH, some LOW, some FOLLOW the relay but work only on FET transistors. As soon as current flows they go LOW. I use one GPIO to trigger a BC337 transistor to switch OFF all connected devices during DeepSleep.</p> <p>Findings:</p> <table> <thead> <tr> <th>Pin</th> <th style="text-align: center;">GPIO</th> <th>Behavior</th> </tr> </thead> <tbody> <tr> <td>D0</td> <td style="text-align: center;">16</td> <td>Excluded due to use as wake-up pin</td> </tr> <tr> <td>D1</td> <td style="text-align: center;">5</td> <td>KEEP STATE, go LOW if resistance to ground &lt; infinite</td> </tr> <tr> <td>D2</td> <td style="text-align: center;">4</td> <td>KEEP STATE, go LOW if resistance to ground &lt; infinite</td> </tr> <tr> <td>D3</td> <td style="text-align: center;">0</td> <td>HIGH</td> </tr> <tr> <td>D4</td> <td style="text-align: center;">2</td> <td>HIGH</td> </tr> <tr> <td>D5</td> <td style="text-align: center;">14</td> <td>HIGH, go LOW if resistance to ground &lt; infinite</td> </tr> <tr> <td>D6</td> <td style="text-align: center;">12</td> <td>HIGH, go LOW if resistance to ground &lt; infinite</td> </tr> <tr> <td>D7</td> <td style="text-align: center;">13</td> <td>HIGH, go LOW if resistance to ground &lt; infinite</td> </tr> <tr> <td>D8</td> <td style="text-align: center;">15</td> <td>LOW</td> </tr> </tbody> </table> <h2 id=log-output-explanation>Log Output Explanation<a class=headerlink href=#log-output-explanation title="Permanent link">~</a></h2> <p><em>(logging level <code>4</code>)</em></p> <p>When MQTT connects at <code>13:08:38</code>, this sets the system to READY. <div class=highlight><pre><span></span><code>13:08:43 MQT: tele/tasmota/INFO3 = {&quot;RestartReason&quot;:&quot;Deep-Sleep Wake&quot;}
13:08:44 APP: Boot Count 3
13:08:44 CFG: Saved to flash at F4, Count 96, Bytes 3824
</code></pre></div></p> <p>In the context of DeepSleep, maintaining a device boot count is not relevant. When DeepSleep is enabled, boot count will not be incremented. This avoids excessive flash writes which will deteriorate the flash memory chip and eventually cause the device to fail. Boot count incrementing can be enabled using <a href=../Commands/#setoption76><code>SetOption76</code></a>.</p> <p>In this example, TelePeriod is 10. Therefore when it is reached, telemetry reporting occurs. <div class=highlight><pre><span></span><code>13:08:48 MQT: tele/tasmota/STATE = {&quot;Time&quot;:&quot;2019-09-04T13:08:48&quot;,&quot;Epoch&quot;:1567595328,&quot;Uptime&quot;:&quot;0T00:00:14&quot;,&quot;UptimeSec&quot;:14,&quot;Heap&quot;:24,&quot;SleepMode&quot;:&quot;Dynamic&quot;,&quot;Sleep&quot;:50,&quot;LoadAvg&quot;:20,&quot;MqttCount&quot;:1,&quot;Wifi&quot;:{&quot;AP&quot;:1,&quot;SSId&quot;:&quot;MyWLAN&quot;,&quot;BSSId&quot;:&quot;AA:FF:AA:AA:AA:AA&quot;,&quot;Channel&quot;:11,&quot;RSSI&quot;:100,&quot;LinkCount&quot;:1,&quot;Downtime&quot;:&quot;0T00:00:08&quot;,&quot;DeepSleep&quot;:300,&quot;Heap&quot;:25160}}
13:08:48 MQT: tele/tasmota/SENSOR = {&quot;Time&quot;:&quot;2019-09-04T13:08:48&quot;,&quot;Epoch&quot;:1567595328,&quot;ANALOG&quot;:{&quot;A0&quot;:8}}
</code></pre></div></p> <p>Date and time is set, status and telemetry sent. Now start shutdown procedure.</p> <p>First, send MQTT offline. <code>13:08:48 MQT: state/sonoff/LWT = Offline</code></p> <p>DeepSleep is 300 seconds. Therefore +-30 sec is allowed as deviation between proposed wake-up time and real wake-up time. Reporting in 0.1sec. In this case wake-up was one second late. <code>13:08:48 Timeslip 0.1 sec:? -300 &lt; -10 &lt; 300</code></p> <p>If the error is in the range, this is tagged as a normal wake up where drift can be recalculated <code>13:08:48 Normal deepsleep? 1</code></p> <p>Recalculate a new drift that is a multiplier for the next wake-up in 1/10000. In this case, the multiplier is 1.0257 <code>13:08:48 % RTC new drift 10257</code></p> <p>And for information: New target wake-up time <code>13:08:48 Next wakeup 2019-09-04T13:10:00</code></p> <p>Based on run time and the error in the last loop, a new sleeping time will be calculated. This will be multiplied by the <code>deepsleep_slip</code> and, ideally, the device will wake up at the time above. <code>13:08:48 Sleeptime 285 sec, deepsleep_slip 10257</code></p> <p>The effectiveness of the compensation can be seen here. Instead of typically 160-200 seconds, most times it is better than 10 seconds in a one hour DeepSleep cycle.</p> <p><img alt=TempComp src=https://raw.githubusercontent.com/stefanbode/stefanbode.github.io/master/images/deepsleep_comp.png></p> <h2 id=rules-to-adapt-deepsleep-period-to-battery-level>Rules to adapt DeepSleep period to battery level.<a class=headerlink href=#rules-to-adapt-deepsleep-period-to-battery-level title="Permanent link">~</a></h2> <p>In some applications, it is interesting to adjust the DeepSleep period to the level of the battery. For this, we consider that:</p> <ul> <li>the battery level is measured by the ESP ADC with the appropriate voltage divider,</li> <li>the Tasmota ADC mode is set to Range mode,</li> <li><code>AdcParams 6</code> has been used so the range value represent the battery voltage in millivolts</li> <li>There is a <code>BatteryPercentage</code> feature that can be feeded by a rule and used here to drive DeepSleep behavior</li> </ul> <p>The below graph represent the adaptation paths we want to follow to adjust DeepSleepTime: one path while the level is dropping, another path while the level is rising.</p> <p><img alt="DeepSleep adjust graph" src=../_media/depsleep_adjust_graph.png></p> <p>To implement this in Tasmota we can use <a href=../Rules/ >Rules</a>. As Rules do not provide an AND operator, we also need the optional <code>IF</code> feature. This requires to <a href=../Compile-your-build/ >compile a customized firmware</a> with the following items in <code>user_config_override.h</code>:</p> <div class=highlight><pre><span></span><code><span class=cp>#define USE_RULES</span>
<span class=cp>#define SUPPORT_IF_STATEMENT</span>
</code></pre></div> <p>First, we need to know the current value of DeepSleepTime. Values for internal settings are not available as %variable% but they can generally be obtained by sending the command and capturing the result with a rule. To get the current value of DeepSleepTime, we need a trigger early in the boot process. For example <code>Wifi#Connected</code>.</p> <p>Our first rules to get the current DeepSleepTime into %var1% would be:</p> <div class=highlight><pre><span></span><code>ON Wifi#Connected DO Backlog DeepSleepTime ENDON
ON DeepSleepTime#Data DO var1 %value% ENDON
</code></pre></div> <p>The best moment to compare the battery level and decide if it is necessary to change the DeepSleepTime is right after the TelePeriod SENSOR message has been sent, which is just before Tasmota calculate the next wake-up time. So we can use <code>tele-ANALOG#Range</code> as a trigger for our rules. Using BREAK allows to compare the trigger only to the upper value of the segment and stop further rules evaluations if the comparison is met. In the rule statement for a given battery level, we compare the current value of DeepSleepTime (which is %var1%) with the value we vant (given by the graph). If the current value is lower than the value we want, we are on the decreasing path and we can apply the new value. If the current value is greater than the value we want, we are on the rising path and we can apply the new value.</p> <p><img alt="DeepSleep adjust rules" src=../_media/deepsleep_adjust_rules.png></p> <p>All above can be set into Rule1. As it is a long command, it may be necessary to enter the rule in 2 parts (note the usage of the <code>+</code>) :</p> <div class=highlight><pre><span></span><code>Rule1 on Wifi#Connected do backlog deepsleeptime endon on deepsleeptime#data do var1 %value% endon on tele-Analog#Range&lt;3450 do if (%var1%&lt;3600) deepsleeptime 3600 endif break on tele-Analog#Range&lt;3650 do if (%var1%&lt;1800) deepsleeptime 1800 endif break 
Rule1 +on tele-Analog#Range&lt;3800 do if (%var1%&lt;900) deepsleeptime 900 elseif (%var1%&gt;1800) deepsleeptime 1800 endif break on tele-Analog#Range&lt;4000 do if (%var1%&gt;900)deepsleeptime 900 endif break on tele-Analog#Range&gt;=4000 do if (%var1%&gt; 600) deepsleeptime 600 endif endon
</code></pre></div> <p>Don't forget to enable using <code>Rule1 1</code></p> <h2 id=deepsleep-power-saving>DeepSleep Power Saving<a class=headerlink href=#deepsleep-power-saving title="Permanent link">~</a></h2> <p>The amount of power saved during deep sleep depends significantly on the type of ESP module used. For example, an ESP-M3 module drops to 20-25 uA at 2.5-3.3 V when in deep sleep. Other devices, with onboard regulators, USB chips etc. like the WEMOS D1 Mini, may still require 18 mA at 5 V when in deep sleep (i.e.: greater than 1000 times more power).</p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://discord.gg/Ks2Kzd4 target=_blank rel=noopener title=discord.gg class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1.1s-.6.4-.8.8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2C162.5 39 122.2 51.5 84.1 69c-.3.1-.6.4-.8.7C7.1 183.5-13.8 294.6-3.6 404.2c0 .3.1.5.2.8s.3.4.5.6c44.4 32.9 94 58 146.8 74.2.4.1.8.1 1.1 0s.7-.4.9-.7c11.3-15.4 21.4-31.8 30-48.8.1-.2.2-.5.2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6.2-.9.3-.5.6-.7c3.1-2.3 6.2-4.7 9.1-7.1.3-.2.6-.4.9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1.7-.2 1-.2s.7.2.9.4c2.9 2.4 6 4.9 9.1 7.2.2.2.4.4.6.7s.2.6.2.9-.1.6-.3.9-.4.5-.6.6c-14.7 8.6-30 15.9-45.9 21.8-.2.1-.5.2-.7.4s-.3.4-.4.7-.1.5-.1.8.1.5.2.8c8.8 17 18.8 33.3 30 48.8.2.3.6.6.9.7s.8.1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2.2-.2.4-.4.5-.6s.2-.5.2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2m195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2"/></svg> </a> <a href=https://t.me/tasmota target=_blank rel=noopener title=t.me class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M256 8a248 248 0 1 0 0 496 248 248 0 1 0 0-496m115 168.7c-3.7 39.2-19.9 134.4-28.1 178.3-3.5 18.6-10.3 24.8-16.9 25.4-14.4 1.3-25.3-9.5-39.3-18.7-21.8-14.3-34.2-23.2-55.3-37.2-24.5-16.1-8.6-25 5.3-39.5 3.7-3.8 67.1-61.5 68.3-66.7.2-.7.3-3.1-1.2-4.4s-3.6-.8-5.1-.5c-2.2.5-37.1 23.5-104.6 69.1-9.9 6.8-18.9 10.1-26.9 9.9-8.9-.2-25.9-5-38.6-9.1-15.5-5-27.9-7.7-26.8-16.3.6-4.5 6.7-9 18.4-13.7 72.3-31.5 120.5-52.3 144.6-62.3 68.9-28.6 83.2-33.6 92.5-33.8 2.1 0 6.6.5 9.6 2.9 2 1.7 3.2 4.1 3.5 6.7.5 3.2.6 6.5.4 9.8z"/></svg> </a> <a href=https://github.com/tasmota target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"annotate": null, "base": "..", "features": ["navigation.instant", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "content.action.edit", "content.code.copy"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../assets/javascripts/bundle.79ae519e.min.js></script> <script src=https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js></script> <script src=../extra_javascript/tablesort.js></script> </body> </html>