<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Documentation (Wiki) for Tasmota"><link href=https://tasmota.github.io/docs/Lights/ rel=canonical><link href=../IPv6/ rel=prev><link href=../Matter/ rel=next><link rel=icon href=../_media/favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.3"><title>Lights - Tasmota</title><link rel=stylesheet href=../assets/stylesheets/main.484c7ddc.min.css><link rel=stylesheet href=../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Barlow:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Barlow";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../assets/css/anchor-fix.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-8J08F8X90S"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-8J08F8X90S",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-8J08F8X90S",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=blue data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#control-lights class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title=Tasmota class="md-header__button md-logo" aria-label=Tasmota data-md-component=logo> <img src=../_media/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Tasmota </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Lights </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=blue data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=blue data-md-color-accent=deep-purple aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/arendst/tasmota title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> arendst/tasmota </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=.. class=md-tabs__link> Home </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../Features/ class=md-tabs__link> Features </a> </li> <li class=md-tabs__item> <a href=../ESP32/ class=md-tabs__link> ESP32 </a> </li> <li class=md-tabs__item> <a href=../Integrations/ class=md-tabs__link> Smart Home Integrations </a> </li> <li class=md-tabs__item> <a href=../Supported-Peripherals/ class=md-tabs__link> Peripherals </a> </li> <li class=md-tabs__item> <a href=../Configuration-Procedure-for-New-Devices/ class=md-tabs__link> Supported Devices </a> </li> <li class=md-tabs__item> <a href=../FAQ/ class=md-tabs__link> Help </a> </li> <li class=md-tabs__item> <a href=http://tasmota.github.io/install class=md-tabs__link> Web Installer </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title=Tasmota class="md-nav__button md-logo" aria-label=Tasmota data-md-component=logo> <img src=../_media/logo.svg alt=logo> </a> Tasmota </label> <div class=md-nav__source> <a href=https://github.com/arendst/tasmota title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> arendst/tasmota </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1 id=__nav_1_label tabindex=0> <span class=md-ellipsis> Home </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Home </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> <span class=md-ellipsis> News </span> </a> </li> <li class=md-nav__item> <a href=../About/ class=md-nav__link> <span class=md-ellipsis> About </span> </a> </li> <li class=md-nav__item> <a href=../Getting-Started/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> </a> </li> <li class=md-nav__item> <a href=../Upgrading/ class=md-nav__link> <span class=md-ellipsis> Upgrading </span> </a> </li> <li class=md-nav__item> <a href=../MQTT/ class=md-nav__link> <span class=md-ellipsis> MQTT </span> </a> </li> <li class=md-nav__item> <a href=../Commands/ class=md-nav__link> <span class=md-ellipsis> Commands </span> </a> </li> <li class=md-nav__item> <a href=../Templates/ class=md-nav__link> <span class=md-ellipsis> Templates </span> </a> </li> <li class=md-nav__item> <a href=../Components/ class=md-nav__link> <span class=md-ellipsis> Components </span> </a> </li> <li class=md-nav__item> <a href=../Modules/ class=md-nav__link> <span class=md-ellipsis> Modules </span> </a> </li> <li class=md-nav__item> <a href=../Peripherals/ class=md-nav__link> <span class=md-ellipsis> Peripherals </span> </a> </li> <li class=md-nav__item> <a href=../WebUI/ class=md-nav__link> <span class=md-ellipsis> WebUI </span> </a> </li> <li class=md-nav__item> <a href=../Firmware-Builds/ class=md-nav__link> <span class=md-ellipsis> Firmware Builds </span> </a> </li> <li class=md-nav__item> <a href=../Compile-your-build/ class=md-nav__link> <span class=md-ellipsis> Compiling </span> </a> </li> <li class=md-nav__item> <a href=../Contributing/ class=md-nav__link> <span class=md-ellipsis> Contributing </span> </a> </li> <li class=md-nav__item> <a href=../Download/ class=md-nav__link> <span class=md-ellipsis> Download </span> </a> </li> <li class=md-nav__item> <a href=https://github.com/arendst/Tasmota/discussions/categories/show-and-tell class=md-nav__link> <span class=md-ellipsis> Project Showcase </span> </a> </li> <li class=md-nav__item> <a href=../For-Developers/ class=md-nav__link> <span class=md-ellipsis> For Developers </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex> <span class=md-ellipsis> Features </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Features </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Features/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../ADC/ class=md-nav__link> <span class=md-ellipsis> Analog Pin </span> </a> </li> <li class=md-nav__item> <a href=../ArtNet/ class=md-nav__link> <span class=md-ellipsis> ArtNet DMX </span> </a> </li> <li class=md-nav__item> <a href=../Buttons-and-Switches/ class=md-nav__link> <span class=md-ellipsis> Buttons and Switches </span> </a> </li> <li class=md-nav__item> <a href=../DeepSleep/ class=md-nav__link> <span class=md-ellipsis> DeepSleep </span> </a> </li> <li class=md-nav__item> <a href=../Device-Groups/ class=md-nav__link> <span class=md-ellipsis> Device Groups </span> </a> </li> <li class=md-nav__item> <a href=../Universal-Display-Driver/ class=md-nav__link> <span class=md-ellipsis> Universal Display and Universal Touch drivers (uDisplay/uTouch) </span> </a> </li> <li class=md-nav__item> <a href=../Displays/ class=md-nav__link> <span class=md-ellipsis> Displays </span> </a> </li> <li class=md-nav__item> <a href=../Dynamic-Sleep/ class=md-nav__link> <span class=md-ellipsis> Dynamic Sleep </span> </a> </li> <li class=md-nav__item> <a href=../I2CDEVICES/ class=md-nav__link> <span class=md-ellipsis> I2C Devices </span> </a> </li> <li class=md-nav__item> <a href=../I2S-Audio/ class=md-nav__link> <span class=md-ellipsis> I2S Audio </span> </a> </li> <li class=md-nav__item> <a href=../IPv6/ class=md-nav__link> <span class=md-ellipsis> IPv6 </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Lights </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Lights </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#control-lights class=md-nav__link> <span class=md-ellipsis> Control Lights </span> </a> <nav class=md-nav aria-label="Control Lights"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#with-webui class=md-nav__link> <span class=md-ellipsis> with WebUI </span> </a> </li> <li class=md-nav__item> <a href=#with-commands class=md-nav__link> <span class=md-ellipsis> with Commands </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#light-types class=md-nav__link> <span class=md-ellipsis> Light Types </span> </a> <nav class=md-nav aria-label="Light Types"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#switched-lights-aka-relays class=md-nav__link> <span class=md-ellipsis> Switched Lights aka Relays </span> </a> </li> <li class=md-nav__item> <a href=#1-channel-dimmable-light class=md-nav__link> <span class=md-ellipsis> 1 Channel - Dimmable Light </span> </a> </li> <li class=md-nav__item> <a href=#2-channels-cct-light class=md-nav__link> <span class=md-ellipsis> 2 Channels - CCT Light </span> </a> </li> <li class=md-nav__item> <a href=#3-channels-rgb-lights class=md-nav__link> <span class=md-ellipsis> 3 Channels - RGB Lights </span> </a> </li> <li class=md-nav__item> <a href=#4-channels-rgbw-lights class=md-nav__link> <span class=md-ellipsis> 4 Channels - RGBW Lights </span> </a> </li> <li class=md-nav__item> <a href=#5-channels-rgbcct-lights class=md-nav__link> <span class=md-ellipsis> 5 Channels - RGBCCT Lights </span> </a> </li> <li class=md-nav__item> <a href=#independent-pwm-channels class=md-nav__link> <span class=md-ellipsis> Independent PWM Channels </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#light-options class=md-nav__link> <span class=md-ellipsis> Light Options </span> </a> <nav class=md-nav aria-label="Light Options"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#gamma-correction class=md-nav__link> <span class=md-ellipsis> Gamma Correction </span> </a> </li> <li class=md-nav__item> <a href=#white-blend-mode class=md-nav__link> <span class=md-ellipsis> White Blend Mode </span> </a> </li> <li class=md-nav__item> <a href=#rgb-and-white-split class=md-nav__link> <span class=md-ellipsis> RGB and White Split </span> </a> </li> <li class=md-nav__item> <a href=#channel-remapping class=md-nav__link> <span class=md-ellipsis> Channel Remapping </span> </a> </li> <li class=md-nav__item> <a href=#disable-auto-power-on class=md-nav__link> <span class=md-ellipsis> Disable Auto Power On </span> </a> </li> <li class=md-nav__item> <a href=#pwm-ct class=md-nav__link> <span class=md-ellipsis> PWM CT </span> </a> </li> <li class=md-nav__item> <a href=#virtual-ct class=md-nav__link> <span class=md-ellipsis> Virtual CT </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#light-categories class=md-nav__link> <span class=md-ellipsis> Light Categories </span> </a> <nav class=md-nav aria-label="Light Categories"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#channel-controlled-lights class=md-nav__link> <span class=md-ellipsis> Channel Controlled Lights </span> </a> </li> <li class=md-nav__item> <a href=#pwm-dimmer-switches class=md-nav__link> <span class=md-ellipsis> PWM Dimmer Switches </span> </a> </li> <li class=md-nav__item> <a href=#addressable-leds class=md-nav__link> <span class=md-ellipsis> Addressable LEDs </span> </a> </li> <li class=md-nav__item> <a href=#status-leds class=md-nav__link> <span class=md-ellipsis> Status LEDs </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#esp32-only-features class=md-nav__link> <span class=md-ellipsis> ESP32 Only Features </span> </a> <nav class=md-nav aria-label="ESP32 Only Features"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#pwm6 class=md-nav__link> <span class=md-ellipsis> PWM6+ </span> </a> </li> <li class=md-nav__item> <a href=#auto-phasing-of-pwm class=md-nav__link> <span class=md-ellipsis> Auto-phasing of PWM </span> </a> </li> <li class=md-nav__item> <a href=#h-bridge class=md-nav__link> <span class=md-ellipsis> H-bridge </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../Matter/ class=md-nav__link> <span class=md-ellipsis> Matter </span> </a> </li> <li class=md-nav__item> <a href=../PIR-Motion-Sensors/ class=md-nav__link> <span class=md-ellipsis> PIR Motion Sensors </span> </a> </li> <li class=md-nav__item> <a href=../Power-Monitoring-Calibration/ class=md-nav__link> <span class=md-ellipsis> Power Monitoring Calibration </span> </a> </li> <li class=md-nav__item> <a href=../PWM-dimmer-switch/ class=md-nav__link> <span class=md-ellipsis> PWM Dimmer </span> </a> </li> <li class=md-nav__item> <a href=../Rules/ class=md-nav__link> <span class=md-ellipsis> Rules </span> </a> </li> <li class=md-nav__item> <a href=../Scripting-Language/ class=md-nav__link> <span class=md-ellipsis> Scripting Language </span> </a> </li> <li class=md-nav__item> <a href=../Blinds-and-Shutters/ class=md-nav__link> <span class=md-ellipsis> Shutters and Blinds </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_21> <label class=md-nav__link for=__nav_2_21 id=__nav_2_21_label tabindex=0> <span class=md-ellipsis> Protocol Bridging </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_21_label aria-expanded=false> <label class=md-nav__title for=__nav_2_21> <span class="md-nav__icon md-icon"></span> Protocol Bridging </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../TasmotaClient/ class=md-nav__link> <span class=md-ellipsis> Arduino MCU </span> </a> </li> <li class=md-nav__item> <a href=../Bluetooth/ class=md-nav__link> <span class=md-ellipsis> BLE Gateway </span> </a> </li> <li class=md-nav__item> <a href=../DALI/ class=md-nav__link> <span class=md-ellipsis> DALI </span> </a> </li> <li class=md-nav__item> <a href=../HDMI_CEC/ class=md-nav__link> <span class=md-ellipsis> HDMI CEC </span> </a> </li> <li class=md-nav__item> <a href=../Tasmota-IR/ class=md-nav__link> <span class=md-ellipsis> IR Communication </span> </a> </li> <li class=md-nav__item> <a href=../Projector/ class=md-nav__link> <span class=md-ellipsis> LCD/DLP Projector Control </span> </a> </li> <li class=md-nav__item> <a href=../LoRa-and-LoRaWan-Bridge/ class=md-nav__link> <span class=md-ellipsis> LoRa and LoRaWan Bridge </span> </a> </li> <li class=md-nav__item> <a href=../Modbus-Bridge/ class=md-nav__link> <span class=md-ellipsis> Modbus Bridge </span> </a> </li> <li class=md-nav__item> <a href=../OpenTherm/ class=md-nav__link> <span class=md-ellipsis> OpenTherm </span> </a> </li> <li class=md-nav__item> <a href=../RF-Protocol/ class=md-nav__link> <span class=md-ellipsis> RF Communication </span> </a> </li> <li class=md-nav__item> <a href=../Serial-to-TCP-Bridge/ class=md-nav__link> <span class=md-ellipsis> Serial to TCP Bridge </span> </a> </li> <li class=md-nav__item> <a href=../TWAI/ class=md-nav__link> <span class=md-ellipsis> TWAI </span> </a> </li> <li class=md-nav__item> <a href=../Telegram/ class=md-nav__link> <span class=md-ellipsis> Telegram </span> </a> </li> <li class=md-nav__item> <a href=../Zigbee/ class=md-nav__link> <span class=md-ellipsis> Zigbee </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../Smart-Meter-Interface/ class=md-nav__link> <span class=md-ellipsis> Smart Meter Interface </span> </a> </li> <li class=md-nav__item> <a href=../Thermostat/ class=md-nav__link> <span class=md-ellipsis> Thermostat </span> </a> </li> <li class=md-nav__item> <a href=../Timers/ class=md-nav__link> <span class=md-ellipsis> Timers </span> </a> </li> <li class=md-nav__item> <a href=../TLS/ class=md-nav__link> <span class=md-ellipsis> TLS Secured MQTT </span> </a> </li> <li class=md-nav__item> <a href=../TuyaMCU/ class=md-nav__link> <span class=md-ellipsis> TuyaMCU </span> </a> </li> <li class=md-nav__item> <a href=../UFS/ class=md-nav__link> <span class=md-ellipsis> Universal File System </span> </a> </li> <li class=md-nav__item> <a href=../Range-Extender/ class=md-nav__link> <span class=md-ellipsis> Wi-Fi Range Extender </span> </a> </li> <li class=md-nav__item> <a href=../Wireguard/ class=md-nav__link> <span class=md-ellipsis> Wireguard VPN </span> </a> </li> <li class=md-nav__item> <a href=../Tutorials/ class=md-nav__link> <span class=md-ellipsis> Projects and Tutorials </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> ESP32 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> ESP32 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ESP32/ class=md-nav__link> <span class=md-ellipsis> Tasmota32 Features </span> </a> </li> <li class=md-nav__item> <a href=../Berry/ class=md-nav__link> <span class=md-ellipsis> Berry </span> </a> </li> <li class=md-nav__item> <a href=../Bluetooth_ESP32/ class=md-nav__link> <span class=md-ellipsis> Bluetooth Low Energy </span> </a> </li> <li class=md-nav__item> <a href=../LVGL/ class=md-nav__link> <span class=md-ellipsis> LVGL </span> </a> </li> <li class=md-nav__item> <a href=../HASPmota/ class=md-nav__link> <span class=md-ellipsis> HASPmota </span> </a> </li> <li class=md-nav__item> <a href=../Matter/ class=md-nav__link> <span class=md-ellipsis> Matter </span> </a> </li> <li class=md-nav__item> <a href=../Tasmota-Extension/ class=md-nav__link> <span class=md-ellipsis> Tasmota Extension </span> </a> </li> <li class=md-nav__item> <a href=../Tasmota-Application/ class=md-nav__link> <span class=md-ellipsis> Tasmota Application Files </span> </a> </li> <li class=md-nav__item> <a href=../TFL/ class=md-nav__link> <span class=md-ellipsis> TensorFlow Lite </span> </a> </li> <li class=md-nav__item> <a href=../TouchPin/ class=md-nav__link> <span class=md-ellipsis> Touch GPIOs </span> </a> </li> <li class=md-nav__item> <a href=../Safeboot/ class=md-nav__link> <span class=md-ellipsis> Safeboot Partition Layout </span> </a> </li> <li class=md-nav__item> <a href=https://templates.blakadder.com/esp32 class=md-nav__link> <span class=md-ellipsis> Supported Devices </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Smart Home Integrations </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Smart Home Integrations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Integrations/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../Alexa/ class=md-nav__link> <span class=md-ellipsis> Alexa </span> </a> </li> <li class=md-nav__item> <a href=../AWS-IoT/ class=md-nav__link> <span class=md-ellipsis> AWS IoT </span> </a> </li> <li class=md-nav__item> <a href=../Domoticz/ class=md-nav__link> <span class=md-ellipsis> Domoticz </span> </a> </li> <li class=md-nav__item> <a href=../Home-Assistant/ class=md-nav__link> <span class=md-ellipsis> Home Assistant </span> </a> </li> <li class=md-nav__item> <a href=../Homebridge/ class=md-nav__link> <span class=md-ellipsis> Homebridge </span> </a> </li> <li class=md-nav__item> <a href=https://homey.app/en-us/app/com.paveld.tasmota/Tasmota-MQTT/ class=md-nav__link> <span class=md-ellipsis> Homey </span> </a> </li> <li class=md-nav__item> <a href=../HomeSeer/ class=md-nav__link> <span class=md-ellipsis> HomeSeer </span> </a> </li> <li class=md-nav__item> <a href=../IP-Symcon/ class=md-nav__link> <span class=md-ellipsis> IP Symcon </span> </a> </li> <li class=md-nav__item> <a href=../KNX/ class=md-nav__link> <span class=md-ellipsis> KNX </span> </a> </li> <li class=md-nav__item> <a href=../NodeRed/ class=md-nav__link> <span class=md-ellipsis> NodeRed </span> </a> </li> <li class=md-nav__item> <a href=../nymea/ class=md-nav__link> <span class=md-ellipsis> nymea </span> </a> </li> <li class=md-nav__item> <a href=../Octoprint/ class=md-nav__link> <span class=md-ellipsis> OctoPrint </span> </a> </li> <li class=md-nav__item> <a href=../openHAB/ class=md-nav__link> <span class=md-ellipsis> openHAB </span> </a> </li> <li class=md-nav__item> <a href=../otto/ class=md-nav__link> <span class=md-ellipsis> Otto </span> </a> </li> <li class=md-nav__item> <a href=https://github.com/arendst/Tasmota/issues/3769 class=md-nav__link> <span class=md-ellipsis> IOBroker </span> </a> </li> <li class=md-nav__item> <a href=https://github.com/tim-hellhake/tasmota-adapter class=md-nav__link> <span class=md-ellipsis> Mozilla WebThings Adapter </span> </a> </li> <li class=md-nav__item> <a href=https://github.com/hongtat/tasmota-connect class=md-nav__link> <span class=md-ellipsis> SmartThings </span> </a> </li> <li class=md-nav__item> <a href=https://github.com/Gifford47/tasmohab/blob/master/README.md class=md-nav__link> <span class=md-ellipsis> Tasmohab </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../Supported-Peripherals/ class=md-nav__link> <span class=md-ellipsis> Peripherals </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> Supported Devices </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Supported Devices </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Configuration-Procedure-for-New-Devices/ class=md-nav__link> <span class=md-ellipsis> Configure Unknown Device </span> </a> </li> <li class=md-nav__item> <a href="https://templates.blakadder.com/ " target='_blank""' class=md-nav__link> <span class=md-ellipsis> All Supported Devices </span> </a> </li> <li class=md-nav__item> <a href=../Pinouts/ class=md-nav__link> <span class=md-ellipsis> Wi-Fi Module Pinouts </span> </a> </li> <li class=md-nav__item> <a href=../Supported-Modules/ class=md-nav__link> <span class=md-ellipsis> Supported Modules </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> Help </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Help </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../FAQ/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> <li class=md-nav__item> <a href=../Troubleshooting/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting </span> </a> </li> <li class=md-nav__item> <a href=../Device-Recovery/ class=md-nav__link> <span class=md-ellipsis> Device Recovery </span> </a> </li> <li class=md-nav__item> <a href="https://discord.gg/Ks2Kzd4 " target='_blank""' class=md-nav__link> <span class=md-ellipsis> Discord Support </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=http://tasmota.github.io/install class=md-nav__link> <span class=md-ellipsis> Web Installer </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#control-lights class=md-nav__link> <span class=md-ellipsis> Control Lights </span> </a> <nav class=md-nav aria-label="Control Lights"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#with-webui class=md-nav__link> <span class=md-ellipsis> with WebUI </span> </a> </li> <li class=md-nav__item> <a href=#with-commands class=md-nav__link> <span class=md-ellipsis> with Commands </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#light-types class=md-nav__link> <span class=md-ellipsis> Light Types </span> </a> <nav class=md-nav aria-label="Light Types"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#switched-lights-aka-relays class=md-nav__link> <span class=md-ellipsis> Switched Lights aka Relays </span> </a> </li> <li class=md-nav__item> <a href=#1-channel-dimmable-light class=md-nav__link> <span class=md-ellipsis> 1 Channel - Dimmable Light </span> </a> </li> <li class=md-nav__item> <a href=#2-channels-cct-light class=md-nav__link> <span class=md-ellipsis> 2 Channels - CCT Light </span> </a> </li> <li class=md-nav__item> <a href=#3-channels-rgb-lights class=md-nav__link> <span class=md-ellipsis> 3 Channels - RGB Lights </span> </a> </li> <li class=md-nav__item> <a href=#4-channels-rgbw-lights class=md-nav__link> <span class=md-ellipsis> 4 Channels - RGBW Lights </span> </a> </li> <li class=md-nav__item> <a href=#5-channels-rgbcct-lights class=md-nav__link> <span class=md-ellipsis> 5 Channels - RGBCCT Lights </span> </a> </li> <li class=md-nav__item> <a href=#independent-pwm-channels class=md-nav__link> <span class=md-ellipsis> Independent PWM Channels </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#light-options class=md-nav__link> <span class=md-ellipsis> Light Options </span> </a> <nav class=md-nav aria-label="Light Options"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#gamma-correction class=md-nav__link> <span class=md-ellipsis> Gamma Correction </span> </a> </li> <li class=md-nav__item> <a href=#white-blend-mode class=md-nav__link> <span class=md-ellipsis> White Blend Mode </span> </a> </li> <li class=md-nav__item> <a href=#rgb-and-white-split class=md-nav__link> <span class=md-ellipsis> RGB and White Split </span> </a> </li> <li class=md-nav__item> <a href=#channel-remapping class=md-nav__link> <span class=md-ellipsis> Channel Remapping </span> </a> </li> <li class=md-nav__item> <a href=#disable-auto-power-on class=md-nav__link> <span class=md-ellipsis> Disable Auto Power On </span> </a> </li> <li class=md-nav__item> <a href=#pwm-ct class=md-nav__link> <span class=md-ellipsis> PWM CT </span> </a> </li> <li class=md-nav__item> <a href=#virtual-ct class=md-nav__link> <span class=md-ellipsis> Virtual CT </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#light-categories class=md-nav__link> <span class=md-ellipsis> Light Categories </span> </a> <nav class=md-nav aria-label="Light Categories"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#channel-controlled-lights class=md-nav__link> <span class=md-ellipsis> Channel Controlled Lights </span> </a> </li> <li class=md-nav__item> <a href=#pwm-dimmer-switches class=md-nav__link> <span class=md-ellipsis> PWM Dimmer Switches </span> </a> </li> <li class=md-nav__item> <a href=#addressable-leds class=md-nav__link> <span class=md-ellipsis> Addressable LEDs </span> </a> </li> <li class=md-nav__item> <a href=#status-leds class=md-nav__link> <span class=md-ellipsis> Status LEDs </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#esp32-only-features class=md-nav__link> <span class=md-ellipsis> ESP32 Only Features </span> </a> <nav class=md-nav aria-label="ESP32 Only Features"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#pwm6 class=md-nav__link> <span class=md-ellipsis> PWM6+ </span> </a> </li> <li class=md-nav__item> <a href=#auto-phasing-of-pwm class=md-nav__link> <span class=md-ellipsis> Auto-phasing of PWM </span> </a> </li> <li class=md-nav__item> <a href=#h-bridge class=md-nav__link> <span class=md-ellipsis> H-bridge </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/tasmota/docs/blob/master/docs/Lights.md title="Edit this page" class="md-content__button md-icon" rel=edit> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg> </a> <h1>Lights</h1> <div class="admonition info"> <p class=admonition-title>You know what lights do.... Right? ðŸ’¡</p> </div> <h2 id=control-lights>Control Lights<a class=headerlink href=#control-lights title="Permanent link">~</a></h2> <h3 id=with-webui>with WebUI<a class=headerlink href=#with-webui title="Permanent link">~</a></h3> <p><img style=float:right;height:120px alt=Tasmota_on-off src=../_media/light_UI_5channel.png></p> <p>Tasmota webUI displays <strong>Brightness</strong>, <strong>CT</strong>, <strong>White</strong>, <strong>Color Picker</strong>, <strong>Color Saturation</strong> or <strong>PWM Level</strong> sliders depending on the light component, the number of PWM channels configured and SetOptions used. </p> <p><br clear=right></p> <p><img style="float:right;;height:100px; padding:5px" alt=HSV src=https://user-images.githubusercontent.com/49731213/71559882-a2d1aa80-2a63-11ea-8bb9-6d4b98144809.jpg></p> <p>Tasmota uses a HSB color model, which besides other more subtile differences compared to HSL means, that the color must be desaturated to reach complete black or white.</p> <table> <thead> <tr> <th>Control</th> <th>Range</th> <th>Commands and details</th> </tr> </thead> <tbody> <tr> <td><strong>Brightness</strong></td> <td>0..100 (percent)</td> <td><code>Dimmer</code>, <code>HSBColor3</code>: Brightness of the light</td> </tr> <tr> <td><strong>Hue</strong></td> <td>0..359 (degrees)</td> <td><code>HSBColor1</code>: Color as an angle in the color wheel<br><img width=240 alt=Hue src=https://user-images.githubusercontent.com/49731213/71559624-ae6fa200-2a60-11ea-938a-024376dc00d2.png></td> </tr> <tr> <td><strong>Sat</strong></td> <td>0..100 (percent)</td> <td><code>HSBColor2</code>: saturation of the color, 0=grey/white, 100=pure color</td> </tr> <tr> <td><strong>CT</strong></td> <td>153..500 (mireds)</td> <td><code>CT</code>: white color temperature, from 153 (Cold White) to 500(Warm White)<br><img width=240 alt=Mireds src=https://user-images.githubusercontent.com/49731213/71559840-0909fd80-2a63-11ea-8e15-efb8cce3575b.jpg></td> </tr> </tbody> </table> <h3 id=with-commands>with Commands<a class=headerlink href=#with-commands title="Permanent link">~</a></h3> <p>See <a href=../Commands/#light><strong>light commands</strong></a> for how to control lights.</p> <h2 id=light-types>Light Types<a class=headerlink href=#light-types title="Permanent link">~</a></h2> <h3 id=switched-lights-aka-relays>Switched Lights aka Relays<a class=headerlink href=#switched-lights-aka-relays title="Permanent link">~</a></h3> <p><img style="float:right; padding:5px" width=180 alt=Tasmota_on-off src=https://user-images.githubusercontent.com/49731213/71555057-8d3e8f80-2a27-11ea-8fc5-4ecaed755bd5.png></p> <p>Switched or On/Off lights are controlled through <code>Relay</code> GPIOs.</p> <p>If you define multiple relays, they are controlled with <a href=../Commands/#power><code>Power&lt;x&gt;</code></a> starting at <code>x=1</code>.</p> <p><strong>Alexa</strong>: You can use Wemo emulation, your device will appear as a switch. You can change it to a light in the Alexa app.</p> <p><strong>Alexa</strong>: If you have one or multiple relays, you can use Philips Hue emulation. All devices will appear as On/Off lights, and named accordingly to <a href=../Commands/#friendlyname><code>FriendlyName</code></a>. Note: If you have only Echo Spot 2nd generation, your light will have a dummy dimmer.</p> <p><br clear=right></p> <table> <thead> <tr> <th>Configuration</th> <th>(see below)</th> </tr> </thead> <tbody> <tr> <td>Commands</td> <td><a href=../Commands/#power><code>Power</code></a></td> </tr> <tr> <td>Configuration</td> <td>none</td> </tr> </tbody> </table> <h3 id=1-channel-dimmable-light>1 Channel - Dimmable Light<a class=headerlink href=#1-channel-dimmable-light title="Permanent link">~</a></h3> <p><img align=right alt="Example light 1 channel" src=https://user-images.githubusercontent.com/49731213/71555196-9e889b80-2a29-11ea-9f96-fc47ad65ef43.png width=180></p> <p>1 channel lights are often white lights with On/Off controls and dimmer.</p> <p><strong>Alexa</strong>: You can use Philips Hue emulation, the light will appear as white light with dimmer. <br clear=right> <img align=right alt=Robotdyn-Dimmermodul src=../_media/peripherals/Robotdyn-Dimmermodul-1Kanal.jpg width=180></p> <p><strong>Leading edge dimmer</strong>: You can also configure a leading edge dimmer on 230V with the 1 channel configuration. In this case you need a TRIAC and a zero-cross detection that give a pulse with every crossing of the 0V of the sinus curve. The dimmer is power callibrated. 10% --&gt; 10% light or power consumption on a device like a heater. The Dimmer is e.g. suitable to dynamically pump remaining solar power into a heat sink. <br clear=right></p> <details class=summary> <summary>Robotdyn AC dimmer configuration</summary> <p>Connect zero-crossing to GPIO of Counter4. Define a PWM and connect</p> <table> <thead> <tr> <th>Configuration</th> <th>(see below)</th> </tr> </thead> <tbody> <tr> <td>Dimmer,Channel1</td> <td>PWM1</td> </tr> <tr> <td>Channel2</td> <td>PWM2 (optional)</td> </tr> <tr> <td>Channel3</td> <td>PWM3 (optional)</td> </tr> <tr> <td>Channelxx</td> <td>PWMxx (optional)</td> </tr> <tr> <td>Zero-Cross PIN</td> <td>COUNTER4 (mandatory)</td> </tr> <tr> <td>Commands</td> <td><code>ZCDimmerSet</code></td> </tr> </tbody> </table> <p>Example schematic:<br> <img alt="ZCDimmer example schematic" src=../_media/peripherals/ZCDimmer_Schematic.png></p> <p>Example config:<br> <img alt="ZCDimmer example config" src=../_media/peripherals/ZCDimmer_Config.png width=300></p> <p>Preferably before connecting the ZC &amp; PWM perform the following commands:</p> <ul> <li><a href=../Commands/#setoption99><code>SetOption99 1</code></a> -&gt; to enable detection of the raising edge of the zero-crossing</li> <li><a href=../Commands/#setoption68><code>SetOption68 1</code></a> -&gt; with more than ONE PWM this will all operate as single lights. Control with [<code>channelx 1..100</code>]</li> <li><a href=../Commands/#ledtable><code>LedTable 0</code></a> -&gt; for normal lamps or motors. Recommended</li> <li><a href=../Commands/#savedata><code>savedata 0</code></a> -&gt; Saving the current status create small flickering. OFF prevent this. On ESP32 recommended. Do not change after reboot!</li> </ul> </details> <table> <thead> <tr> <th>Configuration</th> <th>(see below)</th> </tr> </thead> <tbody> <tr> <td>Commands</td> <td><a href=../Commands/#power><code>Power</code></a>, <a href=../Commands/#dimmer><code>Dimmer</code></a>, <a href=../Commands/#channel><code>Channel</code></a>, <a href=../Commands/#fade><code>Fade</code></a>, <a href=../Commands/#speed><code>Speed</code></a></td> </tr> <tr> <td>Options</td> <td><a href=#disable-auto-power-on><strong>Auto Power On</strong></a>, <a href=#independent-pwm-channels><strong>Independant PWM Channels</strong></a>, <a href=#gamma-correction><strong>Gamma Correction</strong></a></td> </tr> </tbody> </table> <h3 id=2-channels-cct-light>2 Channels - CCT Light<a class=headerlink href=#2-channels-cct-light title="Permanent link">~</a></h3> <p><img style=float:right;width:180px alt=CCT src=https://user-images.githubusercontent.com/49731213/71555483-3471f580-2a2d-11ea-8eff-8a76e3555ef5.png></p> <p>2 channels lights are white lights with correlated color temperature (CCT) controls from Cold White (CT=153) to Warm White (CT=500).</p> <p><strong>Alexa</strong>: You can use Philips Hue emulation, the light will appear as white light with color temperature. Control through the Alexa app is limited to the <code>CT</code> range <code>199..383</code>.</p> <table> <thead> <tr> <th>Configuration</th> <th>(see below)</th> </tr> </thead> <tbody> <tr> <td>Commands</td> <td><a href=../Commands/#power><code>Power</code></a>, <a href=../Commands/#dimmer><code>Dimmer</code></a>, <a href=../Commands/#color><code>Color</code></a>, <a href=../Commands/#white><code>White</code></a>, <a href=../Commands/#ct><code>CT</code></a></td> </tr> <tr> <td>Options</td> <td><a href=#disable-auto-power-on><strong>Auto Power On</strong></a>, <a href=#independent-pwm-channels><strong>Independant PWM Channels</strong></a>, <a href=#gamma-correction><strong>Gamma Correction</strong></a>, <a href=#pwm-ct><strong>PWM CT</strong></a></td> </tr> </tbody> </table> <p><br clear=right></p> <h3 id=3-channels-rgb-lights>3 Channels - RGB Lights<a class=headerlink href=#3-channels-rgb-lights title="Permanent link">~</a></h3> <p><img style="float:right; width:180px" alt=RGB src=https://user-images.githubusercontent.com/49731213/71555478-11474600-2a2d-11ea-88e5-94a8eac3560a.png></p> <p>3 channel lights are RGB color lights. You can set color either via RGB or HSB (<em>not HSL</em>). Alexa support also allows XY color, but that is not supported through commands.</p> <p><strong>Alexa</strong>: You can use Philips Hue emulation, the light will appear as Color light.</p> <table> <thead> <tr> <th>Configuration</th> <th>(see below)</th> </tr> </thead> <tbody> <tr> <td>Commands</td> <td><a href=../Commands/#power><code>Power</code></a>, <a href=../Commands/#dimmer><code>Dimmer</code></a>, <a href=../Commands/#color><code>Color</code></a>, <a href=../Commands/#hsbcolor><code>HSBColor</code></a></td> </tr> <tr> <td>Options</td> <td><a href=#disable-auto-power-on><strong>Auto Power On</strong></a>, <a href=#pwm-channel-configuration><strong>PWM Channel Configuration</strong></a>, <a href=#gamma-correction><strong>Gamma Correction</strong></a>, <a href=#channel-remapping><strong>Channel Remapping</strong></a></td> </tr> </tbody> </table> <p><br clear=right></p> <h3 id=4-channels-rgbw-lights>4 Channels - RGBW Lights<a class=headerlink href=#4-channels-rgbw-lights title="Permanent link">~</a></h3> <p><img style="float:right; width:180px; padding:5px" alt=RGBW-2 src=https://user-images.githubusercontent.com/49731213/71555832-65075e80-2a30-11ea-9ab6-66688081ef48.png><img style="float:right; width:180px; padding:5px" alt="RGBW using RGB and White Split" src=https://user-images.githubusercontent.com/49731213/71555488-48b5f280-2a2d-11ea-8173-1fd45cd5a1e3.png></p> <p>4 channel lights are RGBW, i.e. RGB light and an additional White light. White can be either Warm White or Cold White depending on the manufacturer.</p> <p><strong>Alexa</strong>: You can use Philips Hue emulation, the light will appear as Color light and White light with CT control. The CT control is only present to force pure white instead of RGB white. Changing CT will have no effect.</p> <p><br clear=right></p> <div class="admonition failure"> <p class=admonition-title>There is no White only slider in the UI for 4 channel lights</p> <p>Use <a href=../Commands/#white><code>White</code></a> commands or set up <a href=#white-blend-mode>White Blend Mode</a> or <a href=#rgb-and-white-split>RGB and White Split</a>.</p> </div> <table> <thead> <tr> <th>Configuration</th> <th>(see below)</th> </tr> </thead> <tbody> <tr> <td>Commands</td> <td><a href=../Commands/#power><code>Power</code></a>, <a href=../Commands/#dimmer><code>Dimmer</code></a>, <a href=../Commands/#color><code>Color</code></a>, <a href=../Commands/#hsbcolor><code>HSBColor</code></a>, <a href=../Commands/#white><code>White</code></a></td> </tr> <tr> <td>Options</td> <td><a href=#disable-auto-power-on><strong>Auto Power On</strong></a>, <a href=#pwm-channel-configuration><strong>PWM Channel Configuration</strong></a>, <a href=#gamma-correction><strong>Gamma Correction</strong></a>, <a href=#channel-remapping><strong>Channel Remapping</strong></a>, <a href=#white-blend-mode><strong>White Blend Mode</strong></a>, <a href=#rgb-and-white-split><strong>RGB and White Split</strong></a></td> </tr> </tbody> </table> <div class="admonition danger"> <p class=admonition-title>Danger</p> <p>Some lights have limited power supply that do not allow all channels to be at full power at the same time. Be careful not to burn out your light if you force all channels to be on using <a href=../Commands/#color><code>Color</code></a> or <a href=#rgb-and-white-split>RGB and White Split</a>.</p> </div> <h3 id=5-channels-rgbcct-lights>5 Channels - RGBCCT Lights<a class=headerlink href=#5-channels-rgbcct-lights title="Permanent link">~</a></h3> <p><img style="float:right; padding:5px" width=180 alt=Tasmota_5_2 src=https://user-images.githubusercontent.com/49731213/71555844-8405f080-2a30-11ea-98c9-ea247cbedbc7.png><img style="float:right; padding:5px" width=180 alt="RGBCCT using RGB and White Split" src=https://user-images.githubusercontent.com/49731213/71555498-57040e80-2a2d-11ea-867c-a37d591930d2.png></p> <p>5 channel lights are RGBCCT - a 3 channel RGB light and an additional 2 channel CCT light.</p> <p><strong>Alexa</strong>: You can use Philips Hue emulation, the light will appear as Color light and White light with CT control.</p> <p><br clear=right></p> <table> <thead> <tr> <th>Configuration</th> <th>(see below)</th> </tr> </thead> <tbody> <tr> <td>Commands</td> <td><a href=../Commands/#power><code>Power</code></a>, <a href=../Commands/#dimmer><code>Dimmer</code></a>, <a href=../Commands/#color><code>Color</code></a>, <a href=../Commands/#hsbcolor><code>HSBColor</code></a>, <a href=../Commands/#white><code>White</code></a>, <a href=../Commands/#ct><code>CT</code></a></td> </tr> <tr> <td>Options</td> <td><a href=#disable-auto-power-on><strong>Auto Power On</strong></a>, <a href=#pwm-channel-configuration><strong>PWM Channel Configuration</strong></a>, <a href=#gamma-correction><strong>Gamma Correction</strong></a>, <a href=#channel-remapping><strong>Channel Remapping</strong></a>, <a href=#white-blend-mode><strong>White Blend Mode</strong></a>, <a href=#rgb-and-white-split><strong>RGB and White Split</strong></a></td> </tr> </tbody> </table> <div class="admonition danger"> <p class=admonition-title>Danger</p> <p>Some lights have limited power supply that do not allow all channels to be at full power at the same time. Be careful not to burn out your light if you force all channels via <a href=../Commands/#color><code>Color</code></a> or <a href=#rgb-and-white-split>RGB and White Split</a></p> </div> <h3 id=independent-pwm-channels>Independent PWM Channels<a class=headerlink href=#independent-pwm-channels title="Permanent link">~</a></h3> <p><img style=float:right;width:180px alt=Tasmota_multi src=https://user-images.githubusercontent.com/49731213/71555865-bdd6f700-2a30-11ea-8bdb-9dda72139a9a.png></p> <p>Any combination of Relays and PWMs, when enabling <a href=../Commands/#setoption68><code>SetOption68 1</code></a>. Splits off the light into individually controlled Channels (Useful when connecting multiple 1 channel strips to a single controller)</p> <table> <thead> <tr> <th>Configuration</th> <th>(see below)</th> </tr> </thead> <tbody> <tr> <td>Commands</td> <td><a href=../Commands/#power><code>Power</code></a>, <a href=../Commands/#channel><code>Channel</code></a>, <a href=../Commands/#color><code>Color</code></a></td> </tr> <tr> <td>Options</td> <td><a href=#disable-auto-power-on><strong>Auto Power On</strong></a>, <a href=#pwm-channel-configuration><strong>PWM Channel Configuration</strong></a>, <a href=#gamma-correction><strong>Gamma Correction</strong></a></td> </tr> </tbody> </table> <p><br clear=right></p> <h2 id=light-options>Light Options<a class=headerlink href=#light-options title="Permanent link">~</a></h2> <h3 id=gamma-correction>Gamma Correction<a class=headerlink href=#gamma-correction title="Permanent link">~</a></h3> <p>Gamma Correction is enabled by default in Tasmota (<a href=../Commands/#ledtable><code>LedTable 1</code></a>).</p> <p><img style="float:right; width:200px" src=https://user-images.githubusercontent.com/49731213/71531106-798f0e00-28ed-11ea-8916-9ce2e9b98e27.png></p> <p>Human eye perception of brightness is non linear, bringing back linearity needs a trick called <a href=https://learn.adafruit.com/led-tricks-gamma-correction>Gamma Correction</a>.</p> <p>Some lights have hardware gamma correction (e.g., Sonoff B1). In that case, software gamma correction should be disabled with <a href=../Commands/#ledtable><code>LedTable 0</code></a>.</p> <p>The curve used: orange=ideal, blue=tasmota.</p> <div class="admonition question"> <p class=admonition-title>How do I know if I have hardware gamma correction?</p> <p>If you find your light very dark even with <a href=../Commands/#dimmer><code>Dimmer 40</code></a>, it can mean either you have hardware PWM, disable it with <a href=../Commands/#ledtable><code>LedTable 0</code></a>, or you need to apply a minimum PWM value, use <a href=../Commands/#dimmerrange><code>DimmerRange 40,100</code></a> (adapt to the best value).</p> </div> <div class="admonition quote"> <p>Internally Tasmota uses 10 bits resolution PWM to get smoother levels at low brightness. </p> </div> <p>When using <code>Fade</code> mode, a different Gamma curve (called <code>gamma_fast</code>). This cruve cheats slightly and makes lights increase brighness faster then normal; otherwise the light starts glowing very slowly and gives the impression that the light is not responsive.</p> <h3 id=white-blend-mode>White Blend Mode<a class=headerlink href=#white-blend-mode title="Permanent link">~</a></h3> <p>White Blend Mode mixes in the white channel with RGB colors while controlling the RGB light which results in a better and brighter color output. It is used only with 4 channel (RGBW) and 5 channel (RGBCCT) lights.</p> <p>Enable it with <a href=../Commands/#setoption105><code>SetOption105 1</code></a>.</p> <p>For Tasmota versions before 8.5 use command <a href=../Commands/#rgbwwtable><code>RGBWWTable 255,255,255,0</code></a> instead.</p> <h4 id=calibration-optional>Calibration (optional)<a class=headerlink href=#calibration-optional title="Permanent link">~</a></h4> <p>Generally white LEDs are brighter than RGB LEDs. If you want to keep the same brightness, you need to calibrate the white level. In this mode, any white component will be removed from RGB LEDs and sent to the white LEDs. This makes whites look much better.</p> <div class="admonition example"> <p class=admonition-title>Example</p> <p><code>Color 30508000</code> will be converted to <code>Color 0020503000</code> (0x30 is subtracted from RGB channels and added to the White channel)</p> </div> <p>To calibrate a RGBW light:</p> <ol> <li><code>Color FFFFFF00</code></li> <li><code>RGBWWTable 255,255,255,255,255</code> - reset to RGB mode</li> <li><code>RGBWWTable 255,255,255,&lt;n&gt;,0</code> - (begin the calibration process with <code>&lt;n&gt;</code> == 150)</li> <li>If too bright, decrease <code>&lt;n&gt;</code>. If too dim, increase <code>&lt;n&gt;</code></li> <li>Go back to step 2 and iterate until satisfied with the color intensities.</li> </ol> <div class="admonition example"> <p class=admonition-title>Calibration examples for specific devices:</p> <p>Sonoff B1: <code>RGBWWTable 255,255,255,35,0</code> Teckin SB50: <code>RGBWWTable 255,255,255,80,0</code></p> </div> <h3 id=rgb-and-white-split>RGB and White Split<a class=headerlink href=#rgb-and-white-split title="Permanent link">~</a></h3> <p><a href=../Commands/#setoption37><code>SetOption37 128</code></a></p> <p>By default RGBW and RGBCCT lights can only be controlled in single mode, either RGB or White (e.g., Turning on CT lights turns off RGB lights and vice versa).</p> <p>Use <a href=../Commands/#setoption37><code>SetOption37 128</code></a> to split RGB and White into 2 independent lights. If you are already using Channel Remapping, just add <code>128</code> to the value of <a href=../Commands/#setoption37><code>SetOption37</code></a>.</p> <h3 id=channel-remapping>Channel Remapping<a class=headerlink href=#channel-remapping title="Permanent link">~</a></h3> <p><a href=../Commands/#setoption37><code>SetOption37</code></a></p> <p><a href=../SetOption37/ >Read More</a></p> <h3 id=disable-auto-power-on>Disable Auto Power On<a class=headerlink href=#disable-auto-power-on title="Permanent link">~</a></h3> <p>Lights are always powered on when a light command or a webUI slider is used and automatically powered off when color is set to black or <code>Dimmer</code> is set to <code>0</code>.</p> <p>When enabling <a href=../Commands/#setoption20><code>SetOption20 1</code></a> any change to webUI sliders or using commands <code>CT</code>, <code>Dimmer</code>, <code>HSBColor3</code>, <code>Color</code> or <code>Channel</code> will not automatically power on the light if it is off.</p> <h3 id=pwm-ct>PWM CT<a class=headerlink href=#pwm-ct title="Permanent link">~</a></h3> <p><code>Module 48</code> or <code>SetOption92 1</code></p> <p>Some CCT lights use PWM1 for brightness and PWM2 for color temperature (instead of PWM1 for Cold White and PWM2 for Warm White).</p> <p>For these lights, use <code>Module 48</code> aka Philips Xiaomi mode, or <code>SetOption92 1</code> (supported since v.8.2.0.5)</p> <h3 id=virtual-ct>Virtual CT<a class=headerlink href=#virtual-ct title="Permanent link">~</a></h3> <p><em>this feature is experimental and will probably not give brilliant results</em></p> <p>Used with 4 channel RGBW lights to simulate the missing white channel (cold or warm) using RGB channels.</p> <p>Enable Virtual CT with <code>SetOption106 1</code> then choose which type of white you're simulating with <a href=../Commands/#setoption107><code>SetOption107</code></a> where <code>0</code> is warm white and <code>1</code> is cold white </p> <h2 id=light-categories>Light Categories<a class=headerlink href=#light-categories title="Permanent link">~</a></h2> <p>Lights come in various shapes (bulb, strips, ceiling lights, ...) but in Tasmota they are separated in 3 categories:</p> <ul> <li><a href=#channel-controlled-lights>Channel Controlled Lights</a></li> <li><a href=#addressable-leds>Addressable LEDs</a></li> <li><a href=#status-leds>Status LEDs</a> </li> </ul> <h3 id=channel-controlled-lights>Channel Controlled Lights<a class=headerlink href=#channel-controlled-lights title="Permanent link">~</a></h3> <h4 id=pwm-lights>PWM Lights<a class=headerlink href=#pwm-lights title="Permanent link">~</a></h4> <p>Lights controlled using up to 5 channels (red, green, blue, cold white, warm white). Channels are controlled using PWM or APDM.</p> <p>PWM (Pulse Width Modulation) is the most common method of controlling LED lights. </p> <p>These lights are configured by assigning <code>PWM1(i)</code> through <code>PWM5(i)</code> components to their GPIOs; <code>PWM&lt;x&gt;i</code> means PWM is inverted. Depending on the number of used PWMs Tasmota will recognize the light as</p> <table> <thead> <tr> <th>Channels</th> <th>PWM1</th> <th>PWM2</th> <th>PWM3</th> <th>PWM4</th> <th>PWM5</th> </tr> </thead> <tbody> <tr> <td>1</td> <td>Brightness</td> <td></td> <td></td> <td></td> <td></td> </tr> <tr> <td>2</td> <td>Cold White</td> <td>Warm White</td> <td></td> <td></td> <td></td> </tr> <tr> <td>3</td> <td>Red</td> <td>Green</td> <td>Blue</td> <td></td> <td></td> </tr> <tr> <td>4</td> <td>Red</td> <td>Green</td> <td>Blue</td> <td>White</td> <td></td> </tr> <tr> <td>5</td> <td>Red</td> <td>Green</td> <td>Blue</td> <td>Cold White</td> <td>Warm White</td> </tr> </tbody> </table> <h4 id=my92xx>MY92xx<a class=headerlink href=#my92xx title="Permanent link">~</a></h4> <p>MY92xx <a href="http://www.my-semi.com/content/products/product_list.aspx?id=2">family</a> of drivers uses Adaptive Pulse Density Modulation. </p> <p>Configured in Tasmota by assigning <code>MY92x1 DI</code> and <code>MY92x DCKI</code> components to their GPIOs (some devices might have more than one MY92xx controller)</p> <p>Channel mapping for such devices is dependent on the controllers but is easily <a href=../SetOption37/ >remapped</a> using <a href=../Commands/#setoption37><code>SetOption37</code></a>.</p> <h4 id=sm16716>SM16716<a class=headerlink href=#sm16716 title="Permanent link">~</a></h4> <p>SM16716 LEDs, sometimes mislabelled as WS2801.</p> <p>Configured in Tasmota by assigning <code>SM16716 CLK</code>, <code>SM16716 DAT</code> and <code>SM16716 PWR</code> component to their GPIOs. </p> <p>Some SM16716 bulbs have BGR order and need <a href=../Commands/#setoption37><code>SetOption37 54</code></a> to work properly.</p> <h3 id=pwm-dimmer-switches>PWM Dimmer Switches<a class=headerlink href=#pwm-dimmer-switches title="Permanent link">~</a></h3> <p>Specific module (requires a custom binary) for Martin Jerry/acenx/Tessan/NTONPOWER SD0x PWM dimmer switches. Brightness of the load for these dimmers is controlled by a PWM GPIO pin. They typically have power, up and down buttons, a power status LED, five brightness LEDs and another status LED. <a href=../PWM-dimmer-switch/ >Read more...</a></p> <h3 id=addressable-leds>Addressable LEDs<a class=headerlink href=#addressable-leds title="Permanent link">~</a></h3> <p>Lights where each LED is individually controlled. In these lights it is possible to adjust each LEDs power, color and brightness, all just with the use of a single GPIO pin.</p> <p>WebUI shows hue, saturation and brightness sliders and power toggle for these lights. Red and green color may be mixed up (observed for clone of <a href=../WS2812B-RGB-Shield/ >Wemos RGB shield</a>).</p> <h4 id=ws2812>WS2812<a class=headerlink href=#ws2812 title="Permanent link">~</a></h4> <p>These are also commonly called Neopixel lights.</p> <p>Configured in Tasmota by assigning <code>WS2812 (7)</code> component to its GPIO. </p> <p>For wiring, see instructions for <a href=../WS2812B-and-WS2813/ >LED strip</a> or <a href=../WS2812B-RGB-Shield/ >Wemos RGB shield</a>.</p> <h4 id=sk6812>SK6812<a class=headerlink href=#sk6812 title="Permanent link">~</a></h4> <p>SK6812 RGBW LEDs are not supported in standard binaries and need custom compiled firmware. See <a href=../SK6812/ >instructions</a>.</p> <h3 id=status-leds>Status LEDs<a class=headerlink href=#status-leds title="Permanent link">~</a></h3> <div class="admonition info"> <p class=admonition-title><strong>Status LEDs</strong> are the LEDs on the device used to display device information</p> </div> <p>Those LEDs are defined in a template or module using <code>Led1</code>, <code>Led2</code>, <code>Led3</code> or <code>Led4</code> (or <code>Led1i</code>, <code>Led2i</code>, <code>Led3i</code> or <code>Led4i</code>) and additionally using <code>LedLink</code> or <code>LedLinki</code> (<code>LedLink</code> was introduced in version 6.5.0.12). It is not recommended to assign <code>Led&lt;x&gt;</code> and <code>Led&lt;x&gt;i</code> with the same <code>&lt;x&gt;</code> number. Prior to version 6.5.0.12, Tasmota only supported up to two LED components to indicate the power state of the relay(s), and the Wi-Fi/MQTT connectivity status. </p> <div class="admonition note"> <p class=admonition-title>It is possible to wire in your own LED and assign it as any of the above mentioned but that's outside the scope of this article</p> </div> <p>If only one LED is configured, it serves both purposes; the link status LED and/or the LED that indicates the power state of the relay(s). If more than one LED component is defined, <code>Led1</code>/<code>Led1i</code> will act as the Wi-Fi/MQTT status LED and the next defined LED (e.g., <code>Led2</code>/<code>Led2i</code>) will act as the LED that indicates the power state of the relay(s). <em>This is the default behavior</em>. Configuring a GPIO as an <a href=#using-ledlink><code>LEDLink</code>/<code>LEDLinki</code></a> component changes this behavior.</p> <p><img src=https://raw.githubusercontent.com/blakadder/testdocusite/master/sonoff%20blinking.gif align=right height=90%></p> <p>For example, on a Sonoff Basic the green LED is used as the link status LED. Once the device connects, the LED is used to indicate the relay's power status.</p> <h4 id=link-status-led>Link status LED<a class=headerlink href=#link-status-led title="Permanent link">~</a></h4> <p><strong>Link status LED</strong> shows the network state, more specifically the Wi-Fi and MQTT connection status.</p> <p>It blinks if the device is not connected to your Wi-Fi AP <strong>and</strong> MQTT broker (if MQTT is enabled). You can change this behaviour with <a href=../Commands/#ledstate><code>LedState</code></a> or turn it off with <a href=../Commands/#setoption31><code>SetOption31</code></a>.</p> <h4 id=power-status-led>Power status LED<a class=headerlink href=#power-status-led title="Permanent link">~</a></h4> <p><strong>Power status LED</strong> shows the power status of relay component(s). <a href=../Commands/#ledmask><code>LedMask</code></a> determines which relay(s) are associated with the power status LED. This behavior can be modified with the <a href=../Commands/#ledstate><code>LedState</code></a> command. The LED is turned off by default when the relay is OFF and turned on when the relay switches ON.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Depending on the device design, some LEDs are connected to the same GPIO as the relay. Those cannot be independently controlled since they have to follow the relay state.</p> </div> <p>If you have more than one LED wired independently and you want it to show the power state of the relay, you <strong>must</strong> assign an <code>LedLink</code> GPIO.</p> <h4 id=pwm-led-mode>PWM LED Mode<a class=headerlink href=#pwm-led-mode title="Permanent link">~</a></h4> <p>Using <a href=../Commands/#ledpwmmode><code>LedPwmMode</code></a> you can change the LED display mode from simple on/off to a PWM controlled LED which will enable you to e.g., display a brighter LED when the relay is on and a dimmer LED when it's OFF so you can locate the switch in the dark but not have it obnoxiously bright.</p> <p><code>LedPwmOff</code> and <code>LedPwmOn</code> control the preset LED brightness in their respective states.</p> <h4 id=ledpower-command>LedPower Command<a class=headerlink href=#ledpower-command title="Permanent link">~</a></h4> <p>When you use <a href=../Commands/#ledpower><code>LedPower</code></a> you take over control of that particular LED and it stops being linked to its corresponding relay and being its power status LED.</p> <h4 id=using-ledlink>Using LedLink<a class=headerlink href=#using-ledlink title="Permanent link">~</a></h4> <p><code>LedLink</code> / <code>LedLinki</code> is used to assign the link status LED. If your device does not have an LED for link status (or you want to use that LED for a different purpose), you can assign <code>LedLink</code> to an available free GPIO. When <code>LedLink(i)</code> is assigned, other LEDs are automatically linked to their corresponding relay and serve as that relay's power status LED - i.e., <code>Led&lt;x&gt;(i)</code> links to <code>Relay&lt;x&gt;(i)</code></p> <h2 id=esp32-only-features>ESP32 Only Features<a class=headerlink href=#esp32-only-features title="Permanent link">~</a></h2> <h3 id=pwm6>PWM6+<a class=headerlink href=#pwm6 title="Permanent link">~</a></h3> <p>ESP32 has hardware PWM support, named <code>ledc</code>, for up to 16 channels depending on CPU type. You can mix lights and pure PWM channels. The first 5 PWM are reserved for lights, unless <code>SetOption15 0</code>. For pure PWM GPIOs, you can assign any PWM number, they don't need to be continuous. For example you can use <code>PWM 1/2/3</code> for a 3-channel RGB light, and <code>PWM 6</code> &amp; <code>PWM 10</code> for pure PWM at the same time.</p> <table> <thead> <tr> <th style="text-align: left;">CPU type</th> <th style="text-align: left;">PWM channels</th> </tr> </thead> <tbody> <tr> <td style="text-align: left;">ESP32</td> <td style="text-align: left;">16 channels</td> </tr> <tr> <td style="text-align: left;">ESP32-S2</td> <td style="text-align: left;">8 channels</td> </tr> <tr> <td style="text-align: left;">ESP32-C3</td> <td style="text-align: left;">6 channels</td> </tr> </tbody> </table> <p>Channels are assigned to GPIOs in a first-in-first-serve way and PWM GPIOs are assigned first. If <code>ledc</code> channels are exhausted an error will appear in logs.</p> <p>The following GPIOs use <code>ledc</code> PWM channels:</p> <table> <thead> <tr> <th style="text-align: left;">GPIO type</th> <th style="text-align: left;">Description</th> </tr> </thead> <tbody> <tr> <td style="text-align: left;"><code>PWM</code> or <code>PWMi</code></td> <td style="text-align: left;"><code>PWM 1..5</code> are used for lights, <code>PWM O6..11</code> are general purpose PWM.</td> </tr> <tr> <td style="text-align: left;"><code>LedPwmMode</code></td> <td style="text-align: left;">Assigns a <code>Led</code> GPIO to a PWM channel</td> </tr> <tr> <td style="text-align: left;"><code>Buzzer</code></td> <td style="text-align: left;">If <code>BuzzerPwm</code> is used</td> </tr> <tr> <td style="text-align: left;"><code>Backlight</code></td> <td style="text-align: left;">PWM backlighting for displays</td> </tr> <tr> <td style="text-align: left;"><code>XCLK</code></td> <td style="text-align: left;">Used as a clock generator for webcam</td> </tr> </tbody> </table> <p>Example of <code>PWM</code> console output with 16 PWM assigned. By default PWM range is 0..1023.</p> <div class=highlight><pre><span></span><code>RESULT = {&quot;PWM&quot;:{&quot;PWM1&quot;:410,&quot;PWM2&quot;:286,&quot;PWM3&quot;:286,&quot;PWM4&quot;:0,&quot;PWM5&quot;:0,&quot;PWM6&quot;:0,&quot;PWM7&quot;:0,&quot;PWM8&quot;:0,&quot;PWM9&quot;:0,&quot;PWM10&quot;:0,&quot;PWM11&quot;:0,&quot;PWM12&quot;:0,&quot;PWM13&quot;:0,&quot;PWM14&quot;:0,&quot;PWM15&quot;:0,&quot;PWM16&quot;:0}}
</code></pre></div> <h3 id=auto-phasing-of-pwm>Auto-phasing of PWM<a class=headerlink href=#auto-phasing-of-pwm title="Permanent link">~</a></h3> <p>By default, phases of consecutive PWM are disaligned so that a PWM pulses starts when the pulse of the previous PWM channels ends. This helps in distributing over time all pulses and have a smoother effect on power supply.</p> <p>You can revert this with <code>SetOption134 1</code>; all phases are synces and all pulses start at the same moment.</p> <h3 id=h-bridge>H-bridge<a class=headerlink href=#h-bridge title="Permanent link">~</a></h3> <p>H-bridge is an electronic circuit that switches the polarity of a voltage applied to a load. It uses 2 PWM outputs to control the current sent to each polarity.</p> <p>When auto-phasing is enabled, you can use 2 consecutive PWM to drive a H-bridge siunce PWM phases don't overlap - under the condition that the sum of both PWM don't exceed <code>1023</code>.</p> <div class="admonition warning"> <p class=admonition-title>You must always ensure that the sum of both PWM channels is less or equal than <code>1023</code>. Values over this threshold can damage the circuit!!!</p> </div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://discord.gg/Ks2Kzd4 target=_blank rel=noopener title=discord.gg class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1.1s-.6.4-.8.8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2C162.5 39 122.2 51.5 84.1 69c-.3.1-.6.4-.8.7C7.1 183.5-13.8 294.6-3.6 404.2c0 .3.1.5.2.8s.3.4.5.6c44.4 32.9 94 58 146.8 74.2.4.1.8.1 1.1 0s.7-.4.9-.7c11.3-15.4 21.4-31.8 30-48.8.1-.2.2-.5.2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6.2-.9.3-.5.6-.7c3.1-2.3 6.2-4.7 9.1-7.1.3-.2.6-.4.9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1.7-.2 1-.2s.7.2.9.4c2.9 2.4 6 4.9 9.1 7.2.2.2.4.4.6.7s.2.6.2.9-.1.6-.3.9-.4.5-.6.6c-14.7 8.6-30 15.9-45.9 21.8-.2.1-.5.2-.7.4s-.3.4-.4.7-.1.5-.1.8.1.5.2.8c8.8 17 18.8 33.3 30 48.8.2.3.6.6.9.7s.8.1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2.2-.2.4-.4.5-.6s.2-.5.2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2m195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2"/></svg> </a> <a href=https://t.me/tasmota target=_blank rel=noopener title=t.me class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M256 8a248 248 0 1 0 0 496 248 248 0 1 0 0-496m115 168.7c-3.7 39.2-19.9 134.4-28.1 178.3-3.5 18.6-10.3 24.8-16.9 25.4-14.4 1.3-25.3-9.5-39.3-18.7-21.8-14.3-34.2-23.2-55.3-37.2-24.5-16.1-8.6-25 5.3-39.5 3.7-3.8 67.1-61.5 68.3-66.7.2-.7.3-3.1-1.2-4.4s-3.6-.8-5.1-.5c-2.2.5-37.1 23.5-104.6 69.1-9.9 6.8-18.9 10.1-26.9 9.9-8.9-.2-25.9-5-38.6-9.1-15.5-5-27.9-7.7-26.8-16.3.6-4.5 6.7-9 18.4-13.7 72.3-31.5 120.5-52.3 144.6-62.3 68.9-28.6 83.2-33.6 92.5-33.8 2.1 0 6.6.5 9.6 2.9 2 1.7 3.2 4.1 3.5 6.7.5 3.2.6 6.5.4 9.8z"/></svg> </a> <a href=https://github.com/tasmota target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"annotate": null, "base": "..", "features": ["navigation.instant", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "content.action.edit", "content.code.copy"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../assets/javascripts/bundle.79ae519e.min.js></script> <script src=https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js></script> <script src=../extra_javascript/tablesort.js></script> </body> </html>