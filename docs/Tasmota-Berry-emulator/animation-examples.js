/**
 * Animation Examples for Browser UI
 * 
 * Total examples: 13
 * 
 * This file provides example animations for the Berry Animation Simulator.
 * Each example includes a name, description, category, and DSL code.
 * 
 * Generated by: scripts/bundle-animation-examples.py
 */

(function(window) {
    'use strict';

    const examples = [
        {
            id: "chap_1_00_plain",
            number: "1.00",
            name: "Plain",
            description: "Solid red background - the simplest animation",
            category: "Basics",
            code: "# @desc Solid red background - the simplest animation\n\nanimation back = solid(color=red)\nrun back"
        },
        {
            id: "chap_1_10_palette_rotation",
            number: "1.10",
            name: "Palette Rotation",
            description: "Rainbow colors cycling through the entire strip over time",
            category: "Basics",
            code: "# @desc Rainbow colors cycling through the entire strip over time\n\n# define a palette of rainbow colors including white with constant brightness\npalette rainbow_with_white = [\n  0xFC0000        # Red\n  0xFF8000        # Orange\n  0xFFFF00        # Yellow\n  0x00FF00        # Green\n  0x00FFFF        # Cyan\n  0x0080FF        # Blue\n  0x8000FF        # Violet\n  0xCCCCCC        # White\n]\n\n# define a color attribute that cycles over time, cycle is 5 seconds\ncolor eye_color = color_cycle(colors=rainbow_with_white, cycle_period=5s)\n\nanimation back = solid(color=eye_color)\n\nrun back"
        },
        {
            id: "chap_1_20_color_transition",
            number: "1.20",
            name: "Color Transition",
            description: "Smooth color transitions using rich_palette with sine interpolation",
            category: "Basics",
            code: "# @desc Smooth color transitions using rich_palette with sine interpolation\n\n# define a palette of rainbow colors including white with constant brightness\npalette rainbow_with_white = [\n  0xFC0000        # Red\n  0xFF8000        # Orange\n  0xFFFF00        # Yellow\n  0x00FF00        # Green\n  0x00FFFF        # Cyan\n  0x0080FF        # Blue\n  0x8000FF        # Violet\n  0xCCCCCC        # White\n  0xFC0000        # Red - need to add the first color at last position to ensure roll-over\n]\n\n# define a color attribute that cycles over time, cycle is 10 seconds\ncolor rainbow_rich_color = rich_palette(colors=rainbow_with_white, cycle_period=10s, transition_type=SINE)\n\nanimation back = solid(color=rainbow_rich_color)\n\nrun back\n\n"
        },
        {
            id: "chap_1_30_color_pattern",
            number: "1.30",
            name: "Color Pattern",
            description: "Rainbow gradient pattern across the LED strip",
            category: "Basics",
            code: "# @desc Rainbow gradient pattern across the LED strip\n\n# define a palette of rainbow colors including white with constant brightness\npalette rainbow_with_white = [\n  0xFC0000        # Red\n  0xFF8000        # Orange\n  0xFFFF00        # Yellow\n  0x00FF00        # Green\n  0x00FFFF        # Cyan\n  0x0080FF        # Blue\n  0x8000FF        # Violet\n  0xCCCCCC        # White\n]\n\n# define a color attribute that cycles over time, cycle is 10 seconds\ncolor rainbow_rich_color = rich_palette(colors=rainbow_with_white, cycle_period=10s, transition_type=SINE)\n\n# define a gradient across the whole strip\nanimation back_pattern = palette_gradient_animation(color_source = rainbow_rich_color)\n\nrun back_pattern\n"
        },
        {
            id: "chap_1_31_color_pattern_spatial_2",
            number: "1.31",
            name: "Color Pattern Spatial 2",
            description: "Rainbow gradient with 2 repetitions across the strip",
            category: "Basics",
            code: "# @desc Rainbow gradient with 2 repetitions across the strip\n\n# define a palette of rainbow colors including white with constant brightness\npalette rainbow_with_white = [\n  0xFC0000        # Red\n  0xFF8000        # Orange\n  0xFFFF00        # Yellow\n  0x00FF00        # Green\n  0x00FFFF        # Cyan\n  0x0080FF        # Blue\n  0x8000FF        # Violet\n  0xCCCCCC        # White\n  0xFC0000        # Red - need to add the first color at last position to ensure roll-over\n]\n\n# define a color attribute that cycles over time, cycle is 10 seconds\ncolor rainbow_rich_color = rich_palette(colors=rainbow_with_white, cycle_period=10s, transition_type=SINE)\n\n# since strip_length is dynamic, we need to map it to a variable\nset strip_len = strip_length()\n\n# define a gradient across the whole strip\nanimation back_pattern = palette_gradient_animation(color_source = rainbow_rich_color, spatial_period = strip_len / 2)\n\nrun back_pattern\n"
        },
        {
            id: "chap_1_32_color_pattern_spatial_osc",
            number: "1.32",
            name: "Color Pattern Spatial Osc",
            description: "Rainbow gradient with oscillating spatial period (breathing effect)",
            category: "Basics",
            code: "# @desc Rainbow gradient with oscillating spatial period (breathing effect)\n\n# define a palette of rainbow colors including white with constant brightness\npalette rainbow_with_white = [\n  0xFC0000        # Red\n  0xFF8000        # Orange\n  0xFFFF00        # Yellow\n  0x00FF00        # Green\n  0x00FFFF        # Cyan\n  0x0080FF        # Blue\n  0x8000FF        # Violet\n  0xCCCCCC        # White\n  0xFC0000        # Red - need to add the first color at last position to ensure roll-over\n]\n\n# define a color attribute that cycles over time, cycle is 10 seconds\ncolor rainbow_rich_color = rich_palette(colors=rainbow_with_white, cycle_period=0, transition_type=SINE)\n\n# since strip_length is dynamic, we need to map it to a variable\nset strip_len = strip_length()\n\n# define the oscillator for spatial period between 1/2 strip_len and 3/2\nset period = sine_osc(min_value = strip_len / 2, max_value = (3 * strip_len) / 2, duration = 5s)\n\n# define a gradient across the whole strip\nanimation back_pattern = palette_gradient_animation(color_source = rainbow_rich_color, spatial_period = period)\n\nrun back_pattern\n"
        },
        {
            id: "chap_1_33_color_pattern_spatial_rotate",
            number: "1.33",
            name: "Color Pattern Spatial Rotate",
            description: "Rainbow gradient rotating along the strip over 5 seconds",
            category: "Basics",
            code: "# @desc Rainbow gradient rotating along the strip over 5 seconds\n\n# define a palette of rainbow colors including white with constant brightness\npalette rainbow_with_white = [\n  0xFC0000        # Red\n  0xFF8000        # Orange\n  0xFFFF00        # Yellow\n  0x00FF00        # Green\n  0x00FFFF        # Cyan\n  0x0080FF        # Blue\n  0x8000FF        # Violet\n  0xCCCCCC        # White\n  0xFC0000        # Red - need to add the first color at last position to ensure roll-over\n]\n\n# define a color attribute cycles color in space\ncolor rainbow_rich_color = rich_palette(colors=rainbow_with_white, cycle_period=0, transition_type=SINE)\n\n# define a gradient across the whole strip\nanimation back_pattern = palette_gradient_animation(color_source = rainbow_rich_color, shift_period = 5s)\n\nrun back_pattern\n"
        },
        {
            id: "chap_1_40_color_pattern_meter",
            number: "1.40",
            name: "Color Pattern Meter",
            description: "VU-meter style animation with green-yellow-red gradient at 85%",
            category: "Basics",
            code: "# @desc VU-meter style animation with green-yellow-red gradient at 85%\n\n# define a palette of rainbow colors including white with constant brightness\npalette vue_meter_palette = [\n  (  0, 0x00FF00)     # Green\n  (143, 0x00FF00)\n\n  (164, 0xFFFF00)     # Yellow\n  (207, 0xFFFF00)\n\n  (228, 0xFF0000)     # Red\n  (255, 0xFF0000)\n]\n\n# define a color palette pattern for 'vue_meter_palette'\ncolor rainbow_rich_color = rich_palette(colors=vue_meter_palette, cycle_period=0, transition_type=LINEAR)\n\n# define a vue-meter based on all elements above\nanimation back_pattern = palette_meter_animation(color_source = rainbow_rich_color, level = 85%)\n\nrun back_pattern\n"
        },
        {
            id: "chap_1_41_color_pattern_meter_random",
            number: "1.41",
            name: "Color Pattern Meter Random",
            description: "VU-meter with random level using custom Berry function",
            category: "Basics",
            code: "# @desc VU-meter with random level using custom Berry function\n\nberry \"\"\"\n# define a pseudo-random generator, returns value in range 0..255\ndef rand_meter(engine)\n  return (engine.time_ms * 2654435761) & 0xFF\nend\n\"\"\"\n\nextern function rand_meter      # declare the external function\n\n# define a palette of rainbow colors including white with constant brightness\npalette vue_meter_palette = [\n  (  0, 0x00FF00)     # Green\n  (143, 0x00FF00)\n\n  (164, 0xFFFF00)     # Yellow\n  (207, 0xFFFF00)\n\n  (228, 0xFF0000)     # Red\n  (255, 0xFF0000)\n]\n\n# define a color palette pattern for 'vue_meter_palette'\ncolor rainbow_rich_color = rich_palette(colors=vue_meter_palette, cycle_period=0, transition_type=LINEAR)\n\n# define a vue-meter based on all elements above\nanimation back_pattern = palette_meter_animation(color_source = rainbow_rich_color, level = rand_meter())\n\nrun back_pattern\n"
        },
        {
            id: "chap_2_10_sky",
            number: "2.10",
            name: "Sky",
            description: "Night sky with twinkling stars on dark blue background",
            category: "Effects",
            code: "# @desc Night sky with twinkling stars on dark blue background\n\n# Dark blue background\ncolor space_blue = 0x000066    # Note: opaque 0xFF alpha channel is implicitly added\nanimation background = solid(color=space_blue)\n\n# Add sparkle trail behind comets but on top of blue background\nanimation stars = twinkle_animation(\n  color=0xFFFFAA  # Light blue sparkles\n  density=8       # density (moderate sparkles)\n  twinkle_speed=400ms # twinkle speed (quick sparkle)\n  priority = 8\n)\n\n# Start all animations\nrun background\nrun stars\n"
        },
        {
            id: "chap_5_10_template_cylon_simple",
            number: "5.10",
            name: "Template Cylon Simple",
            description: "Cylon-style scanning eye using template with customizable color",
            category: "Templates",
            code: "# @desc Cylon-style scanning eye using template with customizable color\n\ntemplate animation cylon_eye {\n  param eye_color type color default red\n  param back_color type color default transparent\n  param period type time default 5s\n\n  set strip_len = strip_length()\n\n  animation eye_animation = beacon_animation(\n    color = eye_color\n    back_color = back_color\n    pos = cosine_osc(min_value = -1, max_value = strip_len - 2, duration = period)\n    beacon_size = 3       # small 3 pixels eye\n    slew_size = 2         # with 2 pixel shading around\n    priority = 5\n  )\n\n  run eye_animation\n}\n\nanimation eye = cylon_eye()\nrun eye\n"
        },
        {
            id: "chap_5_21_template_shutter_bidir_flags",
            number: "5.21",
            name: "Template Shutter Bidir Flags",
            description: "Bidirectional shutter effect with rainbow colors",
            category: "Templates",
            code: "# @desc Bidirectional shutter effect with rainbow colors\n\ntemplate animation shutter_bidir {\n  param colors type palette\n  param period default 5s\n\n  set strip_len = strip_length()\n  set shutter_size = sawtooth(min_value = 0, max_value = strip_len, duration = period)\n\n  color col1 = color_cycle(colors=colors, cycle_period=0)\n  color col2 = color_cycle(colors=colors, cycle_period=0)\n  col2.next = 1\n\n  # shutter moving from left to right\n  animation shutter_lr_animation = beacon_animation(\n    color = col2\n    back_color = col1\n    pos = 0\n    beacon_size = shutter_size\n    slew_size = 0\n    priority = 5\n  )\n\n  # shutter moving from right to left\n  animation shutter_rl_animation = beacon_animation(\n    color = col1\n    back_color = col2\n    pos = 0\n    beacon_size = strip_len - shutter_size\n    slew_size = 0\n    priority = 5\n  )\n\n  sequence shutter_seq repeat forever {\n    repeat col1.palette_size times {\n      restart shutter_size\n      play shutter_lr_animation for period\n      col1.next = 1\n      col2.next = 1\n    }\n    repeat col1.palette_size times {\n      restart shutter_size\n      play shutter_rl_animation for period\n      col1.next = 1\n      col2.next = 1\n    }\n  }\n  \n  run shutter_seq\n}\n\n# define a palette of rainbow colors including white with constant brightness\npalette rainbow_with_white = [\n  0xFC0000        # Red\n  0xFF8000        # Orange\n  0xFFFF00        # Yellow\n  0x00FF00        # Green\n  0x00FFFF        # Cyan\n  0x0080FF        # Blue\n  0x8000FF        # Violet\n  0xCCCCCC        # White\n]\n\nanimation main = shutter_bidir(colors = rainbow_with_white, period = 1.5s)\nrun main\n"
        },
        {
            id: "chap_5_22_template_shutter_bidir",
            number: "5.22",
            name: "Template Shutter Bidir",
            description: "Advanced shutter template with ascending/descending flags",
            category: "Templates",
            code: "# @desc Advanced shutter template with ascending/descending flags\n\ntemplate animation shutter_bidir {\n  param colors type palette\n  param period default 2s\n  param ascending type bool default true    # define to true to enable 'ascending' part\n  param descending type bool default true   # define to true to enable 'descending' part\n\n  # since 'strip_length()' is a value provider, it must be assigned to a variable before being used\n  set strip_len = strip_length()\n\n  # animated value for the size of the shutter, evolving linearly in time (sawtooth from 0% to 100%)\n  set shutter_size = sawtooth(min_value = 0, max_value = strip_len, duration = period)\n\n  # define two rotating palettes, shifted by one color\n  color col1 = color_cycle(colors=colors, cycle_period=0)\n  color col2 = color_cycle(colors=colors, cycle_period=0)\n  col2.next = 1     # move 'col2' to the next color so it's shifte by one compared to 'col1'\n\n  # shutter moving in ascending\n  animation shutter_lr_animation = beacon_animation(\n    color = col2\n    back_color = col1\n    pos = 0\n    beacon_size = shutter_size\n    slew_size = 0\n    priority = 5\n  )\n\n  # shutter moving in descending\n  animation shutter_rl_animation = beacon_animation(\n    color = col1\n    back_color = col2\n    pos = 0\n    beacon_size = strip_len - shutter_size\n    slew_size = 0\n    priority = 5\n  )\n\n  # this is the overall sequence composed of two sub-sequences\n  # the first in ascending mode, the second in descending\n  sequence shutter_seq repeat forever {\n    if ascending {                              # un only if 'ascending' is true\n      repeat col1.palette_size times {          # run the shutter animation\n        restart shutter_size                    # resync all times for this animation, to avoid temporal drift\n        play shutter_lr_animation for period    # run the animation\n        col1.next = 1                           # then move to next color for both palettes\n        col2.next = 1\n      }\n    }\n    if descending {                             # run only if 'descending' is true\n      repeat col1.palette_size times {\n        restart shutter_size\n        play shutter_rl_animation for period\n        col1.next = 1\n        col2.next = 1\n      }\n    }\n  }\n  \n  run shutter_seq\n}\n\n# define a palette of rainbow colors including white with constant brightness\npalette rainbow_with_white = [\n  0xFC0000        # Red\n  0xFF8000        # Orange\n  0xFFFF00        # Yellow\n  0x00FF00        # Green\n  0x00FFFF        # Cyan\n  0x0080FF        # Blue\n  0x8000FF        # Violet\n  0xCCCCCC        # White\n]\n\nanimation main = shutter_bidir(colors = rainbow_with_white, period = 1.5s)\nrun main\n"
        }
    ];

    const categories = ["Basics", "Effects", "Templates"];

    /**
     * AnimationExamples - Provides access to example animations
     */
    class AnimationExamples {
        /**
         * Get all examples
         * @returns {Array} Array of example objects
         */
        getAll() {
            return examples;
        }

        /**
         * Get all categories
         * @returns {Array} Array of category names
         */
        getCategories() {
            return categories;
        }

        /**
         * Get examples by category
         * @param {string} category - Category name
         * @returns {Array} Array of examples in that category
         */
        getByCategory(category) {
            return examples.filter(ex => ex.category === category);
        }

        /**
         * Get example by ID
         * @param {string} id - Example ID
         * @returns {Object|null} Example object or null if not found
         */
        getById(id) {
            return examples.find(ex => ex.id === id) || null;
        }

        /**
         * Search examples by name or description
         * @param {string} query - Search query
         * @returns {Array} Matching examples
         */
        search(query) {
            const q = query.toLowerCase();
            return examples.filter(ex => 
                ex.name.toLowerCase().includes(q) || 
                ex.description.toLowerCase().includes(q)
            );
        }

        /**
         * Get example count
         * @returns {number} Total number of examples
         */
        count() {
            return examples.length;
        }
    }

    // Create global instance
    window.animationExamples = new AnimationExamples();

    // Also export the class for potential extension
    window.AnimationExamples = AnimationExamples;

    console.log(`[AnimationExamples] Loaded ${examples.length} examples in ${categories.length} categories`);

})(window);
