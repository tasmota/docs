<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Documentation (Wiki) for Tasmota"><link href=https://tasmota.github.io/docs/Matter/ rel=canonical><link href=../HASPmota/ rel=prev><link href=../Tasmota-Extension/ rel=next><link rel=icon href=../_media/favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.3"><title>Matter - Tasmota</title><link rel=stylesheet href=../assets/stylesheets/main.484c7ddc.min.css><link rel=stylesheet href=../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Barlow:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Barlow";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../assets/css/anchor-fix.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-8J08F8X90S"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-8J08F8X90S",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-8J08F8X90S",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=blue data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#matter class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title=Tasmota class="md-header__button md-logo" aria-label=Tasmota data-md-component=logo> <img src=../_media/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Tasmota </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Matter </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=blue data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=blue data-md-color-accent=deep-purple aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/arendst/tasmota title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> arendst/tasmota </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../Features/ class=md-tabs__link> Features </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../ESP32/ class=md-tabs__link> ESP32 </a> </li> <li class=md-tabs__item> <a href=../Integrations/ class=md-tabs__link> Smart Home Integrations </a> </li> <li class=md-tabs__item> <a href=../Supported-Peripherals/ class=md-tabs__link> Peripherals </a> </li> <li class=md-tabs__item> <a href=../Configuration-Procedure-for-New-Devices/ class=md-tabs__link> Supported Devices </a> </li> <li class=md-tabs__item> <a href=../FAQ/ class=md-tabs__link> Help </a> </li> <li class=md-tabs__item> <a href=http://tasmota.github.io/install class=md-tabs__link> Web Installer </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title=Tasmota class="md-nav__button md-logo" aria-label=Tasmota data-md-component=logo> <img src=../_media/logo.svg alt=logo> </a> Tasmota </label> <div class=md-nav__source> <a href=https://github.com/arendst/tasmota title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> arendst/tasmota </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1 id=__nav_1_label tabindex=0> <span class=md-ellipsis> Home </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Home </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> <span class=md-ellipsis> News </span> </a> </li> <li class=md-nav__item> <a href=../About/ class=md-nav__link> <span class=md-ellipsis> About </span> </a> </li> <li class=md-nav__item> <a href=../Getting-Started/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> </a> </li> <li class=md-nav__item> <a href=../Upgrading/ class=md-nav__link> <span class=md-ellipsis> Upgrading </span> </a> </li> <li class=md-nav__item> <a href=../MQTT/ class=md-nav__link> <span class=md-ellipsis> MQTT </span> </a> </li> <li class=md-nav__item> <a href=../Commands/ class=md-nav__link> <span class=md-ellipsis> Commands </span> </a> </li> <li class=md-nav__item> <a href=../Templates/ class=md-nav__link> <span class=md-ellipsis> Templates </span> </a> </li> <li class=md-nav__item> <a href=../Components/ class=md-nav__link> <span class=md-ellipsis> Components </span> </a> </li> <li class=md-nav__item> <a href=../Modules/ class=md-nav__link> <span class=md-ellipsis> Modules </span> </a> </li> <li class=md-nav__item> <a href=../Peripherals/ class=md-nav__link> <span class=md-ellipsis> Peripherals </span> </a> </li> <li class=md-nav__item> <a href=../WebUI/ class=md-nav__link> <span class=md-ellipsis> WebUI </span> </a> </li> <li class=md-nav__item> <a href=../Firmware-Builds/ class=md-nav__link> <span class=md-ellipsis> Firmware Builds </span> </a> </li> <li class=md-nav__item> <a href=../Compile-your-build/ class=md-nav__link> <span class=md-ellipsis> Compiling </span> </a> </li> <li class=md-nav__item> <a href=../Contributing/ class=md-nav__link> <span class=md-ellipsis> Contributing </span> </a> </li> <li class=md-nav__item> <a href=../Download/ class=md-nav__link> <span class=md-ellipsis> Download </span> </a> </li> <li class=md-nav__item> <a href=https://github.com/arendst/Tasmota/discussions/categories/show-and-tell class=md-nav__link> <span class=md-ellipsis> Project Showcase </span> </a> </li> <li class=md-nav__item> <a href=../For-Developers/ class=md-nav__link> <span class=md-ellipsis> For Developers </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Features </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Features </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Features/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../ADC/ class=md-nav__link> <span class=md-ellipsis> Analog Pin </span> </a> </li> <li class=md-nav__item> <a href=../ArtNet/ class=md-nav__link> <span class=md-ellipsis> ArtNet DMX </span> </a> </li> <li class=md-nav__item> <a href=../Buttons-and-Switches/ class=md-nav__link> <span class=md-ellipsis> Buttons and Switches </span> </a> </li> <li class=md-nav__item> <a href=../DeepSleep/ class=md-nav__link> <span class=md-ellipsis> DeepSleep </span> </a> </li> <li class=md-nav__item> <a href=../Device-Groups/ class=md-nav__link> <span class=md-ellipsis> Device Groups </span> </a> </li> <li class=md-nav__item> <a href=../Universal-Display-Driver/ class=md-nav__link> <span class=md-ellipsis> Universal Display and Universal Touch drivers (uDisplay/uTouch) </span> </a> </li> <li class=md-nav__item> <a href=../Displays/ class=md-nav__link> <span class=md-ellipsis> Displays </span> </a> </li> <li class=md-nav__item> <a href=../Dynamic-Sleep/ class=md-nav__link> <span class=md-ellipsis> Dynamic Sleep </span> </a> </li> <li class=md-nav__item> <a href=../I2CDEVICES/ class=md-nav__link> <span class=md-ellipsis> I2C Devices </span> </a> </li> <li class=md-nav__item> <a href=../I2S-Audio/ class=md-nav__link> <span class=md-ellipsis> I2S Audio </span> </a> </li> <li class=md-nav__item> <a href=../IPv6/ class=md-nav__link> <span class=md-ellipsis> IPv6 </span> </a> </li> <li class=md-nav__item> <a href=../Lights/ class=md-nav__link> <span class=md-ellipsis> Lights </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Matter </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Matter </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#what-is-matter class=md-nav__link> <span class=md-ellipsis> What is Matter? </span> </a> <nav class=md-nav aria-label="What is Matter?"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#supported-platforms class=md-nav__link> <span class=md-ellipsis> Supported platforms </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#getting-started class=md-nav__link> <span class=md-ellipsis> Getting Started </span> </a> </li> <li class=md-nav__item> <a href=#configuration class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> <nav class=md-nav aria-label=Configuration> <ul class=md-nav__list> <li class=md-nav__item> <a href=#current-configuration class=md-nav__link> <span class=md-ellipsis> Current Configuration </span> </a> </li> <li class=md-nav__item> <a href=#adding-supported-device-types class=md-nav__link> <span class=md-ellipsis> Adding supported device types </span> </a> </li> <li class=md-nav__item> <a href=#specific-supported-types class=md-nav__link> <span class=md-ellipsis> Specific supported types </span> </a> </li> <li class=md-nav__item> <a href=#bridging-zigbee-devices class=md-nav__link> <span class=md-ellipsis> Bridging Zigbee devices </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#advanced-configuration class=md-nav__link> <span class=md-ellipsis> Advanced Configuration </span> </a> <nav class=md-nav aria-label="Advanced Configuration"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#matter-passcode class=md-nav__link> <span class=md-ellipsis> Matter Passcode </span> </a> </li> <li class=md-nav__item> <a href=#fabrics class=md-nav__link> <span class=md-ellipsis> Fabrics </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#known-limitations class=md-nav__link> <span class=md-ellipsis> Known Limitations </span> </a> </li> <li class=md-nav__item> <a href=#matter-command-events class=md-nav__link> <span class=md-ellipsis> Matter Command Events </span> </a> </li> <li class=md-nav__item> <a href=#matter-virtual-devices class=md-nav__link> <span class=md-ellipsis> Matter Virtual Devices </span> </a> <nav class=md-nav aria-label="Matter Virtual Devices"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#mtrupdate-command class=md-nav__link> <span class=md-ellipsis> MtrUpdate command </span> </a> </li> <li class=md-nav__item> <a href=#full-example class=md-nav__link> <span class=md-ellipsis> Full Example </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#commands class=md-nav__link> <span class=md-ellipsis> Commands </span> </a> </li> <li class=md-nav__item> <a href=#misc-events class=md-nav__link> <span class=md-ellipsis> Misc Events </span> </a> </li> <li class=md-nav__item> <a href=#for-developers class=md-nav__link> <span class=md-ellipsis> For developers </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../PIR-Motion-Sensors/ class=md-nav__link> <span class=md-ellipsis> PIR Motion Sensors </span> </a> </li> <li class=md-nav__item> <a href=../Power-Monitoring-Calibration/ class=md-nav__link> <span class=md-ellipsis> Power Monitoring Calibration </span> </a> </li> <li class=md-nav__item> <a href=../PWM-dimmer-switch/ class=md-nav__link> <span class=md-ellipsis> PWM Dimmer </span> </a> </li> <li class=md-nav__item> <a href=../Rules/ class=md-nav__link> <span class=md-ellipsis> Rules </span> </a> </li> <li class=md-nav__item> <a href=../Scripting-Language/ class=md-nav__link> <span class=md-ellipsis> Scripting Language </span> </a> </li> <li class=md-nav__item> <a href=../Blinds-and-Shutters/ class=md-nav__link> <span class=md-ellipsis> Shutters and Blinds </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_21> <label class=md-nav__link for=__nav_2_21 id=__nav_2_21_label tabindex=0> <span class=md-ellipsis> Protocol Bridging </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_21_label aria-expanded=false> <label class=md-nav__title for=__nav_2_21> <span class="md-nav__icon md-icon"></span> Protocol Bridging </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../TasmotaClient/ class=md-nav__link> <span class=md-ellipsis> Arduino MCU </span> </a> </li> <li class=md-nav__item> <a href=../Bluetooth/ class=md-nav__link> <span class=md-ellipsis> BLE Gateway </span> </a> </li> <li class=md-nav__item> <a href=../DALI/ class=md-nav__link> <span class=md-ellipsis> DALI </span> </a> </li> <li class=md-nav__item> <a href=../HDMI_CEC/ class=md-nav__link> <span class=md-ellipsis> HDMI CEC </span> </a> </li> <li class=md-nav__item> <a href=../Tasmota-IR/ class=md-nav__link> <span class=md-ellipsis> IR Communication </span> </a> </li> <li class=md-nav__item> <a href=../Projector/ class=md-nav__link> <span class=md-ellipsis> LCD/DLP Projector Control </span> </a> </li> <li class=md-nav__item> <a href=../LoRa-and-LoRaWan-Bridge/ class=md-nav__link> <span class=md-ellipsis> LoRa and LoRaWan Bridge </span> </a> </li> <li class=md-nav__item> <a href=../Modbus-Bridge/ class=md-nav__link> <span class=md-ellipsis> Modbus Bridge </span> </a> </li> <li class=md-nav__item> <a href=../OpenTherm/ class=md-nav__link> <span class=md-ellipsis> OpenTherm </span> </a> </li> <li class=md-nav__item> <a href=../RF-Protocol/ class=md-nav__link> <span class=md-ellipsis> RF Communication </span> </a> </li> <li class=md-nav__item> <a href=../Serial-to-TCP-Bridge/ class=md-nav__link> <span class=md-ellipsis> Serial to TCP Bridge </span> </a> </li> <li class=md-nav__item> <a href=../TWAI/ class=md-nav__link> <span class=md-ellipsis> TWAI </span> </a> </li> <li class=md-nav__item> <a href=../Telegram/ class=md-nav__link> <span class=md-ellipsis> Telegram </span> </a> </li> <li class=md-nav__item> <a href=../Zigbee/ class=md-nav__link> <span class=md-ellipsis> Zigbee </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../Smart-Meter-Interface/ class=md-nav__link> <span class=md-ellipsis> Smart Meter Interface </span> </a> </li> <li class=md-nav__item> <a href=../Thermostat/ class=md-nav__link> <span class=md-ellipsis> Thermostat </span> </a> </li> <li class=md-nav__item> <a href=../Timers/ class=md-nav__link> <span class=md-ellipsis> Timers </span> </a> </li> <li class=md-nav__item> <a href=../TLS/ class=md-nav__link> <span class=md-ellipsis> TLS Secured MQTT </span> </a> </li> <li class=md-nav__item> <a href=../TuyaMCU/ class=md-nav__link> <span class=md-ellipsis> TuyaMCU </span> </a> </li> <li class=md-nav__item> <a href=../UFS/ class=md-nav__link> <span class=md-ellipsis> Universal File System </span> </a> </li> <li class=md-nav__item> <a href=../Range-Extender/ class=md-nav__link> <span class=md-ellipsis> Wi-Fi Range Extender </span> </a> </li> <li class=md-nav__item> <a href=../Wireguard/ class=md-nav__link> <span class=md-ellipsis> Wireguard VPN </span> </a> </li> <li class=md-nav__item> <a href=../Tutorials/ class=md-nav__link> <span class=md-ellipsis> Projects and Tutorials </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> ESP32 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> ESP32 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ESP32/ class=md-nav__link> <span class=md-ellipsis> Tasmota32 Features </span> </a> </li> <li class=md-nav__item> <a href=../Berry/ class=md-nav__link> <span class=md-ellipsis> Berry </span> </a> </li> <li class=md-nav__item> <a href=../Bluetooth_ESP32/ class=md-nav__link> <span class=md-ellipsis> Bluetooth Low Energy </span> </a> </li> <li class=md-nav__item> <a href=../LVGL/ class=md-nav__link> <span class=md-ellipsis> LVGL </span> </a> </li> <li class=md-nav__item> <a href=../HASPmota/ class=md-nav__link> <span class=md-ellipsis> HASPmota </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Matter </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Matter </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#what-is-matter class=md-nav__link> <span class=md-ellipsis> What is Matter? </span> </a> <nav class=md-nav aria-label="What is Matter?"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#supported-platforms class=md-nav__link> <span class=md-ellipsis> Supported platforms </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#getting-started class=md-nav__link> <span class=md-ellipsis> Getting Started </span> </a> </li> <li class=md-nav__item> <a href=#configuration class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> <nav class=md-nav aria-label=Configuration> <ul class=md-nav__list> <li class=md-nav__item> <a href=#current-configuration class=md-nav__link> <span class=md-ellipsis> Current Configuration </span> </a> </li> <li class=md-nav__item> <a href=#adding-supported-device-types class=md-nav__link> <span class=md-ellipsis> Adding supported device types </span> </a> </li> <li class=md-nav__item> <a href=#specific-supported-types class=md-nav__link> <span class=md-ellipsis> Specific supported types </span> </a> </li> <li class=md-nav__item> <a href=#bridging-zigbee-devices class=md-nav__link> <span class=md-ellipsis> Bridging Zigbee devices </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#advanced-configuration class=md-nav__link> <span class=md-ellipsis> Advanced Configuration </span> </a> <nav class=md-nav aria-label="Advanced Configuration"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#matter-passcode class=md-nav__link> <span class=md-ellipsis> Matter Passcode </span> </a> </li> <li class=md-nav__item> <a href=#fabrics class=md-nav__link> <span class=md-ellipsis> Fabrics </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#known-limitations class=md-nav__link> <span class=md-ellipsis> Known Limitations </span> </a> </li> <li class=md-nav__item> <a href=#matter-command-events class=md-nav__link> <span class=md-ellipsis> Matter Command Events </span> </a> </li> <li class=md-nav__item> <a href=#matter-virtual-devices class=md-nav__link> <span class=md-ellipsis> Matter Virtual Devices </span> </a> <nav class=md-nav aria-label="Matter Virtual Devices"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#mtrupdate-command class=md-nav__link> <span class=md-ellipsis> MtrUpdate command </span> </a> </li> <li class=md-nav__item> <a href=#full-example class=md-nav__link> <span class=md-ellipsis> Full Example </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#commands class=md-nav__link> <span class=md-ellipsis> Commands </span> </a> </li> <li class=md-nav__item> <a href=#misc-events class=md-nav__link> <span class=md-ellipsis> Misc Events </span> </a> </li> <li class=md-nav__item> <a href=#for-developers class=md-nav__link> <span class=md-ellipsis> For developers </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../Tasmota-Extension/ class=md-nav__link> <span class=md-ellipsis> Tasmota Extension </span> </a> </li> <li class=md-nav__item> <a href=../Tasmota-Application/ class=md-nav__link> <span class=md-ellipsis> Tasmota Application Files </span> </a> </li> <li class=md-nav__item> <a href=../TFL/ class=md-nav__link> <span class=md-ellipsis> TensorFlow Lite </span> </a> </li> <li class=md-nav__item> <a href=../TouchPin/ class=md-nav__link> <span class=md-ellipsis> Touch GPIOs </span> </a> </li> <li class=md-nav__item> <a href=../Safeboot/ class=md-nav__link> <span class=md-ellipsis> Safeboot Partition Layout </span> </a> </li> <li class=md-nav__item> <a href=https://templates.blakadder.com/esp32 class=md-nav__link> <span class=md-ellipsis> Supported Devices </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Smart Home Integrations </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Smart Home Integrations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Integrations/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../Alexa/ class=md-nav__link> <span class=md-ellipsis> Alexa </span> </a> </li> <li class=md-nav__item> <a href=../AWS-IoT/ class=md-nav__link> <span class=md-ellipsis> AWS IoT </span> </a> </li> <li class=md-nav__item> <a href=../Domoticz/ class=md-nav__link> <span class=md-ellipsis> Domoticz </span> </a> </li> <li class=md-nav__item> <a href=../Home-Assistant/ class=md-nav__link> <span class=md-ellipsis> Home Assistant </span> </a> </li> <li class=md-nav__item> <a href=../Homebridge/ class=md-nav__link> <span class=md-ellipsis> Homebridge </span> </a> </li> <li class=md-nav__item> <a href=https://homey.app/en-us/app/com.paveld.tasmota/Tasmota-MQTT/ class=md-nav__link> <span class=md-ellipsis> Homey </span> </a> </li> <li class=md-nav__item> <a href=../HomeSeer/ class=md-nav__link> <span class=md-ellipsis> HomeSeer </span> </a> </li> <li class=md-nav__item> <a href=../IP-Symcon/ class=md-nav__link> <span class=md-ellipsis> IP Symcon </span> </a> </li> <li class=md-nav__item> <a href=../KNX/ class=md-nav__link> <span class=md-ellipsis> KNX </span> </a> </li> <li class=md-nav__item> <a href=../NodeRed/ class=md-nav__link> <span class=md-ellipsis> NodeRed </span> </a> </li> <li class=md-nav__item> <a href=../nymea/ class=md-nav__link> <span class=md-ellipsis> nymea </span> </a> </li> <li class=md-nav__item> <a href=../Octoprint/ class=md-nav__link> <span class=md-ellipsis> OctoPrint </span> </a> </li> <li class=md-nav__item> <a href=../openHAB/ class=md-nav__link> <span class=md-ellipsis> openHAB </span> </a> </li> <li class=md-nav__item> <a href=../otto/ class=md-nav__link> <span class=md-ellipsis> Otto </span> </a> </li> <li class=md-nav__item> <a href=https://github.com/arendst/Tasmota/issues/3769 class=md-nav__link> <span class=md-ellipsis> IOBroker </span> </a> </li> <li class=md-nav__item> <a href=https://github.com/tim-hellhake/tasmota-adapter class=md-nav__link> <span class=md-ellipsis> Mozilla WebThings Adapter </span> </a> </li> <li class=md-nav__item> <a href=https://github.com/hongtat/tasmota-connect class=md-nav__link> <span class=md-ellipsis> SmartThings </span> </a> </li> <li class=md-nav__item> <a href=https://github.com/Gifford47/tasmohab/blob/master/README.md class=md-nav__link> <span class=md-ellipsis> Tasmohab </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../Supported-Peripherals/ class=md-nav__link> <span class=md-ellipsis> Peripherals </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> Supported Devices </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Supported Devices </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Configuration-Procedure-for-New-Devices/ class=md-nav__link> <span class=md-ellipsis> Configure Unknown Device </span> </a> </li> <li class=md-nav__item> <a href="https://templates.blakadder.com/ " target='_blank""' class=md-nav__link> <span class=md-ellipsis> All Supported Devices </span> </a> </li> <li class=md-nav__item> <a href=../Pinouts/ class=md-nav__link> <span class=md-ellipsis> Wi-Fi Module Pinouts </span> </a> </li> <li class=md-nav__item> <a href=../Supported-Modules/ class=md-nav__link> <span class=md-ellipsis> Supported Modules </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> Help </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Help </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../FAQ/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> <li class=md-nav__item> <a href=../Troubleshooting/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting </span> </a> </li> <li class=md-nav__item> <a href=../Device-Recovery/ class=md-nav__link> <span class=md-ellipsis> Device Recovery </span> </a> </li> <li class=md-nav__item> <a href="https://discord.gg/Ks2Kzd4 " target='_blank""' class=md-nav__link> <span class=md-ellipsis> Discord Support </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=http://tasmota.github.io/install class=md-nav__link> <span class=md-ellipsis> Web Installer </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#what-is-matter class=md-nav__link> <span class=md-ellipsis> What is Matter? </span> </a> <nav class=md-nav aria-label="What is Matter?"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#supported-platforms class=md-nav__link> <span class=md-ellipsis> Supported platforms </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#getting-started class=md-nav__link> <span class=md-ellipsis> Getting Started </span> </a> </li> <li class=md-nav__item> <a href=#configuration class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> <nav class=md-nav aria-label=Configuration> <ul class=md-nav__list> <li class=md-nav__item> <a href=#current-configuration class=md-nav__link> <span class=md-ellipsis> Current Configuration </span> </a> </li> <li class=md-nav__item> <a href=#adding-supported-device-types class=md-nav__link> <span class=md-ellipsis> Adding supported device types </span> </a> </li> <li class=md-nav__item> <a href=#specific-supported-types class=md-nav__link> <span class=md-ellipsis> Specific supported types </span> </a> </li> <li class=md-nav__item> <a href=#bridging-zigbee-devices class=md-nav__link> <span class=md-ellipsis> Bridging Zigbee devices </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#advanced-configuration class=md-nav__link> <span class=md-ellipsis> Advanced Configuration </span> </a> <nav class=md-nav aria-label="Advanced Configuration"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#matter-passcode class=md-nav__link> <span class=md-ellipsis> Matter Passcode </span> </a> </li> <li class=md-nav__item> <a href=#fabrics class=md-nav__link> <span class=md-ellipsis> Fabrics </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#known-limitations class=md-nav__link> <span class=md-ellipsis> Known Limitations </span> </a> </li> <li class=md-nav__item> <a href=#matter-command-events class=md-nav__link> <span class=md-ellipsis> Matter Command Events </span> </a> </li> <li class=md-nav__item> <a href=#matter-virtual-devices class=md-nav__link> <span class=md-ellipsis> Matter Virtual Devices </span> </a> <nav class=md-nav aria-label="Matter Virtual Devices"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#mtrupdate-command class=md-nav__link> <span class=md-ellipsis> MtrUpdate command </span> </a> </li> <li class=md-nav__item> <a href=#full-example class=md-nav__link> <span class=md-ellipsis> Full Example </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#commands class=md-nav__link> <span class=md-ellipsis> Commands </span> </a> </li> <li class=md-nav__item> <a href=#misc-events class=md-nav__link> <span class=md-ellipsis> Misc Events </span> </a> </li> <li class=md-nav__item> <a href=#for-developers class=md-nav__link> <span class=md-ellipsis> For developers </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/tasmota/docs/blob/master/docs/Matter.md title="Edit this page" class="md-content__button md-icon" rel=edit> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg> </a> <h1 id=matter>Matter<a class=headerlink href=#matter title="Permanent link">~</a></h1> <div class="admonition tip"> <p class=admonition-title>Matter protocol supported in all ESP32 variants (C3/S2/S3) since Tasmota v13.0.0. ESP8266 is not supported although ESP8266 devices can be handled via a single ESP32 in bridge mode (see below)</p> </div> <details class=tip> <summary>This feature is included in standard <code>tasmota32xx</code> builds; not in special variants (display, sensors...)</summary> <p>When <a href=../Compile-your-build/ >compiling your build</a> add the following flag to the build environment or <code>user_config_override.h</code>: <div class=highlight><pre><span></span><code><span class=cp>#define USE_MATTER_DEVICE</span>
</code></pre></div></p> </details> <h2 id=what-is-matter>What is Matter?<a class=headerlink href=#what-is-matter title="Permanent link">~</a></h2> <p>The Matter protocol is an open-source, royalty-free standard designed to enable smart home devices from different manufacturers to work seamlessly and securely together. The Matter standard was launched end of 2022, and is supported since July 2023 by Tasmota v13.0 and above. Learn more <a href=https://csa-iot.org/all-solutions/matter/ >about Matter</a>.</p> <p>Tasmota supports Matter over IP (Wi-Fi or Ethernet) as an end-device. This means that you can connect a Tasmota device to a Matter gateway, using standard and well defined protocols. The Matter communication is completely local.</p> <p>Matter cannot be directly supported on ESP8266 due to limited memory resources but you can use an ESP32 device as a Matter bridge to other Tasmota and <a href=https://github.com/openshwprojects/OpenBK7231T_App>OpenBK</a> devices.</p> <p><img alt="Matter diagram" src=../_media/matter/matter_schema_zigbee.svg></p> <div class="admonition info"> <p class=admonition-title>Thread is not supported</p> <p>Thread requires a specific radio and is not supported by ESP32 devices, it would require an additional, separate MCU. Espressif has launched a certified Thread Border Router based on ESP32S3 + ESP32H2 which should allow to bridge Thread device to a Wifi/Ethernet local network. Stay tuned...</p> </div> <h3 id=supported-platforms>Supported platforms<a class=headerlink href=#supported-platforms title="Permanent link">~</a></h3> <p>Tasmota Matter is confirmed to work with:</p> <ul> <li><a href=https://www.apple.com/home-app/ >Apple Home</a> - <a href=https://support.apple.com/en-us/HT207057>requirements</a></li> <li><a href=https://www.digitaltrends.com/home/how-to-connect-matter-devices-amazon-alexa/ >Amazon Alexa</a> - <a href=https://developer.amazon.com/en-US/alexa/matter>requirements</a></li> <li><a href=https://apps.apple.com/in/app/espressif-matter/id1604739172>Espressif-Matter</a> iOS/Mac app</li> <li><a href="https://support.google.com/googlenest/answer/12391458?hl=en">Google Home</a> - only works after following these <a href=../Matter-with-Google/ >instructions</a></li> <li><a href=https://next.home-assistant.io/integrations/matter#configuration>Home Assistant</a></li> </ul> <p><a href=https://github.com/mfucci/node-matter#pairing-and-usage-information>More information</a> on pairing with above mentioned smart home systems.</p> <h2 id=getting-started>Getting Started<a class=headerlink href=#getting-started title="Permanent link">~</a></h2> <p>Matter is supported by default. The binaries are available for all ESP32 variants in our <a href=https://tasmota.github.io/install/ >web installer</a></p> <p>Go to <strong><em>Configuration --&gt; Configure Matter</em></strong> and enable Matter with the checkmark then click <strong><em>Save</em></strong>.</p> <p><img alt="Enable Matter" src=../_media/matter/enable.jpg></p> <p>After a restart device commissioning will be open for 10 minutes.</p> <p><img alt="Device commissioning" src=../_media/matter/commissioning.jpg></p> <p>Add the device to your Matter hub by scanning the QR code or with the "Manual pairing code" if code scanning is not possible. </p> <h2 id=configuration>Configuration<a class=headerlink href=#configuration title="Permanent link">~</a></h2> <p>After Matter support is enabled the <strong><em>Configuration --&gt; Configure Matter</em></strong> menu is used to configure options.</p> <p><img alt="Matter configuration" src=../_media/matter/matter_configuration.jpg></p> <p>Here you can enable/disable Matter or open commissioning again if needed.</p> <h3 id=current-configuration>Current Configuration<a class=headerlink href=#current-configuration title="Permanent link">~</a></h3> <p>Configuration of your device for Matter discovery. Tasmota tries to configure supported features automatically.</p> <p>You can change the name of the Matter endpoint, switch its Parameter number or remove the endpoint by clicking the &#128293; icon.</p> <p><img alt="Matter configuration" src=../_media/matter/current_configuration.jpg></p> <p>After changing these options click <strong><em>Change configuration</em></strong>.</p> <h3 id=adding-supported-device-types>Adding supported device types<a class=headerlink href=#adding-supported-device-types title="Permanent link">~</a></h3> <h4 id=add-local-sensor-or-device>Add local sensor or device<a class=headerlink href=#add-local-sensor-or-device title="Permanent link">~</a></h4> <p>To add new features you need to add <a href=https://blog.espressif.com/matter-clusters-attributes-commands-82b8ec1640a0>Endpoints</a>.</p> <p><img alt="Add to configuration" src=../_media/matter/add_to_configuration.jpg></p> <h5 id=name>Name<a class=headerlink href=#name title="Permanent link">~</a></h5> <p>Name your endpoint to give it a label in your Matter hub (might not be supported by all hubs)</p> <h5 id=type>Type<a class=headerlink href=#type title="Permanent link">~</a></h5> <p>Select your endpoint type from the drop down. Types are limited by the <a href=https://developer.nordicsemi.com/nRF_Connect_SDK/doc/latest/nrf/protocols/matter/overview/data_model.html#device-type-overview>Matter specification</a> and some types might not be supported by the Matter hub.</p> <h5 id=parameter>Parameter<a class=headerlink href=#parameter title="Permanent link">~</a></h5> <p>To link a Tasmota power output (light/relay) to an endpoint set its parameter equal to the POWER number.</p> <div class="admonition example"> <p class=admonition-title>A relay on <code>POWER2</code> will have Parameter set to <code>2</code></p> </div> <p>To link a Tasmota sensor to an endpoint add the <a href=../Rules/#rule-trigger>rule trigger</a> of the sensor to the <em>Parameter</em> value.</p> <div class="admonition example"> <p class=admonition-title>You can easily find out the parameter value by issuing <code>Status 8</code> in the console:</p> <div class=highlight><pre><span></span><code><span class=err>MQT</span><span class=p>:</span><span class=w> </span><span class=kc>tele</span><span class=err>/</span><span class=kc>tas</span><span class=err>mo</span><span class=kc>ta</span><span class=err>/SENSOR</span><span class=w> </span><span class=err>=</span><span class=w> </span><span class=p>{</span><span class=nt>&quot;Time&quot;</span><span class=p>:</span><span class=s2>&quot;2023-05-28T20:04:27&quot;</span><span class=p>,</span><span class=nt>&quot;SCD40&quot;</span><span class=p>:{</span><span class=nt>&quot;CarbonDioxide&quot;</span><span class=p>:</span><span class=mi>618</span><span class=p>,</span><span class=nt>&quot;eCO2&quot;</span><span class=p>:</span><span class=mi>623</span><span class=p>,</span><span class=nt>&quot;Temperature&quot;</span><span class=p>:</span><span class=mf>23.8</span><span class=p>,</span><span class=nt>&quot;Humidity&quot;</span><span class=p>:</span><span class=mf>61.1</span><span class=p>,</span><span class=nt>&quot;DewPoint&quot;</span><span class=p>:</span><span class=mf>15.8</span><span class=p>},</span><span class=nt>&quot;TempUnit&quot;</span><span class=p>:</span><span class=s2>&quot;C&quot;</span><span class=p>}</span>
</code></pre></div> <p>Parameter for a Temperature endpoint will be <code>SCD#Temperature</code> and the Parameter for a Humidity endpoint will be <code>SCD#Humidity</code> in this case.</p> </div> <p><img alt="Endpoint configuration" src=../_media/matter/endpoint_config.jpg></p> <p>After entering click <strong><em>Create new endpoint</em></strong> and it will appear in the <strong><em>Current configuration</em></strong> list</p> <p><img alt="Endpoint configured" src=../_media/matter/endpoint_configured.jpg></p> <h4 id=add-remote-tasmota-or-openbk>Add Remote Tasmota or OpenBK<a class=headerlink href=#add-remote-tasmota-or-openbk title="Permanent link">~</a></h4> <p>With this option you can bridge any existing Tasmota or OpenBK device to Matter.</p> <p><img alt="Add Remote Tasmota or OpenBK" src=../_media/matter/add_remote.jpg></p> <p>Enter the IP or hostname of the remote device and click <strong><em>Auto-configure remote Tasmota</em></strong></p> <p>Since v13.3.0.2, web passwords are supported for remote Tasmota devices. Include the <code>admin:&lt;password&gt;@&lt;IP_or_hostname&gt;</code>. For example if the password is <code>banana</code>, specify the address as <code>admin:banana@192.168.2.78</code></p> <p><img alt=image src=https://github.com/tasmota/docs/assets/49731213/8a5ae934-e436-4821-aab3-7ae3c53fd9dc></p> <p>This will bring you to another menu where you can further configure the remote device.</p> <p><img alt="Add Remote Tasmota or OpenBK submenu" src=../_media/matter/add_remote_submenu.jpg></p> <p>Add remote Endpoints same as for a local sensors and devices.</p> <p>When finished click <strong><em>Add endpoints</em></strong>. The remote device will appear in the <strong><em>Current configuration</em></strong> list.</p> <p><img alt="Add Remote Tasmota or OpenBK configured" src=../_media/matter/add_remote_completed.jpg></p> <p>When a command arrives from the Matter controller, it is passed immediately to the end-device. Any change made on the end-device is eventually sent back to Matter controller via polling. Polling is done every 3 seconds for lights and relays and every 5 seconds for sensors.</p> <p>The Matter border router needs to have IP connectivity to the Tasmota end-device to send HTTP requests. However they don't need to be on the same VLAN (contrary to Matter which needs the controller and the device to be on the same VLAN).</p> <div class="admonition warning"> <p class=admonition-title>There is a limit to the number of endpoints</p> <p>Matter bridge cannot support a large number of endpoints since the numerous HTTP requests will impact performance. It is recommended to limit the number of remote endpoints to 8 per Matter bridge.</p> </div> <h4 id=reset-all-and-auto-discover>Reset all and Auto-discover<a class=headerlink href=#reset-all-and-auto-discover title="Permanent link">~</a></h4> <p>This option will reset all configured endpoints and try to auto discover them again.</p> <h3 id=specific-supported-types>Specific supported types<a class=headerlink href=#specific-supported-types title="Permanent link">~</a></h3> <p>Find below specific information you need to know for certain device types</p> <h4 id=lights>Lights<a class=headerlink href=#lights title="Permanent link">~</a></h4> <p>When possible, native lights are automatically mapped to Matter lights. Currently, lights with 1/2/3 channels are mapped to <code>Light 1 Dimmer</code>/<code>Light 2 CT</code>/<code>Light 3 RGB</code> endpoint types. They don't need any parameter, except for bridged device where you need to indicate the <code>Power&lt;x&gt;</code> number associated to the light (this is due to bridge mode not able to automatically detect it).</p> <h5 id=rgb-and-white-split>RGB and White Split<a class=headerlink href=#rgb-and-white-split title="Permanent link">~</a></h5> <p>See <a href=https://tasmota.github.io/docs/Lights/#rgb-and-white-split>RGB and White Split</a> enabled with <code>SetOption37 128</code>.</p> <p>4 channels lights are split as 1 RGB and 1 Dimmer: <img alt=image src=https://github.com/user-attachments/assets/0d8ba0f8-425f-465c-8013-1575ea4c8e91></p> <p>5 channels light are split as 1 RGB and 1 CT: <img alt=image src=https://github.com/user-attachments/assets/daf3e8f5-69af-4e53-a29b-e058fe9c9da0></p> <h5 id=independent-pwm-channels>Independent PWM Channels<a class=headerlink href=#independent-pwm-channels title="Permanent link">~</a></h5> <p>See <a href=https://tasmota.github.io/docs/Lights/#independent-pwm-channels>Independent PWM Channels</a> enabled with <code>SetOption68 1</code></p> <p>All channels are defined as independant Light Dimmers: <img alt=image src=https://github.com/user-attachments/assets/e077fb97-a501-4932-8e5c-6bc7f1f4e057></p> <p>Note: the first Dimmer has no parameter and is mapped to the default (first) channel. Other channels need an additional <code>light</code> parameter to map to the appropriate channel (numbering starts with <code>1</code> which is also the default).</p> <h3 id=bridging-zigbee-devices>Bridging Zigbee devices<a class=headerlink href=#bridging-zigbee-devices title="Permanent link">~</a></h3> <p>Since v14.2.0, it is now possible to control a selection of Zigbee devices via a Z2T (Zigbee2Tasmota) bridge device. Such bridge device should have Zigbee and Matter enabled; currently you need to self-compile the firmware.</p> <div class="admonition warning"> <p class=admonition-title>This mode is not possible if you are using <strong>Zigbee2MQTT</strong> or <strong>ZHA</strong> with Tasmota in TCP tunnel (<code>TCPStart</code>). In such modes, Tasmota has no visibility on the data passed between Z2M/ZHA, and has no control over the Zigbee MCU."</p> </div> <div class="admonition tip"> <p class=admonition-title>Matter control of zigbee lights is compatible with Alexa Hue, you can have the same light controlled by multiple controllers.</p> </div> <p>To configure a Zigbee devices mapped to a Matter endpoint, you simply need to choose the Zigbee Matter type and select the Zigbee device: either by shortaddr (ex: 0xABCD) or by friendlyname (preferred).</p> <p><img alt="Matter Zigbee types" src=../_media/matter/zigbee_menu.png></p> <table> <thead> <tr> <th style="text-align: left;">Matter type</th> <th style="text-align: left;">Zigbee mapping</th> </tr> </thead> <tbody> <tr> <td style="text-align: left;">Zig Light 0 OnOff</td> <td style="text-align: left;">Light On/Off controlled via <code>Power</code> command and attribute</td> </tr> <tr> <td style="text-align: left;">Zig Light 1 Dimmer</td> <td style="text-align: left;">Light with 1 channel, controlled via <code>Power</code> and <code>Bri</code> commands and attributes</td> </tr> <tr> <td style="text-align: left;">Zig Light 2 CT</td> <td style="text-align: left;">Light with 2 channels (white with color temperature), controlled via <code>Power</code>, <code>Bri</code> and <code>CT</code> commands and attributes</td> </tr> <tr> <td style="text-align: left;">Zig Temperature</td> <td style="text-align: left;">Temperature sensor, reported via <code>Temperature</code> attribute</td> </tr> <tr> <td style="text-align: left;">Zig Pressure</td> <td style="text-align: left;">Atmospheric Pressure sensor, reported via <code>Pressure</code> attribute</td> </tr> <tr> <td style="text-align: left;">Zig Humidity</td> <td style="text-align: left;">Atmospheric Humidity sensor, reported via <code>Humidity</code> attribute</td> </tr> <tr> <td style="text-align: left;">Zig Occupancy</td> <td style="text-align: left;">Occupancy sensor, reported via <code>Occupancy</code> attribute</td> </tr> </tbody> </table> <p>Limitations: currently only the first endpoint light can be controlled. Plugs with multple relays are not yet supported (only the first one is accessible).</p> <h2 id=advanced-configuration>Advanced Configuration<a class=headerlink href=#advanced-configuration title="Permanent link">~</a></h2> <h3 id=matter-passcode>Matter Passcode<a class=headerlink href=#matter-passcode title="Permanent link">~</a></h3> <p>You can change the passcode and ID of the device or force it to use IPv4 only.</p> <p><img alt="Matter Passcode" src=../_media/matter/passcode.jpg></p> <h3 id=fabrics>Fabrics<a class=headerlink href=#fabrics title="Permanent link">~</a></h3> <p>In short fabrics are Matter node identifiers. <a href=https://matter-smarthome.de/en/know-how/what-is-a-matter-fabric/ >Long story here...</a>.</p> <p><img alt=Fabrics src=../_media/matter/fabrics.jpg></p> <p>Deleting a Fabric will remove its commissioned status from the Matter hub.</p> <h2 id=known-limitations>Known Limitations<a class=headerlink href=#known-limitations title="Permanent link">~</a></h2> <p>Matter support is still in testing, there are some limitations:</p> <ul> <li>Matter requires IPv6 support, yet IPv4 is often tolerated. For debug purpose you can force Tasmota to manage Matter only on IPv4</li> <li>Tasmota devices with dual active networks (Ethernet + Wifi) are not yet supported. You need to disable Wifi or Ethernet. For example use <a href=https://tasmota.github.io/docs/Berry-Cookbook/#ethernet-network-flipper>Ethernet Network Flipper</a></li> <li>Tasmota cannot be Matter certified, it uses development vendor id's, which typically raise user warnings when commissioning the device</li> <li>Matter is also in an early phase with hub development and not all hubs support all Matter device types yet</li> </ul> <p>What's not suported:</p> <ul> <li><strong>Thread</strong> as it requires a separate MCU. The number of Thread devices is still very limited.</li> <li><strong>ESP8266</strong> directly because of limited memory resources and lack of Berry support but you can add them to Matter via the Remote option</li> <li><strong>Zigbee</strong> (it will come later)</li> </ul> <h2 id=matter-command-events>Matter Command Events<a class=headerlink href=#matter-command-events title="Permanent link">~</a></h2> <p>Whenever a command is received from the controller, an event is generated and published to MQTT. This event can be matched by a rule.</p> <p>Example:</p> <div class=highlight><pre><span></span><code>20:08:36.201 MQT: stat/tasmota_xxxxxx/COMMAND = {&quot;MtrReceived&quot;:{&quot;9&quot;:{&quot;Ep&quot;:9,&quot;Name&quot;:&quot;Light0&quot;,&quot;Power&quot;:1}}}
</code></pre></div> <p>Note: only commands trigger an event (Controller to Tasmota). When a sensors updates the controller (Tasmota to Controller), it is not considered as a command but as an update of internal state.</p> <p>Endpoints are identified both by endpoint number <code>"Ep":&lt;x&gt;</code> and by name if a friendlyname is defined <code>"Name":"&lt;friendlyname&gt;"</code>. The formatting of MQTT topic and JSON payload use the same SetOption's as Zigbee.</p> <table> <thead> <tr> <th style="text-align: left;">SetOption</th> <th style="text-align: left;">Description</th> </tr> </thead> <tbody> <tr> <td style="text-align: left;">SO83</td> <td style="text-align: left;">Use friendly_name as key instead of <code>ep&lt;x&gt;</code></td> </tr> <tr> <td style="text-align: left;">SO100</td> <td style="text-align: left;">Remove <code>MtrReceived</code> key prefix</td> </tr> <tr> <td style="text-align: left;">SO119</td> <td style="text-align: left;">Remove the endpoint or friendly name as key, the device name is still published in "Name" key</td> </tr> <tr> <td style="text-align: left;">SO89</td> <td style="text-align: left;">Publish on distinct topics per endpoint, by default <code>stat/tasmota_xxxxxx/&lt;ep&gt;/COMMAND</code></td> </tr> <tr> <td style="text-align: left;">SO112</td> <td style="text-align: left;">If <code>SO89 1</code>, use the friendly name in topic instead of endpoint number</td> </tr> <tr> <td style="text-align: left;">SO118</td> <td style="text-align: left;">Move <code>MtrReceived</code> from JSON message and into the subtopic replacing "COMMAND" default</td> </tr> <tr> <td style="text-align: left;">SO125</td> <td style="text-align: left;">Hide bridge from topic (use with SetOption89)</td> </tr> </tbody> </table> <p>Examples below consider an endpoint number <code>9</code> with friendlyname <code>Light0</code>:</p> <table> <thead> <tr> <th style="text-align: left;">83</th> <th style="text-align: left;">100</th> <th style="text-align: left;">119</th> <th style="text-align: left;">118</th> <th style="text-align: left;">144</th> <th style="text-align: left;">JSON Payload</th> </tr> </thead> <tbody> <tr> <td style="text-align: left;">0</td> <td style="text-align: left;">0</td> <td style="text-align: left;">0</td> <td style="text-align: left;">0</td> <td style="text-align: left;">0</td> <td style="text-align: left;"><code>{"MtrReceived":{"ep9":{"Name":"Light0","Power":1}}}</code></td> </tr> <tr> <td style="text-align: left;">1</td> <td style="text-align: left;">0</td> <td style="text-align: left;">0</td> <td style="text-align: left;">0</td> <td style="text-align: left;">0</td> <td style="text-align: left;"><code>{"MtrReceived":{"Light0":{"Name":"Light0","Power":1}}}</code></td> </tr> <tr> <td style="text-align: left;">0</td> <td style="text-align: left;">1</td> <td style="text-align: left;">0</td> <td style="text-align: left;">0</td> <td style="text-align: left;">x</td> <td style="text-align: left;"><code>{"ep9":{"Name":"Light0","Power":1}}</code></td> </tr> <tr> <td style="text-align: left;">1</td> <td style="text-align: left;">1</td> <td style="text-align: left;">0</td> <td style="text-align: left;">0</td> <td style="text-align: left;">x</td> <td style="text-align: left;"><code>{"Light0":{"Name":"Light0","Power":1}}</code></td> </tr> <tr> <td style="text-align: left;">x</td> <td style="text-align: left;">0</td> <td style="text-align: left;">1</td> <td style="text-align: left;">0</td> <td style="text-align: left;">0</td> <td style="text-align: left;"><code>{"MtrReceived":{"Name":"Light0","Power":1}}</code></td> </tr> <tr> <td style="text-align: left;">x</td> <td style="text-align: left;">1</td> <td style="text-align: left;">1</td> <td style="text-align: left;">0</td> <td style="text-align: left;">x</td> <td style="text-align: left;"><code>{"Name":"Light0","Power":1}</code></td> </tr> <tr> <td style="text-align: left;">0</td> <td style="text-align: left;">0</td> <td style="text-align: left;">0</td> <td style="text-align: left;">1</td> <td style="text-align: left;">x</td> <td style="text-align: left;"><code>{"ep9":{"Name":"Light0","Power":1}}</code></td> </tr> <tr> <td style="text-align: left;">0</td> <td style="text-align: left;">0</td> <td style="text-align: left;">0</td> <td style="text-align: left;">0</td> <td style="text-align: left;">1</td> <td style="text-align: left;"><code>{"Time":"2023-09-20T09:21:26","MtrReceived":{"ep9":{"Name":"Light0","Power":1}}}</code></td> </tr> <tr> <td style="text-align: left;">1</td> <td style="text-align: left;">0</td> <td style="text-align: left;">0</td> <td style="text-align: left;">0</td> <td style="text-align: left;">1</td> <td style="text-align: left;"><code>{"Time":"2023-09-20T09:21:26","MtrReceived":{"Light0":{"Name":"Light0","Power":1}}}</code></td> </tr> <tr> <td style="text-align: left;">1</td> <td style="text-align: left;">0</td> <td style="text-align: left;">1</td> <td style="text-align: left;">0</td> <td style="text-align: left;">1</td> <td style="text-align: left;"><code>{"Time":"2023-09-20T09:21:26","MtrReceived":{"Name":"Light0","Power":1}}</code></td> </tr> </tbody> </table> <table> <thead> <tr> <th style="text-align: left;">89</th> <th style="text-align: left;">112</th> <th style="text-align: left;">118</th> <th style="text-align: left;">125</th> <th style="text-align: left;">MQTT Topic</th> </tr> </thead> <tbody> <tr> <td style="text-align: left;">0</td> <td style="text-align: left;">x</td> <td style="text-align: left;">0</td> <td style="text-align: left;">x</td> <td style="text-align: left;"><code>stat/tasmota_xxxxxx/COMMAND</code></td> </tr> <tr> <td style="text-align: left;">1</td> <td style="text-align: left;">0</td> <td style="text-align: left;">0</td> <td style="text-align: left;">0</td> <td style="text-align: left;"><code>stat/tasmota_xxxxxx/9/COMMAND</code></td> </tr> <tr> <td style="text-align: left;">1</td> <td style="text-align: left;">1</td> <td style="text-align: left;">0</td> <td style="text-align: left;">0</td> <td style="text-align: left;"><code>stat/tasmota_xxxxxx/Light0/COMMAND</code></td> </tr> <tr> <td style="text-align: left;">0</td> <td style="text-align: left;">x</td> <td style="text-align: left;">1</td> <td style="text-align: left;">x</td> <td style="text-align: left;"><code>stat/tasmota_xxxxxx/COMMAND</code></td> </tr> <tr> <td style="text-align: left;">1</td> <td style="text-align: left;">0</td> <td style="text-align: left;">1</td> <td style="text-align: left;">0</td> <td style="text-align: left;"><code>stat/tasmota_xxxxxx/9/MtrReceived</code></td> </tr> <tr> <td style="text-align: left;">1</td> <td style="text-align: left;">1</td> <td style="text-align: left;">1</td> <td style="text-align: left;">0</td> <td style="text-align: left;"><code>stat/tasmota_xxxxxx/Light0/MtrReceived</code></td> </tr> <tr> <td style="text-align: left;">1</td> <td style="text-align: left;">0</td> <td style="text-align: left;">0</td> <td style="text-align: left;">1</td> <td style="text-align: left;"><code>stat/9/COMMAND</code></td> </tr> <tr> <td style="text-align: left;">1</td> <td style="text-align: left;">1</td> <td style="text-align: left;">0</td> <td style="text-align: left;">1</td> <td style="text-align: left;"><code>stat/Light0/COMMAND</code></td> </tr> <tr> <td style="text-align: left;">1</td> <td style="text-align: left;">0</td> <td style="text-align: left;">1</td> <td style="text-align: left;">1</td> <td style="text-align: left;"><code>stat/9/MtrReceived</code></td> </tr> <tr> <td style="text-align: left;">1</td> <td style="text-align: left;">1</td> <td style="text-align: left;">1</td> <td style="text-align: left;">1</td> <td style="text-align: left;"><code>stat/Light0/MtrReceived</code></td> </tr> </tbody> </table> <p>To reset all options, use:</p> <div class=highlight><pre><span></span><code>Backlog SO83 0; SO89 0; SO100 0; SO112 0; SO118 0; SO119 0; SO125 0; SO144 0
</code></pre></div> <h2 id=matter-virtual-devices>Matter Virtual Devices<a class=headerlink href=#matter-virtual-devices title="Permanent link">~</a></h2> <p>Since v13.1.0.3, it is possible to define "virtual devices" (lights, sensors...) visible from the controller but that do not map to an actual device or sensors managed by Tasmota. You can completely customize the behavior of the virtual device with rules or Berry scripts:</p> <ul> <li>whenever the controller sends a command, it generates a "Matter Command Event" JSON payload that you handle with rules</li> <li>you send back updates of the status of the device when you want via <code>MtrUpdate</code> command. Updates are automatically sent back to the controller via hidden Matter subscription.</li> </ul> <h3 id=mtrupdate-command><code>MtrUpdate</code> command<a class=headerlink href=#mtrupdate-command title="Permanent link">~</a></h3> <p><code>MtrUpdate</code> is used to signal to the Matter controller that the internal state of an endpoint has changed, either because of a user action or because of a new sensor reading. When you update an internal state variable, and if the value actually change, an attribute report message is sent immediately to the controller to signal the change. This ensures that Matter applications are promptly notified. In case of multiple controllers, multiple report messages are automatically sent.</p> <p>There are 2 ways to identify an endpoint:</p> <ul> <li><code>"Ep":&lt;ep_number&gt;</code> via the endpoint number</li> <li><code>"Name":"&lt;friendly_name&gt;"</code> (preferred) via the friendly_name of the endpoint if one has been set.</li> </ul> <p>Example:</p> <div class=highlight><pre><span></span><code>MtrUpdate {&quot;ep&quot;:9, &quot;Power&quot;:0}
20:44:57.852 MQT: stat/tasmota_xxxxxx/RESULT = {&quot;MtrUpdate&quot;:{&quot;Ep&quot;:9,&quot;Name&quot;:&quot;Light0&quot;,&quot;Power&quot;:false}}

MtrUpdate {&quot;Name&quot;:&quot;Light0&quot;, &quot;Power&quot;:1}
20:45:27.457 MQT: stat/tasmota_xxxxxx/RESULT = {&quot;MtrUpdate&quot;:{&quot;Ep&quot;:9,&quot;Name&quot;:&quot;Light0&quot;,&quot;Power&quot;:true}}
</code></pre></div> <p>If the endpoint is valid, the returned payload contains the entire state of the endpoint, similar to <code>MtrInfo</code> command.</p> <p>List of attributes supported by endpoints:</p> <table> <thead> <tr> <th style="text-align: left;">Attribute</th> <th style="text-align: left;">Type of endpoint</th> <th style="text-align: left;">Description</th> </tr> </thead> <tbody> <tr> <td style="text-align: left;">Power</td> <td style="text-align: left;">Relay, all Lights</td> <td style="text-align: left;"><code>0</code>/<code>1</code> report Power change</td> </tr> <tr> <td style="text-align: left;">Bri</td> <td style="text-align: left;">Lights</td> <td style="text-align: left;"><code>0..254</code> report Brightness change</td> </tr> <tr> <td style="text-align: left;">CT</td> <td style="text-align: left;">Light 2</td> <td style="text-align: left;"><code>153..500</code> White Temperature in mireds</td> </tr> <tr> <td style="text-align: left;">Hue</td> <td style="text-align: left;">Ligth 3</td> <td style="text-align: left;"><code>0..254</code> Hue converted from 0..360 to 0..254</td> </tr> <tr> <td style="text-align: left;">Sat</td> <td style="text-align: left;">Light 3</td> <td style="text-align: left;"><code>0..254</code> Saturation</td> </tr> <tr> <td style="text-align: left;">Contact</td> <td style="text-align: left;">Contact</td> <td style="text-align: left;"><code>0</code>/<code>1</code> state of the Contact sensor</td> </tr> <tr> <td style="text-align: left;">Occupancy</td> <td style="text-align: left;">Occupancy</td> <td style="text-align: left;"><code>0</code>/<code>1</code> state of the Occupancy sensor</td> </tr> <tr> <td style="text-align: left;">Humidity</td> <td style="text-align: left;">Humidity</td> <td style="text-align: left;"><code>0..10000</code> Humidity in 1/100th of percentage</td> </tr> <tr> <td style="text-align: left;">Illuminance</td> <td style="text-align: left;">Illuminance</td> <td style="text-align: left;"><code>0..65534</code> Illuminance with formula <code>log10(val + 1) * 10000</code></td> </tr> <tr> <td style="text-align: left;">Pressure</td> <td style="text-align: left;">Pressure</td> <td style="text-align: left;">Pressure in <code>hPa</code></td> </tr> <tr> <td style="text-align: left;">Temperature</td> <td style="text-align: left;">Temperature</td> <td style="text-align: left;"><code>-32767..32767</code> Temperature in 1/100th of C</td> </tr> <tr> <td style="text-align: left;">Rain</td> <td style="text-align: left;">Rain</td> <td style="text-align: left;"><code>0</code>/<code>1</code> change rain sensor stateC</td> </tr> <tr> <td style="text-align: left;">Waterleak</td> <td style="text-align: left;">Waterleak</td> <td style="text-align: left;"><code>0</code>/<code>1</code> change rain sensor state</td> </tr> <tr> <td style="text-align: left;">FanMode</td> <td style="text-align: left;">Fan</td> <td style="text-align: left;"><code>0</code>: Off<br><code>1</code>: Low (33%)<br><code>2</code>: Med (66%)<br><code>3</code>: High (100%)</td> </tr> <tr> <td style="text-align: left;">FanSpeed</td> <td style="text-align: left;">Fan</td> <td style="text-align: left;"><code>0..100</code> Fan speed in percentage</td> </tr> <tr> <td style="text-align: left;">FanSpeed255</td> <td style="text-align: left;">Fan</td> <td style="text-align: left;"><code>0..255</code> Fan speed in a range more suitable for Rules and PWM</td> </tr> </tbody> </table> <p>Keep in mind that many values are in the range <code>0..254</code> because <code>255</code> is an invalid value (this comes from Zigbee).</p> <h3 id=full-example>Full Example<a class=headerlink href=#full-example title="Permanent link">~</a></h3> <p>The example below implements a simple bridge between Matter and IR (Infra Red). This allows to trigger On/Off commands from the Matter controller, that are translated to On/Off infra-red commands (we use the simple NEC protocol in the example, like used in Magic Home LED strips). You can also received On/Off infra-red commands that are reflected in the virtual light. In reality, you will probably use only Matter-to-IR or IR-to-Matter direction, but it doesn't harm to have both directions implemented.</p> <p>We will use a Tasmota Relay via <code>Power1</code> and map it with rules to a virtual <code>Light0</code> type.</p> <p><strong>Step 1.</strong> Define one endpoint as <code>(v) Light 0 On</code> and give it the name <code>Light0</code>.</p> <p><img width=361 alt=Matter_Virtual_Light src=https://github.com/tasmota/docs/assets/49731213/7c45a330-d973-4466-ad3c-bdb5e942ee73></p> <p><strong>Step 2.</strong> Define rules for Matter Controller commands</p> <p>We use <code>SetOption83 1</code> to match endpoint name instead of number, which is highly recommended for easier maintenance.</p> <div class=highlight><pre><span></span><code>SetOption83 1
Rule1 on mtrreceived#Light0#power==1 do irsend {&quot;protocol&quot;:&quot;nec&quot;,&quot;bits&quot;:32,&quot;data&quot;:&quot;0xffb04f&quot;} endon on mtrreceived#Light0#power==0 do irsend {&quot;protocol&quot;:&quot;nec&quot;,&quot;bits&quot;:32,&quot;data&quot;:&quot;0xfff807&quot;} endon on irreceived#data=0xFFB04F do mtrupdate {&quot;name&quot;:&quot;Light0&quot;,&quot;power&quot;:1} endon on irreceived#data=0xFFF807 do mtrupdate {&quot;name&quot;:&quot;Light0&quot;,&quot;power&quot;:0} endon
Rule1 1
</code></pre></div> <p>If we decompose the Rule, the first two rule matches convert a Matter initiated command to an IR message, the two last convert an IR message to a Matter state update:</p> <div class=highlight><pre><span></span><code>Rule1
    on mtrreceived#Light0#power==1 do irsend {&quot;protocol&quot;:&quot;nec&quot;,&quot;bits&quot;:32,&quot;data&quot;:&quot;0xffb04f&quot;} endon
    on mtrreceived#Light0#power==0 do irsend {&quot;protocol&quot;:&quot;nec&quot;,&quot;bits&quot;:32,&quot;data&quot;:&quot;0xfff807&quot;} endon
    on irreceived#data=0xFFB04F do mtrupdate {&quot;name&quot;:&quot;Light0&quot;,&quot;power&quot;:1} endon
    on irreceived#data=0xFFF807 do mtrupdate {&quot;name&quot;:&quot;Light0&quot;,&quot;power&quot;:0} endon 
</code></pre></div> <p><strong>Step 3.</strong> Pair Tasmota to the Matter Controller.</p> <h2 id=commands>Commands<a class=headerlink href=#commands title="Permanent link">~</a></h2> <table> <thead> <tr> <th style="text-align: left;">Command</th> <th style="text-align: left;">Description</th> </tr> </thead> <tbody> <tr> <td style="text-align: left;">MtrJoin</td> <td style="text-align: left;"><code>1</code> = open commissioning for 10 minutes<br><code>0</code> = close commissioning</td> </tr> <tr> <td style="text-align: left;">MtrUpdate</td> <td style="text-align: left;">Send an state update to the controller, see Virtual Devices above</td> </tr> <tr> <td style="text-align: left;">MtrInfo</td> <td style="text-align: left;"><code>ep_number</code> or <code>friendly_name</code><br>Display the internal state of an endpoint by number or by name<br>Example: <code>MtrInfo 9</code> or <code>MtrInfo Light0</code><br><code>20:25:04.362 MQT: tele/tasmota_673244/RESULT = {"MtrInfo":{"Ep":9,"Name":"Light0","Power":true}}</code><br>Use <code>MtrInfo</code> (no argument) to display all endpoints</td> </tr> </tbody> </table> <h2 id=misc-events>Misc Events<a class=headerlink href=#misc-events title="Permanent link">~</a></h2> <p>Events published as JSON MQTT that can be captured in rules:</p> <p><code>{"Matter":{"Initialized":1}}</code> <br> when the device is configured (all endpoints created). Can be used in rules with trigger <code>Matter#Initialized</code></p> <p><code>{"Matter":{"Commissioning":1,"PairingCode":"00054912336","QRCode":"MT:Y.K90IRV01YZ.548G00"}}</code> <br> when commissioning is open</p> <p><code>{"Matter":{"Commissioning":0}}</code> <br> when commissioning is closed</p> <h2 id=for-developers>For developers<a class=headerlink href=#for-developers title="Permanent link">~</a></h2> <p>Developers might be interested in understanding the <a href=../Matter-Internals/ >Tasmota Matter Internals</a></p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://discord.gg/Ks2Kzd4 target=_blank rel=noopener title=discord.gg class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1.1s-.6.4-.8.8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2C162.5 39 122.2 51.5 84.1 69c-.3.1-.6.4-.8.7C7.1 183.5-13.8 294.6-3.6 404.2c0 .3.1.5.2.8s.3.4.5.6c44.4 32.9 94 58 146.8 74.2.4.1.8.1 1.1 0s.7-.4.9-.7c11.3-15.4 21.4-31.8 30-48.8.1-.2.2-.5.2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6.2-.9.3-.5.6-.7c3.1-2.3 6.2-4.7 9.1-7.1.3-.2.6-.4.9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1.7-.2 1-.2s.7.2.9.4c2.9 2.4 6 4.9 9.1 7.2.2.2.4.4.6.7s.2.6.2.9-.1.6-.3.9-.4.5-.6.6c-14.7 8.6-30 15.9-45.9 21.8-.2.1-.5.2-.7.4s-.3.4-.4.7-.1.5-.1.8.1.5.2.8c8.8 17 18.8 33.3 30 48.8.2.3.6.6.9.7s.8.1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2.2-.2.4-.4.5-.6s.2-.5.2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2m195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2"/></svg> </a> <a href=https://t.me/tasmota target=_blank rel=noopener title=t.me class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M256 8a248 248 0 1 0 0 496 248 248 0 1 0 0-496m115 168.7c-3.7 39.2-19.9 134.4-28.1 178.3-3.5 18.6-10.3 24.8-16.9 25.4-14.4 1.3-25.3-9.5-39.3-18.7-21.8-14.3-34.2-23.2-55.3-37.2-24.5-16.1-8.6-25 5.3-39.5 3.7-3.8 67.1-61.5 68.3-66.7.2-.7.3-3.1-1.2-4.4s-3.6-.8-5.1-.5c-2.2.5-37.1 23.5-104.6 69.1-9.9 6.8-18.9 10.1-26.9 9.9-8.9-.2-25.9-5-38.6-9.1-15.5-5-27.9-7.7-26.8-16.3.6-4.5 6.7-9 18.4-13.7 72.3-31.5 120.5-52.3 144.6-62.3 68.9-28.6 83.2-33.6 92.5-33.8 2.1 0 6.6.5 9.6 2.9 2 1.7 3.2 4.1 3.5 6.7.5 3.2.6 6.5.4 9.8z"/></svg> </a> <a href=https://github.com/tasmota target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"annotate": null, "base": "..", "features": ["navigation.instant", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "content.action.edit", "content.code.copy"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../assets/javascripts/bundle.79ae519e.min.js></script> <script src=https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js></script> <script src=../extra_javascript/tablesort.js></script> </body> </html>