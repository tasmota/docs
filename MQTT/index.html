<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Documentation (Wiki) for Tasmota"><link href=https://tasmota.github.io/docs/MQTT/ rel=canonical><link href=../Upgrading/ rel=prev><link href=../Commands/ rel=next><link rel=icon href=../_media/favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.23"><title>MQTT - Tasmota</title><link rel=stylesheet href=../assets/stylesheets/main.84d31ad4.min.css><link rel=stylesheet href=../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Barlow:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Barlow";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../assets/css/anchor-fix.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-8J08F8X90S"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-8J08F8X90S",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-8J08F8X90S",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=blue data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#warning class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title=Tasmota class="md-header__button md-logo" aria-label=Tasmota data-md-component=logo> <img src=../_media/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Tasmota </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> MQTT </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=blue data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=blue data-md-color-accent=deep-purple aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/arendst/tasmota title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> arendst/tasmota </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class="md-tabs__item md-tabs__item--active"> <a href=.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../Features/ class=md-tabs__link> Features </a> </li> <li class=md-tabs__item> <a href=../ESP32/ class=md-tabs__link> ESP32 </a> </li> <li class=md-tabs__item> <a href=../Integrations/ class=md-tabs__link> Smart Home Integrations </a> </li> <li class=md-tabs__item> <a href=../Supported-Peripherals/ class=md-tabs__link> Peripherals </a> </li> <li class=md-tabs__item> <a href=../Configuration-Procedure-for-New-Devices/ class=md-tabs__link> Supported Devices </a> </li> <li class=md-tabs__item> <a href=../FAQ/ class=md-tabs__link> Help </a> </li> <li class=md-tabs__item> <a href=http://tasmota.github.io/install class=md-tabs__link> Web Installer </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title=Tasmota class="md-nav__button md-logo" aria-label=Tasmota data-md-component=logo> <img src=../_media/logo.svg alt=logo> </a> Tasmota </label> <div class=md-nav__source> <a href=https://github.com/arendst/tasmota title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> arendst/tasmota </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1 checked> <label class=md-nav__link for=__nav_1 id=__nav_1_label tabindex> <span class=md-ellipsis> Home </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=true> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Home </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> <span class=md-ellipsis> News </span> </a> </li> <li class=md-nav__item> <a href=../About/ class=md-nav__link> <span class=md-ellipsis> About </span> </a> </li> <li class=md-nav__item> <a href=../Getting-Started/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> </a> </li> <li class=md-nav__item> <a href=../Upgrading/ class=md-nav__link> <span class=md-ellipsis> Upgrading </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> MQTT </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> MQTT </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#warning class=md-nav__link> <span class=md-ellipsis> Warning </span> </a> </li> <li class=md-nav__item> <a href=#configure-mqtt class=md-nav__link> <span class=md-ellipsis> Configure MQTT </span> </a> <nav class=md-nav aria-label="Configure MQTT"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#configure-mqtt-using-webui class=md-nav__link> <span class=md-ellipsis> Configure MQTT using WebUI </span> </a> </li> <li class=md-nav__item> <a href=#configure-mqtt-using-backlog class=md-nav__link> <span class=md-ellipsis> Configure MQTT using Backlog </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#commands-over-mqtt class=md-nav__link> <span class=md-ellipsis> Commands over MQTT </span> </a> <nav class=md-nav aria-label="Commands over MQTT"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#command-flow class=md-nav__link> <span class=md-ellipsis> Command flow </span> </a> </li> <li class=md-nav__item> <a href=#examples class=md-nav__link> <span class=md-ellipsis> Examples </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#mqtt-topic-definition class=md-nav__link> <span class=md-ellipsis> MQTT Topic Definition </span> </a> <nav class=md-nav aria-label="MQTT Topic Definition"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fulltopic class=md-nav__link> <span class=md-ellipsis> FullTopic </span> </a> </li> <li class=md-nav__item> <a href=#topic class=md-nav__link> <span class=md-ellipsis> %topic% </span> </a> </li> <li class=md-nav__item> <a href=#grouptopic class=md-nav__link> <span class=md-ellipsis> GroupTopic </span> </a> </li> <li class=md-nav__item> <a href=#fallback-topic class=md-nav__link> <span class=md-ellipsis> FallBack Topic </span> </a> </li> <li class=md-nav__item> <a href=#lwt-topic-last-will-and-testament class=md-nav__link> <span class=md-ellipsis> LWT Topic (Last Will and Testament) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#retained-mqtt-messages class=md-nav__link> <span class=md-ellipsis> Retained MQTT Messages </span> </a> <nav class=md-nav aria-label="Retained MQTT Messages"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#clearing-retained-messages class=md-nav__link> <span class=md-ellipsis> Clearing Retained Messages </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#subscribeunsubscribe class=md-nav__link> <span class=md-ellipsis> Subscribe/Unsubscribe </span> </a> <nav class=md-nav aria-label=Subscribe/Unsubscribe> <ul class=md-nav__list> <li class=md-nav__item> <a href=#subscribe class=md-nav__link> <span class=md-ellipsis> Subscribe </span> </a> </li> <li class=md-nav__item> <a href=#unsubscribe class=md-nav__link> <span class=md-ellipsis> Unsubscribe </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#return-codes-rc class=md-nav__link> <span class=md-ellipsis> Return codes (rc) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../Commands/ class=md-nav__link> <span class=md-ellipsis> Commands </span> </a> </li> <li class=md-nav__item> <a href=../Templates/ class=md-nav__link> <span class=md-ellipsis> Templates </span> </a> </li> <li class=md-nav__item> <a href=../Components/ class=md-nav__link> <span class=md-ellipsis> Components </span> </a> </li> <li class=md-nav__item> <a href=../Modules/ class=md-nav__link> <span class=md-ellipsis> Modules </span> </a> </li> <li class=md-nav__item> <a href=../Peripherals/ class=md-nav__link> <span class=md-ellipsis> Peripherals </span> </a> </li> <li class=md-nav__item> <a href=../WebUI/ class=md-nav__link> <span class=md-ellipsis> WebUI </span> </a> </li> <li class=md-nav__item> <a href=../Firmware-Builds/ class=md-nav__link> <span class=md-ellipsis> Firmware Builds </span> </a> </li> <li class=md-nav__item> <a href=../Compile-your-build/ class=md-nav__link> <span class=md-ellipsis> Compiling </span> </a> </li> <li class=md-nav__item> <a href=../Contributing/ class=md-nav__link> <span class=md-ellipsis> Contributing </span> </a> </li> <li class=md-nav__item> <a href=../Download/ class=md-nav__link> <span class=md-ellipsis> Download </span> </a> </li> <li class=md-nav__item> <a href=https://github.com/arendst/Tasmota/discussions/categories/show-and-tell class=md-nav__link> <span class=md-ellipsis> Project Showcase </span> </a> </li> <li class=md-nav__item> <a href=../For-Developers/ class=md-nav__link> <span class=md-ellipsis> For Developers </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Features </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Features </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Features/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../ADC/ class=md-nav__link> <span class=md-ellipsis> Analog Pin </span> </a> </li> <li class=md-nav__item> <a href=../ArtNet/ class=md-nav__link> <span class=md-ellipsis> ArtNet DMX </span> </a> </li> <li class=md-nav__item> <a href=../Buttons-and-Switches/ class=md-nav__link> <span class=md-ellipsis> Buttons and Switches </span> </a> </li> <li class=md-nav__item> <a href=../DeepSleep/ class=md-nav__link> <span class=md-ellipsis> DeepSleep </span> </a> </li> <li class=md-nav__item> <a href=../Device-Groups/ class=md-nav__link> <span class=md-ellipsis> Device Groups </span> </a> </li> <li class=md-nav__item> <a href=../Universal-Display-Driver/ class=md-nav__link> <span class=md-ellipsis> Universal Display and Universal Touch drivers (uDisplay/uTouch) </span> </a> </li> <li class=md-nav__item> <a href=../Displays/ class=md-nav__link> <span class=md-ellipsis> Displays </span> </a> </li> <li class=md-nav__item> <a href=../Dynamic-Sleep/ class=md-nav__link> <span class=md-ellipsis> Dynamic Sleep </span> </a> </li> <li class=md-nav__item> <a href=../I2CDEVICES/ class=md-nav__link> <span class=md-ellipsis> I2C Devices </span> </a> </li> <li class=md-nav__item> <a href=../I2S-Audio/ class=md-nav__link> <span class=md-ellipsis> I2S Audio </span> </a> </li> <li class=md-nav__item> <a href=../IPv6/ class=md-nav__link> <span class=md-ellipsis> IPv6 </span> </a> </li> <li class=md-nav__item> <a href=../Lights/ class=md-nav__link> <span class=md-ellipsis> Lights </span> </a> </li> <li class=md-nav__item> <a href=../Matter/ class=md-nav__link> <span class=md-ellipsis> Matter </span> </a> </li> <li class=md-nav__item> <a href=../PIR-Motion-Sensors/ class=md-nav__link> <span class=md-ellipsis> PIR Motion Sensors </span> </a> </li> <li class=md-nav__item> <a href=../Power-Monitoring-Calibration/ class=md-nav__link> <span class=md-ellipsis> Power Monitoring Calibration </span> </a> </li> <li class=md-nav__item> <a href=../PWM-dimmer-switch/ class=md-nav__link> <span class=md-ellipsis> PWM Dimmer </span> </a> </li> <li class=md-nav__item> <a href=../Rules/ class=md-nav__link> <span class=md-ellipsis> Rules </span> </a> </li> <li class=md-nav__item> <a href=../Scripting-Language/ class=md-nav__link> <span class=md-ellipsis> Scripting Language </span> </a> </li> <li class=md-nav__item> <a href=../Blinds-and-Shutters/ class=md-nav__link> <span class=md-ellipsis> Shutters and Blinds </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_21> <label class=md-nav__link for=__nav_2_21 id=__nav_2_21_label tabindex=0> <span class=md-ellipsis> Protocol Bridging </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_21_label aria-expanded=false> <label class=md-nav__title for=__nav_2_21> <span class="md-nav__icon md-icon"></span> Protocol Bridging </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../TasmotaClient/ class=md-nav__link> <span class=md-ellipsis> Arduino MCU </span> </a> </li> <li class=md-nav__item> <a href=../Bluetooth/ class=md-nav__link> <span class=md-ellipsis> BLE Gateway </span> </a> </li> <li class=md-nav__item> <a href=../DALI/ class=md-nav__link> <span class=md-ellipsis> DALI </span> </a> </li> <li class=md-nav__item> <a href=../HDMI_CEC/ class=md-nav__link> <span class=md-ellipsis> HDMI CEC </span> </a> </li> <li class=md-nav__item> <a href=../Tasmota-IR/ class=md-nav__link> <span class=md-ellipsis> IR Communication </span> </a> </li> <li class=md-nav__item> <a href=../Projector/ class=md-nav__link> <span class=md-ellipsis> LCD/DLP Projector Control </span> </a> </li> <li class=md-nav__item> <a href=../LoRa-and-LoRaWan-Bridge/ class=md-nav__link> <span class=md-ellipsis> LoRa and LoRaWan Bridge </span> </a> </li> <li class=md-nav__item> <a href=../Modbus-Bridge/ class=md-nav__link> <span class=md-ellipsis> Modbus Bridge </span> </a> </li> <li class=md-nav__item> <a href=../OpenTherm/ class=md-nav__link> <span class=md-ellipsis> OpenTherm </span> </a> </li> <li class=md-nav__item> <a href=../RF-Protocol/ class=md-nav__link> <span class=md-ellipsis> RF Communication </span> </a> </li> <li class=md-nav__item> <a href=../Serial-to-TCP-Bridge/ class=md-nav__link> <span class=md-ellipsis> Serial to TCP Bridge </span> </a> </li> <li class=md-nav__item> <a href=../TWAI/ class=md-nav__link> <span class=md-ellipsis> TWAI </span> </a> </li> <li class=md-nav__item> <a href=../Telegram/ class=md-nav__link> <span class=md-ellipsis> Telegram </span> </a> </li> <li class=md-nav__item> <a href=../Zigbee/ class=md-nav__link> <span class=md-ellipsis> Zigbee </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../Smart-Meter-Interface/ class=md-nav__link> <span class=md-ellipsis> Smart Meter Interface </span> </a> </li> <li class=md-nav__item> <a href=../Thermostat/ class=md-nav__link> <span class=md-ellipsis> Thermostat </span> </a> </li> <li class=md-nav__item> <a href=../Timers/ class=md-nav__link> <span class=md-ellipsis> Timers </span> </a> </li> <li class=md-nav__item> <a href=../TLS/ class=md-nav__link> <span class=md-ellipsis> TLS Secured MQTT </span> </a> </li> <li class=md-nav__item> <a href=../TuyaMCU/ class=md-nav__link> <span class=md-ellipsis> TuyaMCU </span> </a> </li> <li class=md-nav__item> <a href=../UFS/ class=md-nav__link> <span class=md-ellipsis> Universal File System </span> </a> </li> <li class=md-nav__item> <a href=../Range-Extender/ class=md-nav__link> <span class=md-ellipsis> Wi-Fi Range Extender </span> </a> </li> <li class=md-nav__item> <a href=../Wireguard/ class=md-nav__link> <span class=md-ellipsis> Wireguard VPN </span> </a> </li> <li class=md-nav__item> <a href=../Tutorials/ class=md-nav__link> <span class=md-ellipsis> Projects and Tutorials </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> ESP32 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> ESP32 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ESP32/ class=md-nav__link> <span class=md-ellipsis> Tasmota32 Features </span> </a> </li> <li class=md-nav__item> <a href=../Berry/ class=md-nav__link> <span class=md-ellipsis> Berry </span> </a> </li> <li class=md-nav__item> <a href=../Bluetooth_ESP32/ class=md-nav__link> <span class=md-ellipsis> Bluetooth Low Energy </span> </a> </li> <li class=md-nav__item> <a href=../LVGL/ class=md-nav__link> <span class=md-ellipsis> LVGL </span> </a> </li> <li class=md-nav__item> <a href=../HASPmota/ class=md-nav__link> <span class=md-ellipsis> HASPmota </span> </a> </li> <li class=md-nav__item> <a href=../Matter/ class=md-nav__link> <span class=md-ellipsis> Matter </span> </a> </li> <li class=md-nav__item> <a href=../Tasmota-Extension/ class=md-nav__link> <span class=md-ellipsis> Tasmota Extension </span> </a> </li> <li class=md-nav__item> <a href=../Tasmota-Application/ class=md-nav__link> <span class=md-ellipsis> Tasmota Application Files </span> </a> </li> <li class=md-nav__item> <a href=../TFL/ class=md-nav__link> <span class=md-ellipsis> TensorFlow Lite </span> </a> </li> <li class=md-nav__item> <a href=../TouchPin/ class=md-nav__link> <span class=md-ellipsis> Touch GPIOs </span> </a> </li> <li class=md-nav__item> <a href=../Safeboot/ class=md-nav__link> <span class=md-ellipsis> Safeboot Partition Layout </span> </a> </li> <li class=md-nav__item> <a href=https://templates.blakadder.com/esp32 class=md-nav__link> <span class=md-ellipsis> Supported Devices </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Smart Home Integrations </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Smart Home Integrations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Integrations/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../Alexa/ class=md-nav__link> <span class=md-ellipsis> Alexa </span> </a> </li> <li class=md-nav__item> <a href=../AWS-IoT/ class=md-nav__link> <span class=md-ellipsis> AWS IoT </span> </a> </li> <li class=md-nav__item> <a href=../Domoticz/ class=md-nav__link> <span class=md-ellipsis> Domoticz </span> </a> </li> <li class=md-nav__item> <a href=../Home-Assistant/ class=md-nav__link> <span class=md-ellipsis> Home Assistant </span> </a> </li> <li class=md-nav__item> <a href=../Homebridge/ class=md-nav__link> <span class=md-ellipsis> Homebridge </span> </a> </li> <li class=md-nav__item> <a href=https://homey.app/en-us/app/com.paveld.tasmota/Tasmota-MQTT/ class=md-nav__link> <span class=md-ellipsis> Homey </span> </a> </li> <li class=md-nav__item> <a href=../HomeSeer/ class=md-nav__link> <span class=md-ellipsis> HomeSeer </span> </a> </li> <li class=md-nav__item> <a href=../IP-Symcon/ class=md-nav__link> <span class=md-ellipsis> IP Symcon </span> </a> </li> <li class=md-nav__item> <a href=../KNX/ class=md-nav__link> <span class=md-ellipsis> KNX </span> </a> </li> <li class=md-nav__item> <a href=../NodeRed/ class=md-nav__link> <span class=md-ellipsis> NodeRed </span> </a> </li> <li class=md-nav__item> <a href=../nymea/ class=md-nav__link> <span class=md-ellipsis> nymea </span> </a> </li> <li class=md-nav__item> <a href=../Octoprint/ class=md-nav__link> <span class=md-ellipsis> OctoPrint </span> </a> </li> <li class=md-nav__item> <a href=../openHAB/ class=md-nav__link> <span class=md-ellipsis> openHAB </span> </a> </li> <li class=md-nav__item> <a href=../otto/ class=md-nav__link> <span class=md-ellipsis> Otto </span> </a> </li> <li class=md-nav__item> <a href=https://github.com/arendst/Tasmota/issues/3769 class=md-nav__link> <span class=md-ellipsis> IOBroker </span> </a> </li> <li class=md-nav__item> <a href=https://github.com/tim-hellhake/tasmota-adapter class=md-nav__link> <span class=md-ellipsis> Mozilla WebThings Adapter </span> </a> </li> <li class=md-nav__item> <a href=https://github.com/hongtat/tasmota-connect class=md-nav__link> <span class=md-ellipsis> SmartThings </span> </a> </li> <li class=md-nav__item> <a href=https://github.com/Gifford47/tasmohab/blob/master/README.md class=md-nav__link> <span class=md-ellipsis> Tasmohab </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../Supported-Peripherals/ class=md-nav__link> <span class=md-ellipsis> Peripherals </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> Supported Devices </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Supported Devices </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Configuration-Procedure-for-New-Devices/ class=md-nav__link> <span class=md-ellipsis> Configure Unknown Device </span> </a> </li> <li class=md-nav__item> <a href="https://templates.blakadder.com/ " target='_blank""' class=md-nav__link> <span class=md-ellipsis> All Supported Devices </span> </a> </li> <li class=md-nav__item> <a href=../Pinouts/ class=md-nav__link> <span class=md-ellipsis> Wi-Fi Module Pinouts </span> </a> </li> <li class=md-nav__item> <a href=../Supported-Modules/ class=md-nav__link> <span class=md-ellipsis> Supported Modules </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> Help </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Help </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../FAQ/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> <li class=md-nav__item> <a href=../Troubleshooting/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting </span> </a> </li> <li class=md-nav__item> <a href=../Device-Recovery/ class=md-nav__link> <span class=md-ellipsis> Device Recovery </span> </a> </li> <li class=md-nav__item> <a href="https://discord.gg/Ks2Kzd4 " target='_blank""' class=md-nav__link> <span class=md-ellipsis> Discord Support </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=http://tasmota.github.io/install class=md-nav__link> <span class=md-ellipsis> Web Installer </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#warning class=md-nav__link> <span class=md-ellipsis> Warning </span> </a> </li> <li class=md-nav__item> <a href=#configure-mqtt class=md-nav__link> <span class=md-ellipsis> Configure MQTT </span> </a> <nav class=md-nav aria-label="Configure MQTT"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#configure-mqtt-using-webui class=md-nav__link> <span class=md-ellipsis> Configure MQTT using WebUI </span> </a> </li> <li class=md-nav__item> <a href=#configure-mqtt-using-backlog class=md-nav__link> <span class=md-ellipsis> Configure MQTT using Backlog </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#commands-over-mqtt class=md-nav__link> <span class=md-ellipsis> Commands over MQTT </span> </a> <nav class=md-nav aria-label="Commands over MQTT"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#command-flow class=md-nav__link> <span class=md-ellipsis> Command flow </span> </a> </li> <li class=md-nav__item> <a href=#examples class=md-nav__link> <span class=md-ellipsis> Examples </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#mqtt-topic-definition class=md-nav__link> <span class=md-ellipsis> MQTT Topic Definition </span> </a> <nav class=md-nav aria-label="MQTT Topic Definition"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fulltopic class=md-nav__link> <span class=md-ellipsis> FullTopic </span> </a> </li> <li class=md-nav__item> <a href=#topic class=md-nav__link> <span class=md-ellipsis> %topic% </span> </a> </li> <li class=md-nav__item> <a href=#grouptopic class=md-nav__link> <span class=md-ellipsis> GroupTopic </span> </a> </li> <li class=md-nav__item> <a href=#fallback-topic class=md-nav__link> <span class=md-ellipsis> FallBack Topic </span> </a> </li> <li class=md-nav__item> <a href=#lwt-topic-last-will-and-testament class=md-nav__link> <span class=md-ellipsis> LWT Topic (Last Will and Testament) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#retained-mqtt-messages class=md-nav__link> <span class=md-ellipsis> Retained MQTT Messages </span> </a> <nav class=md-nav aria-label="Retained MQTT Messages"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#clearing-retained-messages class=md-nav__link> <span class=md-ellipsis> Clearing Retained Messages </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#subscribeunsubscribe class=md-nav__link> <span class=md-ellipsis> Subscribe/Unsubscribe </span> </a> <nav class=md-nav aria-label=Subscribe/Unsubscribe> <ul class=md-nav__list> <li class=md-nav__item> <a href=#subscribe class=md-nav__link> <span class=md-ellipsis> Subscribe </span> </a> </li> <li class=md-nav__item> <a href=#unsubscribe class=md-nav__link> <span class=md-ellipsis> Unsubscribe </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#return-codes-rc class=md-nav__link> <span class=md-ellipsis> Return codes (rc) </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/tasmota/docs/blob/master/docs/MQTT.md title="Edit this page" class="md-content__button md-icon" rel=edit> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg> </a> <h1>MQTT</h1> <div class="admonition info"> <p class=admonition-title>MQTT is the main protocol for controlling Tasmota devices</p> </div> <p>After you have a working <a href="https://www.google.com/search?q=setting+up+an+mqtt+broker">MQTT broker</a> you need to configure Tasmota to communicate with it. If you have no knowledge of what MQTT is, you can learn about it from <a href=http://www.hivemq.com/mqtt-essentials/ >MQTT Essentials</a> articles. </p> <h2 id=warning>Warning<a class=headerlink href=#warning title="Permanent link">~</a></h2> <p>All ESP32 devices (including all varaiants like <code>ESP32c&lt;x&gt;</code> and <code>ESP32s&lt;x&gt;</code>) natively support encrypted MQTT over TLS. ESP8266 do not natively support TLS unless you compile your own variant with TLS support. Unencrypted MQTT should be limited to own LAN, external unencrypted communication is a very serious security flaw, your device can become a malware bot!</p> <h2 id=configure-mqtt>Configure MQTT<a class=headerlink href=#configure-mqtt title="Permanent link">~</a></h2> <p>If you flashed a precompiled .bin or didn't enter MQTT info in <code>user_config_override.h</code> before compiling you have to configure it on your device first.</p> <h3 id=configure-mqtt-using-webui>Configure MQTT using WebUI<a class=headerlink href=#configure-mqtt-using-webui title="Permanent link">~</a></h3> <p>Go to <strong>Configuration -&gt; Configure Other</strong> and make sure <strong>"MQTT Enable"</strong> box is checked.<br> Once MQTT is enabled you need to set it up using <strong>Configuration -&gt; Configure MQTT</strong>. </p> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>While here, you might as well change the Friendly Name into something more descriptive than generic "Tasmota".<br><em>This is highly recommended for Home Assistant autodiscovery feature.</em></p> </div> <p><img alt="Enable MQTT" src=https://i.postimg.cc/6QDQnH2X/mqtt-config1.png> <img alt="Configure MQTT " src=https://i.postimg.cc/y8LggXy1/mqtt-config2.png></p> <p>For a basic setup you only need to set <strong>Host</strong>, <strong>User</strong> and <strong>Password</strong> but it is recommended to change <strong>Topic</strong> to avoid issues. Each device should have a unique <strong>Topic</strong>.</p> <ul> <li><strong>Host</strong> = your MQTT broker address or IP (<strong>mDNS is not available in the official Tasmota builds</strong>, means no <code>.local</code> domain!) </li> <li><strong>Port</strong> = your MQTT broker port (default port is set to 1883)</li> <li><strong>Client</strong> = device's unique identifier. In 99% of cases it's okay to leave it as is, however some Cloud-based MQTT brokers require a ClientID connected to your account. <strong>Can not be identical to Topic!</strong></li> <li><strong>User</strong> = username for authenticating on your MQTT broker</li> <li><strong>Password</strong> = password for authenticating on your MQTT broker</li> <li><strong>Topic</strong> = unique identifying topic for your device (e.g. <code>hallswitch</code>, <code>kitchen-light</code>). <code>%topic%</code> in wiki references to this. <strong>It is recommended to use a single word for the topic.</strong></li> <li><strong>FullTopic</strong> = <a href=#mqtt-topic-definition>full topic definition</a>. Modify it if you want to use multi-level topics for your devices, for example <code>lights/%prefix%/%topic%/</code> or <code>%prefix%/top_floor/bathroom/%topic%/</code> etc.</li> </ul> <h3 id=configure-mqtt-using-backlog>Configure MQTT using Backlog<a class=headerlink href=#configure-mqtt-using-backlog title="Permanent link">~</a></h3> <p>Using a serial connection or the WebUI Console you can issue (or even better, paste a premade) Backlog command for quick and easy MQTT setup.</p> <div class=highlight><pre><span></span><code><span class=kt>Backlog</span><span class=w> </span><span class=n>mqtthost</span><span class=w> </span><span class=o>&lt;</span><span class=n>mqtt_broker_address</span><span class=o>&gt;</span><span class=p>;</span><span class=w> </span><span class=n>mqttport</span><span class=w> </span><span class=o>&lt;</span><span class=n>mqtt_broker_port</span><span class=o>&gt;</span><span class=p>;</span><span class=w> </span><span class=n>mqttuser</span><span class=w> </span><span class=o>&lt;</span><span class=n>username</span><span class=o>&gt;</span><span class=p>;</span><span class=w> </span><span class=n>mqttpassword</span><span class=w> </span><span class=o>&lt;</span><span class=n>password</span><span class=o>&gt;</span><span class=p>;</span><span class=w> </span><span class=n>topic</span><span class=w> </span><span class=o>&lt;</span><span class=n>device_topic</span><span class=o>&gt;</span>
</code></pre></div> <p>After a reboot all necessary MQTT settings are configured. Don't forget, you can use Backlog for all commands!</p> <h2 id=commands-over-mqtt>Commands over MQTT<a class=headerlink href=#commands-over-mqtt title="Permanent link">~</a></h2> <p>To send commands and view responses you'll need an <a href=http://www.hivemq.com/blog/seven-best-mqtt-client-tools>MQTT client</a>.</p> <p>Commands over MQTT are issued to Tasmota by using topic <code>cmnd/%topic%/&lt;command&gt;</code> and payload <code>&lt;parameter&gt;</code>. If there is no <code>&lt;parameter&gt;</code> (an empty MQTT message/payload), a query is sent for current status of the <code>&lt;command&gt;</code>.</p> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>If you are using <code>mosquitto_pub</code> command-line tool, you can issue an empty payload using the <code>-n</code> command line option. If your MQTT client cannot issue an empty payload, you can use the single character <code>?</code> instead.</p> </div> <h3 id=command-flow>Command flow<a class=headerlink href=#command-flow title="Permanent link">~</a></h3> <p>The following example will go in depth on what happens when you send an MQTT command.</p> <p>A device was flashed and configured with the <strong>FullTopic</strong> as default <code>%prefix%/%topic%/</code> and the <strong>Topic</strong> set to <code>tasmota_switch</code>. We want to see the current status of the switch and change it.</p> <p>By looking at the commands table we can learn about the <a href=../Commands/#power><code>POWER</code></a> command and options associated with it. </p> <h4 id=ask-the-device-for-status>Ask the device for status<a class=headerlink href=#ask-the-device-for-status title="Permanent link">~</a></h4> <p><div class=highlight><pre><span></span><code><span class=nx>cmnd</span><span class=o>/</span><span class=nx>tasmota_switch</span><span class=o>/</span><span class=nx>Power</span><span class=w> </span><span class=err>←</span><span class=w>     </span><span class=c1>// an empty message/payload sends a status query</span>
<span class=w>    </span><span class=err>↳</span><span class=w> </span><span class=nx>stat</span><span class=o>/</span><span class=nx>tasmota_switch</span><span class=o>/</span><span class=nx>RESULT</span><span class=w> </span><span class=err>→</span><span class=w> </span><span class=p>{</span><span class=s2>&quot;POWER&quot;</span><span class=o>:</span><span class=s2>&quot;OFF&quot;</span><span class=p>}</span><span class=w>  </span>
<span class=w>    </span><span class=err>↳</span><span class=w> </span><span class=nx>stat</span><span class=o>/</span><span class=nx>tasmota_switch</span><span class=o>/</span><span class=nx>POWER</span><span class=w> </span><span class=err>→</span><span class=w> </span><span class=nx>OFF</span>
</code></pre></div> We can see that the switch (device's relay) is turned off.</p> <h4 id=send-a-command-to-toggle-the-relay>Send a command to toggle the relay<a class=headerlink href=#send-a-command-to-toggle-the-relay title="Permanent link">~</a></h4> <p><div class=highlight><pre><span></span><code><span class=nx>cmnd</span><span class=o>/</span><span class=nx>tasmota_switch</span><span class=o>/</span><span class=nx>Power</span><span class=w> </span><span class=nx>TOGGLE</span>
<span class=w>    </span><span class=err>↳</span><span class=w> </span><span class=c1>// Power for relay 1 is toggled</span>
<span class=w>    </span><span class=err>↳</span><span class=w> </span><span class=nx>stat</span><span class=o>/</span><span class=nx>tasmota_switch</span><span class=o>/</span><span class=nx>RESULT</span><span class=w> </span><span class=err>→</span><span class=w> </span><span class=p>{</span><span class=s2>&quot;POWER&quot;</span><span class=o>:</span><span class=s2>&quot;ON&quot;</span><span class=p>}</span><span class=w>  </span>
<span class=w>    </span><span class=err>↳</span><span class=w> </span><span class=nx>stat</span><span class=o>/</span><span class=nx>tasmota_switch</span><span class=o>/</span><span class=nx>POWER</span><span class=w> </span><span class=err>→</span><span class=w> </span><span class=nx>ON</span>
</code></pre></div> We've sent the toggle command and received confirmation that the switch is turned on.</p> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>By default, Tasmota replies to all commands through <code>.../RESULT</code>. This behavior can be changed using <a href=../Commands/#setoption4>SetOption4</a>, which makes the commands reply on the endpoint matching the command name, ex. <code>cmnd/tasmota/PowerOnState</code> will send a response on <code>stat/tasmota/POWERONSTATE</code>.</p> </div> <h3 id=examples>Examples<a class=headerlink href=#examples title="Permanent link">~</a></h3> <p>In the following examples <code>%topic%</code> is <code>tasmota</code>, FullTopic is <code>%prefix%/%topic%/</code>, and prefixes are default <code>cmnd/stat/tele</code>:</p> <ul> <li> <p>The relay can be controlled with <code>cmnd/tasmota/POWER on</code>, <code>cmnd/tasmota/POWER off</code> or <code>cmnd/tasmota/POWER toggle</code>. Tasmota will send a MQTT status message like <code>stat/tasmota/POWER ON</code>.</p> </li> <li> <p>Power state message can be sent with the retain flag set using <a href=../Commands/#powerretain><code>PowerRetain 1</code></a>.</p> </li> <li> <p>Telemetry messages can also be sent with the retain flag using <a href=../Commands/#sensorretain><code>SensorRetain</code></a>.</p> </li> <li> <p>For Sonoff Dual or Sonoff 4CH the relays need to be addressed with <code>cmnd/tasmota/POWER&lt;x&gt;</code>, where {x} is the relay number from 1 to 2 (Sonoff Dual) or from 1 to 4 (Sonoff 4CH). <code>cmnd/tasmota/POWER4 off</code> turns off the 4th relay on a Sonoff 4CH.</p> </li> <li> <p>MQTT topic can be changed with <code>cmnd/tasmota/Topic tasmota1</code> which reboots Tasmota and changes the <code>%topic%</code> to <code>tasmota1</code>. From that point on MQTT commands should look like <code>cmnd/tasmota1/POWER on</code>.</p> </li> <li> <p>The OTA firmware location can be made known to tasmota with <code>cmnd/tasmota/OtaUrl http://ota.tasmota.com/tasmota/release/tasmota.bin</code>. Reset to default with <code>cmnd/tasmota/OtaUrl 1</code>.</p> </li> <li> <p>Upgrade OTA firmware from the OtaUrl server with <code>cmnd/tasmota/Upgrade 1</code>.</p> </li> <li> <p>Show all status information with <code>cmnd/tasmota/Status 0</code>.</p> </li> <li> <p>The button can send a MQTT message to the broker that in turn will switch the relay. To configure this you need to perform <code>cmnd/tasmota/ButtonTopic tasmota</code> where tasmota equals to Topic. The message can also be provided with the retain flag by <code>cmnd/tasmota/ButtonRetain on</code>.</p> </li> <li> <p>Sonoff Pow (and any device with sensors) status can be requested manually with <code>cmnd/tasmota/status 8</code>. Additionally, Tasmota periodically sends telemetry every <a href=../Commands/#teleperiod>TelePeriod</a>, which defaults to 300 seconds (5 minutes).</p> </li> <li> <p>When a Sonoff Pow (and any device with power metering sensors) threshold like PowerLow has been met a message <code>tele/tasmota/POWER_LOW ON</code> will be sent. When the error is corrected a message <code>tele/tasmota/POWER_LOW OFF</code> will be sent.</p> </li> </ul> <p>While most MQTT commands will result in a message in JSON format the power status feedback will always be returned like <code>stat/tasmota/POWER ON</code> as well.</p> <p>Telemetry data will be sent by prefix <code>tele</code> like <code>tele/tasmota/SENSOR {"Time":"2017-02-16T10:13:52", "DS18B20":{"Temperature":20.6}}</code></p> <h2 id=mqtt-topic-definition>MQTT Topic Definition<a class=headerlink href=#mqtt-topic-definition title="Permanent link">~</a></h2> <h3 id=fulltopic>FullTopic<a class=headerlink href=#fulltopic title="Permanent link">~</a></h3> <p>This is the MQTT topic used to communicate with Tasmota over MQTT. It is created using tokens placed within a user definable string (100 character limit). The tokens are substituted dynamically at run-time. Available substitution tokens are:</p> <ul> <li><code>%prefix%</code> = one of three prefixes as defined by commands <code>Prefix1</code> <em>(default = <code>cmnd</code>)</em>, <code>Prefix2</code> <em>(default = <code>stat</code>)</em> and <code>Prefix3</code> <em>(default = <code>tele</code>)</em>.</li> <li><code>%topic%</code> = one of five topics as defined by commands <a href=../Commands/#topic><code>Topic</code></a>, <a href=../Commands/#grouptopic><code>GroupTopic</code></a>, <a href=../Commands/#buttontopic><code>ButtonTopic</code></a>, <a href=../Commands/#switchtopic><code>SwitchTopic</code></a> and <a href=../Commands/#mqttclient><code>MqttClient</code></a>.</li> <li><code>%hostname%</code> = the hostname of the device as defined through the web UI <em>(default = <code>%s-%04d</code>)</em> or via <a href=../Commands/#hostname><code>Hostname</code></a> command.</li> <li><code>%id%</code> = MAC address of the device.</li> </ul> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>These substitution tokens will be used in examples across the documentation</p> </div> <p>If <code>FullTopic</code> does not contain the <code>%topic%</code> token, the device will not subscribe to <code>GroupTopic</code> and <code>FallbackTopic</code>.</p> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>The order of <em>%prefix%</em> and <em>%topic%</em> doesn't matter, unless you have enabled Auto-discovery for Home Assistant (<a href=../Commands/#setoption19><code>SetOption19</code></a>). Enabling this option re-formats the FullTopic to required order.</p> </div> <p>Using the tokens the following example topics can be made:</p> <ul> <li><code>FullTopic %prefix%/%topic%/</code> <em>default</em></li> <li><code>FullTopic tasmota/%topic%/%prefix%/</code></li> <li><code>FullTopic tasmota/bedroom/%topic%/%prefix%/</code></li> <li><code>FullTopic penthouse/bedroom1/bathroom2/%topic%/%prefix%/</code></li> <li><code>FullTopic %prefix%/home/cellar/%topic%/</code></li> </ul> <h4 id=prefix>%prefix%<a class=headerlink href=#prefix title="Permanent link">~</a></h4> <p>Tasmota uses 3 prefixes for forming a FullTopic:</p> <ul> <li><code>cmnd</code> - prefix to issue commands; ask for status</li> <li><code>stat</code> - reports back status or configuration message</li> <li><code>tele</code> - reports telemetry info at specified intervals</li> </ul> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>To solve possible MQTT topic loops it is strongly suggested that you use the <code>%prefix%</code> token in all of your FullTopics. Status and telemetry do not need a prefix.</p> </div> <h3 id=topic>%topic%<a class=headerlink href=#topic title="Permanent link">~</a></h3> <p>All MQTT status messages will be sent using the configurable <code>%topic%</code> which must be made unique by the user. It can be called <code>bedroom</code> but it could also be called <code>XP-TS_10</code> as long as the user knows what it is and where to find it.</p> <div class="admonition bug"> <p class=admonition-title>Default Topic is <code>tasmota_XXXXXX</code> where <code>XXXXXX</code> is unique and derives from the last 6 characters of the MAC address</p> </div> <p>The use of the <code>%topic%</code> token is mandatory in case you want to use <a href=../Commands/#buttontopic><code>ButtonTopic</code></a> and/or <a href=../Commands/#switchtopic><code>SwitchTopic</code></a>. It also provides for GroupTopic and Fallback Topic functionality.</p> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>Use <code>%prefix%</code> and <code>%topic%</code> tokens at all time within your FullTopic definition!</p> </div> <h3 id=grouptopic>GroupTopic<a class=headerlink href=#grouptopic title="Permanent link">~</a></h3> <p>Having two devices with the same topic allowed for MQTT commands to be sent once to make the devices act in conjunction. That inspired a third topic called GroupTopic. Devices with the same GroupTopic will all listen to that GroupTopic and react to the same MQTT command sent to it. You can use this to take global actions like updating firmware on all devices or split up devices into different groups using a unique GroupTopic for each group.</p> <div class="admonition bug"> <p class=admonition-title>Default GroupTopic is <code>tasmotas</code></p> </div> <h3 id=fallback-topic>FallBack Topic<a class=headerlink href=#fallback-topic title="Permanent link">~</a></h3> <p>Initially Tasmota had one MQTT configurable topic planned called Topic. It soon became apparent that when two devices come online with the same topic this would be a challenge, to say the least!</p> <p>Tasmota then introduced a unique, non-configurable "FallBack Topic" that allows MQTT communication regardless of the configurable topic. This fallback topic is just what it is meant to be: <strong>a fallback topic</strong> in case of emergency!</p> <p>By default the Fallback Topic is <code>DVES_XXXXXX_fb</code> where xxxxxx is derived from the last 6 characters of the device's MAC address (excluding <code>:</code>). It might look something like this: <code>DVES_3D5E26_fb</code>. You can find out the DVES code by looking at <strong>Information</strong> page in the webUI or issuing <code>Status 6</code>: <div class=highlight><pre><span></span><code><span class=mi>12</span><span class=p>:</span><span class=mi>36</span><span class=p>:</span><span class=mi>17</span><span class=w> </span><span class=err>MQT</span><span class=p>:</span><span class=w> </span><span class=err>s</span><span class=kc>tat</span><span class=err>/</span><span class=kc>tas</span><span class=err>mo</span><span class=kc>ta</span><span class=err>/STATUS</span><span class=mi>6</span><span class=w> </span><span class=err>=</span><span class=w> </span><span class=p>{</span><span class=nt>&quot;StatusMQT&quot;</span><span class=p>:{</span><span class=nt>&quot;MqttHost&quot;</span><span class=p>:</span><span class=s2>&quot;1.1.1.1&quot;</span><span class=p>,</span><span class=nt>&quot;MqttPort&quot;</span><span class=p>:</span><span class=mi>1883</span><span class=p>,</span><span class=nt>&quot;MqttClientMask&quot;</span><span class=p>:</span><span class=s2>&quot;DVES_%06X&quot;</span><span class=p>,</span><span class=nt>&quot;MqttClient&quot;</span><span class=p>:</span><span class=s2>&quot;DVES_3D5E26&quot;</span><span class=p>,</span><span class=nt>&quot;MqttUser&quot;</span><span class=p>:</span><span class=s2>&quot;tasmota&quot;</span><span class=p>,</span><span class=nt>&quot;MqttCount&quot;</span><span class=p>:</span><span class=mi>1</span><span class=p>,</span><span class=nt>&quot;MAX_PACKET_SIZE&quot;</span><span class=p>:</span><span class=mi>1000</span><span class=p>,</span><span class=nt>&quot;KEEPALIVE&quot;</span><span class=p>:</span><span class=mi>30</span><span class=p>}}</span>
</code></pre></div></p> <h3 id=lwt-topic-last-will-and-testament>LWT Topic (Last Will and Testament)<a class=headerlink href=#lwt-topic-last-will-and-testament title="Permanent link">~</a></h3> <p>On connection to the MQTT broker tasmota uses the Last Will and Testament (LWT) feature that instructs the broker to generate a notification about an ungracefully disconnect or timeout.</p> <p>The topic to listen to for the state of this specific client is <code>tele/&lt;TOPIC&gt;/LWT</code> that with the mosquitto MQTT broker produces an output like: <div class=highlight><pre><span></span><code>$ mosquitto_sub -t &quot;tele/tasmota_XXXXXX/LWT&quot;
Offline
Online
</code></pre></div></p> <p>The full LWT topic can be found in the tasmota console at boot: <div class=highlight><pre><span></span><code>15:51:51.281 MQT: tele/tasmota_XXXXXX/LWT = Online (retained)
</code></pre></div></p> <h2 id=retained-mqtt-messages>Retained MQTT Messages<a class=headerlink href=#retained-mqtt-messages title="Permanent link">~</a></h2> <p>If MQTT is defined and retain option is used the last state will be stored permanently in MQTT database.</p> <table> <thead> <tr> <th>Command</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><a href=../Commands/#inforetain><code>InfoRetain</code></a></td> <td>Show current MQTT info retain state.<br> <code>0</code> / <code>off</code> = disable MQTT info retain <em>(default)</em> <br> <code>1</code> / <code>on</code> = enable MQTT info retain</td> </tr> <tr> <td><a href=../Commands/#powerretain><code>PowerRetain</code></a></td> <td>Show current MQTT power retain state. <br> <code>0</code> / <code>off</code> = disable MQTT power retain on status update <em>(default)</em> <br> <code>1</code> / <code>on</code> = enable MQTT power retain on status update</td> </tr> <tr> <td><a href=../Commands/#sensorretain><code>SensorRetain</code></a></td> <td>Show current MQTT sensor retain state.<br> <code>0</code> / <code>off</code> = disable MQTT sensor retain on sensor update <em>(default)</em> <br> <code>1</code> / <code>on</code> = enable MQTT sensor retain on sensor update</td> </tr> <tr> <td><a href=../Commands/#stateretain><code>StateRetain</code></a></td> <td>Show current MQTT state retain state.<br> <code>0</code> / <code>off</code> = disable MQTT state retain <em>(default)</em> <br> <code>1</code> / <code>on</code> = enable MQTT state retain</td> </tr> <tr> <td><a href=../Commands/#statusretain><code>StatusRetain</code></a></td> <td>Show current MQTT status retain state.<br> <code>0</code> / <code>off</code> = disable MQTT status retain <em>(default)</em> <br> <code>1</code> / <code>on</code> = enable MQTT status retain</td> </tr> <tr> <td><a href=../Commands/#switchretain><code>SwitchRetain</code></a></td> <td>Show current MQTT switch retain state.<br> <code>0</code> / <code>off</code> = disable MQTT switch retain on switch update <em>(default)</em> <br> <code>1</code> / <code>on</code> = enable MQTT switch retain on switch update</td> </tr> </tbody> </table> <p><strong>BUT</strong>, a power message in your MQTT broker flagged as 'retained' will <strong><em>always</em> override the <code>PowerOnState</code></strong>. </p> <p>This is usually the main cause for "ghost switching". Learn more in <a href=http://www.steves-internet-guide.com/mqtt-retained-messages-example/ >MQTT retained messages explained</a>. Check out <a href="https://www.youtube.com/watch?v=31IyfM1gygo">this tutorial</a> for troubleshooting switch ghosting.</p> <h3 id=clearing-retained-messages>Clearing Retained Messages<a class=headerlink href=#clearing-retained-messages title="Permanent link">~</a></h3> <p>To check, if there is a retain flag set for the switch's power topic, monitor <code>cmnd/+/power</code> in a MQTT client (recommended <a href=https://mqttfx.jensd.de/ >MQTT.fx</a> for Windows or <a href=https://mosquitto.org/ >Eclipse Mosquitto</a> in linux).</p> <p>You can use <a href=https://github.com/jziolkowski/tdm>Tasmota Device Manager</a> to clear all retained messages for selected device with a single click.</p> <p><img alt="Tasmota Device Manager" src=../_media/tdm-retained.png></p> <p>or use the following tutorials/forum threads:</p> <ul> <li><a href=https://community.openhab.org/t/clearing-mqtt-retained-messages/58221>Clearing retained messages with mosquitto</a></li> <li><a href=https://community.home-assistant.io/t/mqtt-how-to-remove-retained-messages/79029>Remove retained messages in Home Assistant</a></li> <li><a href=https://community.home-assistant.io/t/clear-hass-io-mosquitto-broker-add-on-retain-messages/57250/3>Remove retained messages in hass.io MQTT addon</a></li> </ul> <h2 id=subscribeunsubscribe>Subscribe/Unsubscribe<a class=headerlink href=#subscribeunsubscribe title="Permanent link">~</a></h2> <div class="admonition failure"> <p class=admonition-title>This feature is not included in precompiled binaries</p> </div> <p>To use it you must <a href=../Compile-your-build/ >compile your build</a>. Add the following to <code>user_config_override.h</code>: <div class=highlight><pre><span></span><code>#ifndef SUPPORT_MQTT_EVENT
#define SUPPORT_MQTT_EVENT
#endif
</code></pre></div> To default maximum MQTT message size that Tasmota can process is 256 bytes. You can increase it by redefining the following constant in <code>user_config_override.h</code>: <div class=highlight><pre><span></span><code>#ifdef RULE_MAX_MQTT_EVENTSZ
#undef RULE_MAX_MQTT_EVENTSZ
#endif
#define RULE_MAX_MQTT_EVENTSZ  512
</code></pre></div></p> <h3 id=subscribe>Subscribe<a class=headerlink href=#subscribe title="Permanent link">~</a></h3> <p>Subscribes to an MQTT topic and assigns an <a href=../Commands/#event><code>Event</code></a> name to it. </p> <p><code>Subscribe &lt;eventName&gt;, &lt;mqttTopic&gt; [, &lt;key&gt;]</code></p> <p>The <code>&lt;key&gt;</code> parameter is specified when you need to parse a key/value pair from a JSON payload in the MQTT message. In order to parse a value from a multi-level JSON pair, you can use one dot (<code>.</code>) syntax to split the key into sections.</p> <p>You subscribe to an MQTT topic and assign an event name. Once the subscribed MQTT message is received the configured event will be triggered. </p> <p>Command without any parameters will list all currently subscribed topics.</p> <div class="admonition tip"> <p class=admonition-title>Domoticz Users</p> <p>As designed, <code>domoticz/out</code> (or any user defined DOMOTICZ_OUT_TOPIC) overrules the rule subscribe functionality in a way that you're unable to subscribe to <code>domoticz/out/1234/#</code>. This means that you can't subscribe to this topic, unless you remove all Domoticz relay/idx relations with command <code>DzIdx0 0</code> or if you had disabled the <code>USE_DOMOTICZ</code> flag when compiling your own firmware.</p> </div> <p>You can set up a rule with <code>ON EVENT#&lt;event_name&gt; DO ... ENDON</code> to do what you want based on this MQTT message. The payload is passed as a parameter once the event has been triggered. If the payload is in JSON format, you are able to get the value of specified key as a parameter. </p> <p>For example, if you have a Tasmota based thermostat and multiple temperature sensors in different locations, usually you have to set up a home automation system like Domoticz to control the thermostat. Right now, with this new feature, you can write a rule to do this. </p> <h4 id=examples_1>Examples<a class=headerlink href=#examples_1 title="Permanent link">~</a></h4> <p><div class=highlight><pre><span></span><code><span class=go>Rule1</span>
<span class=go>  ON mqtt#connected DO Subscribe BkLight, stat/other-device-topic/POWER ENDON</span>
<span class=go>  ON Event#BkLight=ON DO &lt;command&gt; ENDON</span>
</code></pre></div> <div class=highlight><pre><span></span><code><span class=go>Rule1</span>
<span class=go>  ON mqtt#connected DO Subscribe DnTemp, tele/other-device-topic/SENSOR, DS18B20.Temperature ENDON</span>
<span class=go>  ON Event#DnTemp&gt;=21 DO &lt;command&gt; ENDON</span>
</code></pre></div> where the MQTT message payload is <code>{"Time":"2017-02-16T10:13:52", "DS18B20":{"Temperature":20.6}}</code> <div class=highlight><pre><span></span><code><span class=go>Rule1</span>
<span class=go>  ON mqtt#connected DO Subscribe DnTemp, tele/other-device-topic/SENSOR, DS18B20.Temperature ENDON</span>
<span class=go>  ON Event#DnTemp DO TempMeasuredSet %value% ENDON</span>
</code></pre></div> will allow a thermostat to subscribe to a temperature sensor on another Tasmota device</p> <h3 id=unsubscribe>Unsubscribe<a class=headerlink href=#unsubscribe title="Permanent link">~</a></h3> <p>Unsubscribe from topics which were subscribed to using the <a href=#subscribe><code>Subscribe</code></a> command. </p> <p>Unsubscribe from a specific MQTT topic<br> <code>Unsubscribe &lt;eventName&gt;</code> </p> <blockquote> <p>The command without a parameter will unsubscribe from all currently subscribed topics. </p> </blockquote> <h2 id=return-codes-rc>Return codes (rc)<a class=headerlink href=#return-codes-rc title="Permanent link">~</a></h2> <p>Sometimes, something wrong can happen and you might need to check return codes.</p> <p>A return code can be found in the console, example output for Return Code = <code>5</code> : <code>MQT: Connect failed to xxxx:1883, rc 5. Retry in 10 sec</code></p> <p>Below table provides more information about it. The original values are related to <a href=https://pubsubclient.knolleary.net/api.html#state>PubSubClient.h constants</a>.</p> <table> <thead> <tr> <th>Code</th> <th>Constant name</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>-5</td> <td>MQTT_DNS_DISCONNECTED</td> <td>the DNS server cannot be reached or name cannot be resolved</td> </tr> <tr> <td>-4</td> <td>MQTT_CONNECTION_TIMEOUT</td> <td>the server didn't respond within the keepalive time</td> </tr> <tr> <td>-3</td> <td>MQTT_CONNECTION_LOST</td> <td>the network connection was broken</td> </tr> <tr> <td>-2</td> <td>MQTT_CONNECT_FAILED</td> <td>the network connection failed</td> </tr> <tr> <td>-1</td> <td>MQTT_DISCONNECTED</td> <td>the client is disconnected cleanly</td> </tr> <tr> <td>0</td> <td>MQTT_CONNECTED</td> <td>the client is connected</td> </tr> <tr> <td>1</td> <td>MQTT_CONNECT_BAD_PROTOCOL</td> <td>the server doesn't support the requested version of MQTT</td> </tr> <tr> <td>2</td> <td>MQTT_CONNECT_BAD_CLIENT_ID</td> <td>the server rejected the client identifier</td> </tr> <tr> <td>3</td> <td>MQTT_CONNECT_UNAVAILABLE</td> <td>the server was unable to accept the connection</td> </tr> <tr> <td>4</td> <td>MQTT_CONNECT_BAD_CREDENTIALS</td> <td>the username/password were rejected</td> </tr> <tr> <td>5</td> <td>MQTT_CONNECT_UNAUTHORIZED</td> <td>the client was not authorized to connect</td> </tr> </tbody> </table> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://discord.gg/Ks2Kzd4 target=_blank rel=noopener title=discord.gg class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1.1s-.6.4-.8.8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2C162.5 39 122.2 51.5 84.1 69c-.3.1-.6.4-.8.7C7.1 183.5-13.8 294.6-3.6 404.2c0 .3.1.5.2.8s.3.4.5.6c44.4 32.9 94 58 146.8 74.2.4.1.8.1 1.1 0s.7-.4.9-.7c11.3-15.4 21.4-31.8 30-48.8.1-.2.2-.5.2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6.2-.9.3-.5.6-.7c3.1-2.3 6.2-4.7 9.1-7.1.3-.2.6-.4.9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1.7-.2 1-.2s.7.2.9.4c2.9 2.4 6 4.9 9.1 7.2.2.2.4.4.6.7s.2.6.2.9-.1.6-.3.9-.4.5-.6.6c-14.7 8.6-30 15.9-45.9 21.8-.2.1-.5.2-.7.4s-.3.4-.4.7-.1.5-.1.8.1.5.2.8c8.8 17 18.8 33.3 30 48.8.2.3.6.6.9.7s.8.1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2.2-.2.4-.4.5-.6s.2-.5.2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2m195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2"/></svg> </a> <a href=https://t.me/tasmota target=_blank rel=noopener title=t.me class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M256 8a248 248 0 1 0 0 496 248 248 0 1 0 0-496m115 168.7c-3.7 39.2-19.9 134.4-28.1 178.3-3.5 18.6-10.3 24.8-16.9 25.4-14.4 1.3-25.3-9.5-39.3-18.7-21.8-14.3-34.2-23.2-55.3-37.2-24.5-16.1-8.6-25 5.3-39.5 3.7-3.8 67.1-61.5 68.3-66.7.2-.7.3-3.1-1.2-4.4s-3.6-.8-5.1-.5c-2.2.5-37.1 23.5-104.6 69.1-9.9 6.8-18.9 10.1-26.9 9.9-8.9-.2-25.9-5-38.6-9.1-15.5-5-27.9-7.7-26.8-16.3.6-4.5 6.7-9 18.4-13.7 72.3-31.5 120.5-52.3 144.6-62.3 68.9-28.6 83.2-33.6 92.5-33.8 2.1 0 6.6.5 9.6 2.9 2 1.7 3.2 4.1 3.5 6.7.5 3.2.6 6.5.4 9.8z"/></svg> </a> <a href=https://github.com/tasmota target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["navigation.instant", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "content.action.edit", "content.code.copy"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../assets/javascripts/bundle.f55a23d4.min.js></script> <script src=https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js></script> <script src=../extra_javascript/tablesort.js></script> </body> </html>