<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=../_media/favicon.ico><meta name=generator content="mkdocs-1.1, mkdocs-material-5.0.0rc4"><title>Commands - Tasmota</title><link rel=stylesheet href=../assets/stylesheets/main.c1451e9e.min.css><link rel=stylesheet href=../assets/stylesheets/palette.4444686e.min.css><meta name=theme-color content=#2196f3><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Barlow:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Barlow",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style><link rel="preconnect dns-prefetch" href=https://www.google-analytics.com><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-140681905-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview")})</script><script async src=https://www.google-analytics.com/analytics.js></script></head> <body dir=ltr data-md-color-primary=blue data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#how-to-use class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=.. title=Tasmota class="md-header-nav__button md-logo" aria-label=Tasmota> <img src=../_media/logo.svg alt=logo> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z /></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> Tasmota </span> <span class="md-header-nav__topic md-ellipsis"> Commands </span> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z /></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Type to start searching </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header-nav__source> <a href=https://github.com/arendst/tasmota/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> arendst/tasmota </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=.. class="md-tabs__link md-tabs__link--active"> Home </a> </li> <li class=md-tabs__item> <a href=../Scripting-Language/ class=md-tabs__link> Features </a> </li> <li class=md-tabs__item> <a href=../Alexa/ class=md-tabs__link> Smart Home Integrations </a> </li> <li class=md-tabs__item> <a href=../Displays/ class=md-tabs__link> Peripherals </a> </li> <li class=md-tabs__item> <a href=../Configuration-Procedure-for-New-Devices/ class=md-tabs__link> Supported Devices </a> </li> <li class=md-tabs__item> <a href=../FAQ/ class=md-tabs__link> Help </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title=Tasmota class="md-nav__button md-logo" aria-label=Tasmota> <img src=../_media/logo.svg alt=logo> </a> Tasmota </label> <div class=md-nav__source> <a href=https://github.com/arendst/tasmota/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> arendst/tasmota </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. title=Home class=md-nav__link> Home </a> </li> <li class=md-nav__item> <a href=../About/ title=About class=md-nav__link> About </a> </li> <li class=md-nav__item> <a href=../Getting-Started/ title="Getting Started" class=md-nav__link> Getting Started </a> </li> <li class=md-nav__item> <a href=../Upgrading/ title=Upgrading class=md-nav__link> Upgrading </a> </li> <li class=md-nav__item> <a href=../MQTT/ title=MQTT class=md-nav__link> MQTT </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Commands <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M3,9H17V7H3V9M3,13H17V11H3V13M3,17H17V15H3V17M19,17H21V15H19V17M19,7V9H21V7H19M19,13H21V11H19V13Z /></svg> </span> </label> <a href=./ title=Commands class="md-nav__link md-nav__link--active"> Commands </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#how-to-use class=md-nav__link> How to use </a> <nav class=md-nav aria-label="How to use"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#with-mqtt class=md-nav__link> with MQTT </a> </li> <li class=md-nav__item> <a href=#with-web-requests class=md-nav__link> with Web Requests </a> </li> <li class=md-nav__item> <a href=#in-console-in-the-web-ui class=md-nav__link> in Console in the Web UI </a> </li> <li class=md-nav__item> <a href=#over-serial-bridge class=md-nav__link> over Serial Bridge </a> </li> <li class=md-nav__item> <a href=#the-power-of-backlog class=md-nav__link> the Power of Backlog </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#commands-list class=md-nav__link> Commands List </a> <nav class=md-nav aria-label="Commands List"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#control class=md-nav__link> Control </a> </li> <li class=md-nav__item> <a href=#management class=md-nav__link> Management </a> </li> <li class=md-nav__item> <a href=#wi-fi class=md-nav__link> Wi-Fi </a> </li> <li class=md-nav__item> <a href=#mqtt class=md-nav__link> MQTT </a> </li> <li class=md-nav__item> <a href=#rules class=md-nav__link> Rules </a> </li> <li class=md-nav__item> <a href=#timers class=md-nav__link> Timers </a> </li> <li class=md-nav__item> <a href=#sensors class=md-nav__link> Sensors </a> </li> <li class=md-nav__item> <a href=#power-monitoring class=md-nav__link> Power Monitoring </a> </li> <li class=md-nav__item> <a href=#light class=md-nav__link> Light </a> </li> <li class=md-nav__item> <a href=#rf-bridge class=md-nav__link> RF Bridge </a> </li> <li class=md-nav__item> <a href=#ir-remote class=md-nav__link> IR Remote </a> </li> <li class=md-nav__item> <a href=#setoptions class=md-nav__link> SetOptions </a> </li> <li class=md-nav__item> <a href=#serial-bridge class=md-nav__link> Serial Bridge </a> </li> <li class=md-nav__item> <a href=#domoticz class=md-nav__link> Domoticz </a> </li> <li class=md-nav__item> <a href=#knx class=md-nav__link> KNX </a> </li> <li class=md-nav__item> <a href=#displays class=md-nav__link> Displays </a> </li> <li class=md-nav__item> <a href=#stepper-motors class=md-nav__link> Stepper Motors </a> </li> <li class=md-nav__item> <a href=#blinds-shutters-and-rollers class=md-nav__link> Blinds, Shutters and Rollers </a> </li> <li class=md-nav__item> <a href=#zigbee class=md-nav__link> Zigbee </a> </li> <li class=md-nav__item> <a href=#hm-1x class=md-nav__link> HM-1x </a> </li> <li class=md-nav__item> <a href=#mp3-player class=md-nav__link> MP3 Player </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../Templates/ title=Templates class=md-nav__link> Templates </a> </li> <li class=md-nav__item> <a href=../Components/ title=Components class=md-nav__link> Components </a> </li> <li class=md-nav__item> <a href=../Modules/ title=Modules class=md-nav__link> Modules </a> </li> <li class=md-nav__item> <a href=../Rules/ title=Rules class=md-nav__link> Rules </a> </li> <li class=md-nav__item> <a href=../Timers/ title=Timers class=md-nav__link> Timers </a> </li> <li class=md-nav__item> <a href=../Lights/ title=Lights class=md-nav__link> Lights </a> </li> <li class=md-nav__item> <a href=../Buttons-and-Switches/ title="Buttons and Switches" class=md-nav__link> Buttons and Switches </a> </li> <li class=md-nav__item> <a href=../Supported-Peripherals/ title=Peripherals class=md-nav__link> Peripherals </a> </li> <li class=md-nav__item> <a href=../TuyaMCU/ title=TuyaMCU class=md-nav__link> TuyaMCU </a> </li> <li class=md-nav__item> <a href=../Device-groups.md title=None class=md-nav__link> None </a> </li> <li class=md-nav__item> <a href=../Blinds-and-Shutters/ title="Blinds and Shutters" class=md-nav__link> Blinds and Shutters </a> </li> <li class=md-nav__item> <a href=../Shutter-and-Steppers/ title="Shutter and Steppers" class=md-nav__link> Shutter and Steppers </a> </li> <li class=md-nav__item> <a href=../Tasmota-IR/ title="IR Communication" class=md-nav__link> IR Communication </a> </li> <li class=md-nav__item> <a href=../WebUI/ title=WebUI class=md-nav__link> WebUI </a> </li> <li class=md-nav__item> <a href=../Compile-your-build/ title=Compiling class=md-nav__link> Compiling </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-22 type=checkbox id=nav-22> <label class=md-nav__link for=nav-22> Features <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z /></svg> </span> </label> <nav class=md-nav aria-label=Features data-md-level=1> <label class=md-nav__title for=nav-22> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </span> Features </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Scripting-Language/ title=Scripting class=md-nav__link> Scripting </a> </li> <li class=md-nav__item> <a href=../Bluetooth/ title=Bluetooth class=md-nav__link> Bluetooth </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-22-3 type=checkbox id=nav-22-3> <label class=md-nav__link for=nav-22-3> Zigbee <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z /></svg> </span> </label> <nav class=md-nav aria-label=Zigbee data-md-level=2> <label class=md-nav__title for=nav-22-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </span> Zigbee </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Zigbee/ title=Zigbee class=md-nav__link> Zigbee </a> </li> <li class=md-nav__item> <a href=../Zigbee-Internals/ title="Zigbee internals" class=md-nav__link> Zigbee internals </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../TasmotaSlave/ title=TasmotaSlave class=md-nav__link> TasmotaSlave </a> </li> <li class=md-nav__item> <a href=../DeepSleep/ title=DeepSleep class=md-nav__link> DeepSleep </a> </li> <li class=md-nav__item> <a href=../PWM-dimmer-switch/ title="PWM Dimmer" class=md-nav__link> PWM Dimmer </a> </li> <li class=md-nav__item> <a href=../Buzzer/ title=Buzzer class=md-nav__link> Buzzer </a> </li> <li class=md-nav__item> <a href=../Dynamic-Sleep/ title="Dynamic Sleep" class=md-nav__link> Dynamic Sleep </a> </li> <li class=md-nav__item> <a href=../GPS-NTP-server/ title="GPS NTP server" class=md-nav__link> GPS NTP server </a> </li> <li class=md-nav__item> <a href=../I2CDevices/ title="I2C Devices" class=md-nav__link> I2C Devices </a> </li> <li class=md-nav__item> <a href=../Smart-Meter-Interface/ title="Smart Meter Interface" class=md-nav__link> Smart Meter Interface </a> </li> <li class=md-nav__item> <a href=../PIR-Motion-Sensors/ title="PIR Motion Sensors" class=md-nav__link> PIR Motion Sensors </a> </li> <li class=md-nav__item> <a href=../Power-Monitoring-Calibration/ title="Power Monitoring Calibration" class=md-nav__link> Power Monitoring Calibration </a> </li> <li class=md-nav__item> <a href=../Subscribe-%26-Unsubscribe/ title="Subscribe & Unsubscribe" class=md-nav__link> Subscribe & Unsubscribe </a> </li> <li class=md-nav__item> <a href=../TLS/ title="SSL/TLS on Tasmota" class=md-nav__link> SSL/TLS on Tasmota </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-23 type=checkbox id=nav-23> <label class=md-nav__link for=nav-23> Smart Home Integrations <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z /></svg> </span> </label> <nav class=md-nav aria-label="Smart Home Integrations" data-md-level=1> <label class=md-nav__title for=nav-23> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </span> Smart Home Integrations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Alexa/ title=Alexa class=md-nav__link> Alexa </a> </li> <li class=md-nav__item> <a href=../AWS-IoT/ title="AWS IoT" class=md-nav__link> AWS IoT </a> </li> <li class=md-nav__item> <a href=../Domoticz/ title=Domoticz class=md-nav__link> Domoticz </a> </li> <li class=md-nav__item> <a href=../Home-Assistant/ title="Home Assistant" class=md-nav__link> Home Assistant </a> </li> <li class=md-nav__item> <a href=../Homebridge/ title=Homebridge class=md-nav__link> Homebridge </a> </li> <li class=md-nav__item> <a href=../HomeSeer/ title=HomeSeer class=md-nav__link> HomeSeer </a> </li> <li class=md-nav__item> <a href=../IP-Symcon/ title="IP Symcon" class=md-nav__link> IP Symcon </a> </li> <li class=md-nav__item> <a href=../KNX/ title=KNX class=md-nav__link> KNX </a> </li> <li class=md-nav__item> <a href=../NodeRed/ title=NodeRed class=md-nav__link> NodeRed </a> </li> <li class=md-nav__item> <a href=../nymea/ title=nymea class=md-nav__link> nymea </a> </li> <li class=md-nav__item> <a href=../OctoPrint.md title=None class=md-nav__link> None </a> </li> <li class=md-nav__item> <a href=../openHAB/ title=openHAB class=md-nav__link> openHAB </a> </li> <li class=md-nav__item> <a href=../otto/ title=Otto class=md-nav__link> Otto </a> </li> <li class=md-nav__item> <a href=https://github.com/arendst/Tasmota/issues/3769 title=IOBroker class=md-nav__link> IOBroker </a> </li> <li class=md-nav__item> <a href=https://github.com/tim-hellhake/tasmota-adapter title="Mozilla WebThings Adapter" class=md-nav__link> Mozilla WebThings Adapter </a> </li> <li class=md-nav__item> <a href=https://github.com/BrettSheleski/SmartThingsPublic/blob/master/devicetypes/brettsheleski/sonoff-tasmota.src/readme.md title=SmartThings class=md-nav__link> SmartThings </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-24 type=checkbox id=nav-24> <label class=md-nav__link for=nav-24> Peripherals <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z /></svg> </span> </label> <nav class=md-nav aria-label=Peripherals data-md-level=1> <label class=md-nav__title for=nav-24> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </span> Peripherals </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-24-1 type=checkbox id=nav-24-1> <label class=md-nav__link for=nav-24-1> Displays <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z /></svg> </span> </label> <nav class=md-nav aria-label=Displays data-md-level=2> <label class=md-nav__title for=nav-24-1> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </span> Displays </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Displays/ title=Displays class=md-nav__link> Displays </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../A4988-Stepper-Motor-Controller/ title="A4988 stepper motor controller" class=md-nav__link> A4988 stepper motor controller </a> </li> <li class=md-nav__item> <a href=../AM2301/ title="AM2301 temperature and humidity sensor" class=md-nav__link> AM2301 temperature and humidity sensor </a> </li> <li class=md-nav__item> <a href=../APDS-9960/ title="APDS 9960" class=md-nav__link> APDS 9960 </a> </li> <li class=md-nav__item> <a href=../AZ-7798/ title="AZ 7798" class=md-nav__link> AZ 7798 </a> </li> <li class=md-nav__item> <a href=../BH1750/ title=BH1750 class=md-nav__link> BH1750 </a> </li> <li class=md-nav__item> <a href=../BME280/ title=None class=md-nav__link> None </a> </li> <li class=md-nav__item> <a href=../BME680/ title=BME680 class=md-nav__link> BME680 </a> </li> <li class=md-nav__item> <a href=../BME280/ title="BMP280 pressure sensor" class=md-nav__link> BMP280 pressure sensor </a> </li> <li class=md-nav__item> <a href=../CC2530/ title=CC2530 class=md-nav__link> CC2530 </a> </li> <li class=md-nav__item> <a href=../Moisture-Sensor-and-Chirp%21-Sensor/ title="Chirp! moisture sensor" class=md-nav__link> Chirp! moisture sensor </a> </li> <li class=md-nav__item> <a href=../DHT11/ title=DHT11 class=md-nav__link> DHT11 </a> </li> <li class=md-nav__item> <a href=../DS18x20/ title=DS18x20 class=md-nav__link> DS18x20 </a> </li> <li class=md-nav__item> <a href=../DS3231/ title=DS3231 class=md-nav__link> DS3231 </a> </li> <li class=md-nav__item> <a href=../HM-10/ title="HM 10" class=md-nav__link> HM 10 </a> </li> <li class=md-nav__item> <a href=../HM-17/ title="HM 17" class=md-nav__link> HM 17 </a> </li> <li class=md-nav__item> <a href=../HC-SR04/ title="HC SR04" class=md-nav__link> HC SR04 </a> </li> <li class=md-nav__item> <a href=../Honeywell-HIH/ title="Honeywell HIH" class=md-nav__link> Honeywell HIH </a> </li> <li class=md-nav__item> <a href=../IR-Remote/ title="IR Remote" class=md-nav__link> IR Remote </a> </li> <li class=md-nav__item> <a href=../LM75AD/ title=LM75AD class=md-nav__link> LM75AD </a> </li> <li class=md-nav__item> <a href=../MCP230xx/ title=MCP230xx class=md-nav__link> MCP230xx </a> </li> <li class=md-nav__item> <a href=../MGC3130/ title=MGC3130 class=md-nav__link> MGC3130 </a> </li> <li class=md-nav__item> <a href=../MH-Z19B/ title="MH Z19B" class=md-nav__link> MH Z19B </a> </li> <li class=md-nav__item> <a href=../MLX90614/ title=MLX90614 class=md-nav__link> MLX90614 </a> </li> <li class=md-nav__item> <a href=../MPR121/ title="MPR121 I2C Proximity Capacitive Touch Sensor Controller" class=md-nav__link> MPR121 I<sup>2</sup>C Proximity Capacitive Touch Sensor Controller </a> </li> <li class=md-nav__item> <a href=../MPU-6050/ title="MPU 6050" class=md-nav__link> MPU 6050 </a> </li> <li class=md-nav__item> <a href=../NRF24L01/ title=NRF24L01 class=md-nav__link> NRF24L01 </a> </li> <li class=md-nav__item> <a href=../P1-Smart-Meter/ title="Kaifa MA105C Energy Meter" class=md-nav__link> Kaifa MA105C Energy Meter </a> </li> <li class=md-nav__item> <a href=../PAJ7620/ title=PAJ7620 class=md-nav__link> PAJ7620 </a> </li> <li class=md-nav__item> <a href=../PCA9685/ title=PCA9685 class=md-nav__link> PCA9685 </a> </li> <li class=md-nav__item> <a href=../PN532/ title=PN532 class=md-nav__link> PN532 </a> </li> <li class=md-nav__item> <a href=../PZEM-0XX/ title="PZEM 0XX" class=md-nav__link> PZEM 0XX </a> </li> <li class=md-nav__item> <a href=../RCWL-0516/ title="RCWL 0516" class=md-nav__link> RCWL 0516 </a> </li> <li class=md-nav__item> <a href=../RDM6300/ title=RDM6300 class=md-nav__link> RDM6300 </a> </li> <li class=md-nav__item> <a href=../SDS011/ title=SDS011 class=md-nav__link> SDS011 </a> </li> <li class=md-nav__item> <a href=../SHT30/ title=SHT30 class=md-nav__link> SHT30 </a> </li> <li class=md-nav__item> <a href=../TX2x/ title=TX2x class=md-nav__link> TX2x </a> </li> <li class=md-nav__item> <a href=../TSL2561/ title=TSL2561 class=md-nav__link> TSL2561 </a> </li> <li class=md-nav__item> <a href=../VEML6070/ title=VEML6070 class=md-nav__link> VEML6070 </a> </li> <li class=md-nav__item> <a href=../VL53L0x/ title=VL53L0x class=md-nav__link> VL53L0x </a> </li> <li class=md-nav__item> <a href=../WS2812B-RGB-Shield/ title="WS2812B RGB Shield" class=md-nav__link> WS2812B RGB Shield </a> </li> <li class=md-nav__item> <a href=../WS2812B-and-WS2813/ title="WS2812B and WS2813" class=md-nav__link> WS2812B and WS2813 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-25 type=checkbox id=nav-25> <label class=md-nav__link for=nav-25> Supported Devices <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z /></svg> </span> </label> <nav class=md-nav aria-label="Supported Devices" data-md-level=1> <label class=md-nav__title for=nav-25> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </span> Supported Devices </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Configuration-Procedure-for-New-Devices/ title="Configuring unknown devices" class=md-nav__link> Configuring unknown devices </a> </li> <li class=md-nav__item> <a href="https://templates.blakadder.com/ " target='_blank""' title="All Supported Devices" class=md-nav__link> All Supported Devices </a> </li> <li class=md-nav__item> <a href=../Supported-Modules/ title="Supported Modules" class=md-nav__link> Supported Modules </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-26 type=checkbox id=nav-26> <label class=md-nav__link for=nav-26> Help <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z /></svg> </span> </label> <nav class=md-nav aria-label=Help data-md-level=1> <label class=md-nav__title for=nav-26> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </span> Help </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../FAQ/ title=FAQ class=md-nav__link> FAQ </a> </li> <li class=md-nav__item> <a href=../Troubleshooting/ title=Troubleshooting class=md-nav__link> Troubleshooting </a> </li> <li class=md-nav__item> <a href=../Device-Recovery/ title="Device Recovery" class=md-nav__link> Device Recovery </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../Contributing/ title=Contributing class=md-nav__link> Contributing </a> </li> <li class=md-nav__item> <a href="//discord.gg/Ks2Kzd4  " target='_blank""' title="Discord Community" class=md-nav__link> Discord Community </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#how-to-use class=md-nav__link> How to use </a> <nav class=md-nav aria-label="How to use"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#with-mqtt class=md-nav__link> with MQTT </a> </li> <li class=md-nav__item> <a href=#with-web-requests class=md-nav__link> with Web Requests </a> </li> <li class=md-nav__item> <a href=#in-console-in-the-web-ui class=md-nav__link> in Console in the Web UI </a> </li> <li class=md-nav__item> <a href=#over-serial-bridge class=md-nav__link> over Serial Bridge </a> </li> <li class=md-nav__item> <a href=#the-power-of-backlog class=md-nav__link> the Power of Backlog </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#commands-list class=md-nav__link> Commands List </a> <nav class=md-nav aria-label="Commands List"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#control class=md-nav__link> Control </a> </li> <li class=md-nav__item> <a href=#management class=md-nav__link> Management </a> </li> <li class=md-nav__item> <a href=#wi-fi class=md-nav__link> Wi-Fi </a> </li> <li class=md-nav__item> <a href=#mqtt class=md-nav__link> MQTT </a> </li> <li class=md-nav__item> <a href=#rules class=md-nav__link> Rules </a> </li> <li class=md-nav__item> <a href=#timers class=md-nav__link> Timers </a> </li> <li class=md-nav__item> <a href=#sensors class=md-nav__link> Sensors </a> </li> <li class=md-nav__item> <a href=#power-monitoring class=md-nav__link> Power Monitoring </a> </li> <li class=md-nav__item> <a href=#light class=md-nav__link> Light </a> </li> <li class=md-nav__item> <a href=#rf-bridge class=md-nav__link> RF Bridge </a> </li> <li class=md-nav__item> <a href=#ir-remote class=md-nav__link> IR Remote </a> </li> <li class=md-nav__item> <a href=#setoptions class=md-nav__link> SetOptions </a> </li> <li class=md-nav__item> <a href=#serial-bridge class=md-nav__link> Serial Bridge </a> </li> <li class=md-nav__item> <a href=#domoticz class=md-nav__link> Domoticz </a> </li> <li class=md-nav__item> <a href=#knx class=md-nav__link> KNX </a> </li> <li class=md-nav__item> <a href=#displays class=md-nav__link> Displays </a> </li> <li class=md-nav__item> <a href=#stepper-motors class=md-nav__link> Stepper Motors </a> </li> <li class=md-nav__item> <a href=#blinds-shutters-and-rollers class=md-nav__link> Blinds, Shutters and Rollers </a> </li> <li class=md-nav__item> <a href=#zigbee class=md-nav__link> Zigbee </a> </li> <li class=md-nav__item> <a href=#hm-1x class=md-nav__link> HM-1x </a> </li> <li class=md-nav__item> <a href=#mp3-player class=md-nav__link> MP3 Player </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/tasmota/docs/blob/master/docs/Commands.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"/></svg> </a> <h1>Commands</h1> <div class="admonition info"> <p class=admonition-title>Tasmota provides a powerful control interface using commands</p> </div> <p>Commands can be issued using <strong>MQTT</strong>, <strong>web requests</strong>, <strong>webUI console</strong> and <strong>serial</strong></p> <h2 id=how-to-use>How to use<a class=headerlink href=#how-to-use title="Permanent link">~</a></h2> <p>Every command <strong>used without a parameter (payload) returns the current setting</strong>.</p> <blockquote> <p><code>Power</code> returns the status of first defined power output (usually Relay1)"</p> </blockquote> <p>Instead of <code>0</code> you can use <code>off</code> or <code>false</code> and instead of <code>1</code> you can use <code>on</code> or <code>true</code>.</p> <blockquote> <p><code>Power ON</code> turns first defined power output (usually Relay1) on</p> <p><code>Power1 1</code> also turns first defined power output (usually Relay1) on</p> <p><code>Power1 True</code> also turns first defined power output (usually Relay1) on</p> </blockquote> <p>Replace <code>&lt;x&gt;</code> in a command with the appropriate index number. Leave it empty to use the first available.</p> <blockquote> <p><code>Power1</code> and <code>Power</code> both control first defined power output (usually Relay1)</p> </blockquote> <p>In commands with <code>x..y</code> value parameters use a number from <code>x</code> to <code>y</code> range.</p> <p>When a command mentions resetting to <em>"firmware default"</em> it means the setting will revert to the one in the flashed binary file. If you used <code>user_config_override.h</code> at compile time it will revert to those.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Beside results initiated by a command (synchronous) you can get asynchronous results initiated by rule trigger, telemetry event, commands from other source or changed device values. <br> Simply put, other messages may precede messages published as a result of your commands.</p> </div> <div class="admonition example"> <p class=admonition-title>Example</p> <p>A <code>tele/%topic%/STATUS</code> message (sent every 300 seconds by default) may appear exactly after you issue <code>Power off</code> command and before you receive <code>stat/%topic%/RESULT = {"POWER":"OFF"}</code> message.</p> </div> <h3 id=with-mqtt>with MQTT<a class=headerlink href=#with-mqtt title="Permanent link">~</a></h3> <p>To send commands and view responses you'll need an <a href=http://www.hivemq.com/blog/seven-best-mqtt-client-tools>MQTT client</a>.</p> <p>Commands over MQTT are issued by using <code>cmnd/%topic%/&lt;command&gt; &lt;parameter&gt;</code> where <code>%topic%</code> is the topic of the device you're sending the command to. If there is no <code>&lt;parameter&gt;</code> (an empty MQTT message/payload), a query is sent for current status of the <code>&lt;command&gt;</code>.</p> <p>See <a href=../MQTT/ >MQTT</a> article to find out more.</p> <h3 id=with-web-requests>with Web Requests<a class=headerlink href=#with-web-requests title="Permanent link">~</a></h3> <p>Commands can be executed via web (HTTP) requests, for example: </p> <div class=codehilite><pre><span></span><code><span class=c>http://&lt;ip&gt;/cm?cmnd=Power%20TOGGLE</span>
<span class=c>http://&lt;ip&gt;/cm?cmnd=Power%20On</span>
<span class=c>http://&lt;ip&gt;/cm?cmnd=Power%20off</span>
<span class=c>http://&lt;ip&gt;/cm?user=admin&amp;password=joker&amp;cmnd=Power%20Toggle</span>
</code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Any spaces or special characters must be replaced with their <a href=https://www.rapidtables.com/code/text/ascii-table.html>ASCII hex codes</a>. You must precede each hex code with <code>%</code>. </p> </div> <p>Most used ones are: <code>space</code> = <code>%20</code> and <code>;</code> = <code>%3B</code> </p> <p>If you have set a password for web user interface access, this must be included (in plaintext) in the URL of the HTTP request, like so: </p> <div class=codehilite><pre><span></span><code><span class=c>http://&lt;ip&gt;/cm?&amp;user=&lt;username&gt;&amp;password=&lt;password&gt;&amp;cmnd=Power%20On</span>
</code></pre></div> <h3 id=in-console-in-the-web-ui>in Console in the Web UI<a class=headerlink href=#in-console-in-the-web-ui title="Permanent link">~</a></h3> <p><strong>Console</strong> menu in the web UI is a convenient place to send commands and it behaves similar to a terminal connection via serial bridge. </p> <h3 id=over-serial-bridge>over Serial Bridge<a class=headerlink href=#over-serial-bridge title="Permanent link">~</a></h3> <p>If you flashed the device via serial method you can connect to it with a terminal application (e.g. <a href=https://www.compuphase.com/software_termite.htm>Termite</a> or Arduino IDE Serial Monitor) to issue commands and follow responses. This is a practical way to do a <code>Backlog</code> setup of your new device.</p> <div class="admonition bug"> <p class=admonition-title>Serial interface is set to 115200 bps except for devices that require a different baudrate</p> </div> <h3 id=the-power-of-backlog>the Power of Backlog<a class=headerlink href=#the-power-of-backlog title="Permanent link">~</a></h3> <p><code>Backlog</code> command allows executing up to 30 consecutive commands with a single command line. Each command is separated by a semicolon (";"). <code>Backlog</code> is a useful feature to avoid numerous restarts when setting up a new device. You can use it to:</p> <p>Set up both Wi-Fi AP's</p> <div class=codehilite><pre><span></span><code><span class=kt>Backlog</span> <span class=kt>SSID1</span> <span class=o>&lt;</span><span class=n>myssid</span><span class=o>&gt;</span><span class=p>;</span> <span class=kt>Password1</span> <span class=o>&lt;</span><span class=n>mypassword</span><span class=o>&gt;</span><span class=p>;</span> <span class=kt>SSID2</span> <span class=o>&lt;</span><span class=n>myssid2</span><span class=o>&gt;</span><span class=p>;</span> <span class=kt>Password2</span> <span class=o>&lt;</span><span class=n>mypassword2</span><span class=o>&gt;</span>
</code></pre></div> <p>Configure MQTT broker address, MQTT credentials, device topic and activate a few custom options</p> <div class=codehilite><pre><span></span><code><span class=kt>Backlog</span> <span class=kt>MqttHost</span> <span class=o>&lt;</span><span class=n>yourhost</span><span class=o>&gt;</span><span class=p>;</span> <span class=kt>MqttUser</span> <span class=o>&lt;</span><span class=n>user</span><span class=o>&gt;</span><span class=p>;</span> <span class=kt>MqttPassword</span> <span class=o>&lt;</span><span class=n>password</span><span class=o>&gt;</span><span class=p>;</span> <span class=kt>Topic</span> <span class=o>&lt;</span><span class=n>customtopic</span><span class=o>&gt;</span><span class=p>;</span> <span class=kt>SetOption53</span> <span class=mi>1</span><span class=p>;</span> <span class=kt>PowerRetain</span> <span class=n>on</span>
</code></pre></div> <p>For specific power control, using backlog like a script</p> <div class=codehilite><pre><span></span><code><span class=kt>Backlog</span> <span class=kt>Status</span> <span class=mi>1</span><span class=p>;</span> <span class=kt>Power2</span> <span class=n>on</span><span class=p>;</span> <span class=kt>Delay</span> <span class=mi>20</span><span class=p>;</span> <span class=kt>Power2</span> <span class=n>off</span><span class=p>;</span> <span class=kt>Status</span> <span class=mi>4</span>
</code></pre></div> <p>When using <a href=#with-web-requests>web requests</a> <em>(You have to encode "space" as '%20' and ";" as '%3B')</em></p> <div class=codehilite><pre><span></span><code><span class=c>http://&lt;ip&gt;/cm?user=admin&amp;password=joker&amp;cmnd=Backlog%20Power%20Toggle%3BPower1%20ff</span>
</code></pre></div> <p>A <code>Backlog</code> command without an argument clears an possible existing <code>Backlog</code> queue.</p> <div class="admonition example"> <p class=admonition-title>Example</p> <p>in case of command <em><code>Backlog Power1 OFF; Delay 600; Power1 ON</code></em> the usage of an additional <code>Backlog</code> command without any argument within the delay time of 1 minute will delete the whole queue <em><code>Power1 OFF; Delay 600; Power1 ON</code></em>. Therefore <code>Power1 ON</code> command will not be executed and the power would remain off.</p> </div> <h2 id=commands-list>Commands List<a class=headerlink href=#commands-list title="Permanent link">~</a></h2> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>If you're using Tasmota versions earlier current release some of the commands might not work. Availability of some features and their associated commands depend on the firmware build. Please consult the <a href=../Builds/ >builds</a> table for a reference of which features are available for each firmware variant.</p> </div> <p><a id=control></a></p> <h3 id=control>Control<a class=headerlink href=#control title="Permanent link">~</a></h3> <table> <thead> <tr> <th align=left>Command</th> <th align=left>Parameters</th> </tr> </thead> <tbody> <tr> <td align=left>Backlog<a id=backlog></a></td> <td align=left>List of commands to be executed in sequence separated by <code>;</code><br> See <a href=#the-power-of-backlog>Using Backlog</a> for examples.</td> </tr> <tr> <td align=left>BlinkCount<a id=blinkcount></a></td> <td align=left>Number of relay toggles (<a href=#power>blinks</a>) <strong>(does not control the status LED)</strong><br> <code>0</code> = blink many times before restoring power state <br> <code>1..32000</code> = set number of blinks <em>(default = <code>10</code>)</em></td> </tr> <tr> <td align=left>BlinkTime<a id=blinktime></a></td> <td align=left><code>2..3600</code> set duration, in 0.1 second increments, to <a href=#power>blink</a> aka toggle Power <strong>(does not control the status LED)</strong></td> </tr> <tr> <td align=left>ButtonDebounce<a id=buttondebounce></a></td> <td align=left>User control over button debounce timing <br><code>40..1000</code> = set button debounce time in milliseconds <em>(default = <code>50</code>)</em></td> </tr> <tr> <td align=left>Buzzer<a id=buzzer></a></td> <td align=left><code>0</code> = stop active buzzer cycle<br><code>&lt;count&gt;,&lt;beep&gt;,&lt;silence&gt;,&lt;tune&gt;</code> = <a href=../Buzzer/ >read more...</a><br><code>2,3</code> = Beep twice with 300 milliseconds duration and 100 milliseconds pause<br><code>2,3,4</code> = Beep twice with 300 milliseconds duration and 400 milliseconds pause<br><code>1,2,3,0xF54</code> (0000 0000 0000 0000 0000 1111 0101 0100). Each <code>1</code> bit beeps for 200 milliseconds and each bounded <code>0</code> bit pauses for 300 milliseconds<br><code>-1</code> = infinite mode<br><code>-2</code> = follow LED mode</td> </tr> <tr> <td align=left>DevGroupShare<a id=devgroupshare></a></td> <td align=left>Set incoming and outgoing shared item mask.<br><code>&lt;in&gt;,&lt;out&gt;</code> (default = 0xFFFFFFFF,0xFFFFFFFF)<br>1 = Power, 2 = Light brightness, 4 = Light fade/speed, 8 = Light scheme, 16 = Light color, 32 = Minimum brightness</td> </tr> <tr> <td align=left>FanSpeed<a id=fanspeed></a></td> <td align=left>Fan speed control <em>(iFan02/iFan03 only)</em><br><code>0</code> = turn fan OFF<br><code>1..3</code> = set fan speed<br><code>+</code> = increase fan speed <br><code>-</code> = decrease fan speed <br></td> </tr> <tr> <td align=left>Interlock<a id=interlock></a></td> <td align=left>Relay interlock mode and group selection.<br><code>0</code> = disable relay interlock for all relays (i.e., each relay is self-locking) <em>(default)</em><br> <code>1</code> = set interlock mode for selected relays<br>Add up to 8 relays in 1 to 4 interlock groups, each separated by a space. For example<br> <code>1,2 3,4</code> = Group Relay1 and Relay2 in group 1 and Relay3 and Relay4 in group 2 (<em>note the space between the two groups</em>) <br> <code>1,2,3</code> = group Relay1, Relay2 and Relay3 in a single interlock group <br><code>1 3 2,4</code> = Relay1 is in group 1, Relay3 in group 2, Relay2 and Relay4 in group 3</td> </tr> <tr> <td align=left>LedMask<a id=ledmask></a></td> <td align=left>Set a <a href=https://en.wikipedia.org/wiki/Mask_(computing)#Masking_bits_to_1>bitmask</a> specifiying which relays control the LED indicator. <a href=../LedMask/ >Read more...</a> <br><code>&lt;bitmask&gt;</code> = <a href=https://whatis.techtarget.com/definition/bitwise>bitwise</a> value representing each relay. Values may be entered as either hexadecimal or decimal values (e.g., 0xFFFF = 65535).<br><code>0xFFFF</code> (= 1111 1111 1111 1111) All relays control the power LED <em>(default)</em><br><em><a href=#ledstate>LedState</a> must be enabled (i.e., <code>!= 0</code>) in order for <code>LedMask</code> to take effect.</em></td> </tr> <tr> <td align=left>LedPower<a id=ledpower></a></td> <td align=left>LED power state as on or off <br> <code>0</code> = turn LED OFF and set <code>LedState 0</code> <br> <code>1</code> = turn LED ON and set <code>LedState 8</code> <br> <code>2</code> = toggle LED and set <code>LedState 0</code> <br>(Use <code>Backlog LedPower 0; SetOption31 1</code> to disable LED even when Wi-Fi or MQTT is not connected)</td> </tr> <tr> <td align=left>LedPower&lt;x></td> <td align=left>LED&lt;x> power state control. <strong>Enabled only when LedLink(i) is configured</strong><br><code>0</code> = turn LED OFF and set <code>LedState 0</code> <br> <code>1</code> = turn LED ON and set <code>LedState 0</code> <br> <code>2</code> = toggle LED and set <code>LedState 0</code></td> </tr> <tr> <td align=left>LedState<a id=ledstate></a></td> <td align=left>Manage LED state<br> <code>0</code> = disable use of LED as much as possible <br> <code>1</code> = show power state on LED (LED on when power on) <em>(default)</em> <em>(inverted for Sonoff Touch/T1)</em><br> <code>2</code> = show MQTT subscriptions as a LED blink<br> <code>3</code> = show power state and MQTT subscriptions as a LED blink<br> <code>4</code> = show MQTT publications as a LED blink<br> <code>5</code> = show power state and MQTT publications as a LED blink<br> <code>6</code> = show all MQTT messages as a LED blink<br> <code>7</code> = show power state and MQTT messages as a LED blink<br><code>8</code> = LED on when Wi-Fi and MQTT are connected.<br><em><em>Cannot</em> be issued directly and is only activated when <code>LedPower</code> is switched from <code>0</code> to <code>1</code> due to a software function</em></td> </tr> <tr> <td align=left>Power0<a id=Power0></a></td> <td align=left>Control the power state simultaneously for all power outputs on the device<br> <code>0</code> / <code>off</code> = turn OFF <br> <code>1</code> / <code>on</code> = turn ON <br> <code>2</code> / <code>toggle</code> = if relay is <code>ON</code> switch to <code>OFF</code> and vice versa</td> </tr> <tr> <td align=left>Power&lt;x><a id=power></a></td> <td align=left>Control the corresponding power state (<code>1..8</code>) (also restarts PulseTime)&lt;x><br> <code>0</code> / <code>off</code> / <code>false</code> = turn OFF <br> <code>1</code> / <code>on</code> / <code>true</code> = turn ON <br> <code>2</code> / <code>toggle</code> = if power state is <code>ON</code> switch to <code>OFF</code> and vice versa<br> <code>3</code> / <code>blink</code> = toggle power for <a href=#blinkcount>BlinkCount</a> times each <a href=#blinktime>BlinkTime</a> duration (at the end of <code>blink</code>, power state is returned to pre-blink state)<br> <code>4</code> / <code>blinkoff</code> = stop blink sequence and return power state to pre-blink state</td> </tr> <tr> <td align=left>PowerOnState<a id=poweronstate></a></td> <td align=left>Control power state when the device is <em><strong>powered up</strong></em>. <a href=../PowerOnState/ >More information</a><br> <code>0</code> / <code>OFF</code> = keep power(s) OFF after power up <br> <code>1</code> / <code>ON</code> = turn power(s) ON after power up <br> <code>2</code> / <code>TOGGLE</code> = toggle power(s) from last saved state <br> <code>3</code> = switch power(s) to their last saved state <em>(default)</em> <br> <code>4</code> = turn power(s) ON and disable further power control <br> <code>5</code> = after a <code>PulseTime</code> period turn power(s) ON (acts as inverted <a href=./#pulsetime><code>PulseTime</code></a> mode)</td> </tr> <tr> <td align=left>PulseTime&lt;x><a id=pulsetime></a></td> <td align=left>Display the amount of <code>PulseTime</code> remaining on the corresponding Relay&lt;x><br><code>&lt;value&gt;</code> Set the duration to keep Relay&lt;x> <code>ON</code> when <code>Power&lt;x&gt; ON</code> command is issued. After this amount of time, the power will be turned <code>OFF</code>.<br><code>0</code> / <code>OFF</code> = disable use of PulseTime for Relay&lt;x><br><code>1..111</code> = set PulseTime for Relay&lt;x> in 0.1 second increments<br><code>112..64900</code> = set PulseTime for Relay&lt;x>, offset by 100, in 1 second increments. Add 100 to desired interval in seconds, e.g., <code>PulseTime 113</code> = 13 seconds and <code>PulseTime 460</code> = 6 minutes (i.e., 360 seconds)<br></td> </tr> <tr> <td align=left>SwitchDebounce<a id=switchdebounce></a></td> <td align=left>User control over switch debounce timing <br><code>40..1000</code> = set switch debounce time in milliseconds <em>(default = <code>50</code>)</em></td> </tr> <tr> <td align=left>SwitchMode&lt;x><a id=switchmode></a></td> <td align=left><a href=../Buttons-and-Switches/#switchmode>Switch mode</a> <br> <code>0</code> = toggle <em>(default)</em> <br> <code>1</code> = follow (0 = off, 1 = on) <br> <code>2</code> = inverted follow (0 = on, 1 = off) <br> <code>3</code> = pushbutton (default 1, 0 = toggle) <br> <code>4</code> = inverted pushbutton (default 0, 1 = toggle) <br> <code>5</code> = pushbutton with hold (default 1, 0 = toggle, Hold = hold) <br> <code>6</code> = inverted pushbutton with hold (default 0, 1 = toggle, hold = hold) <br> <code>7</code> = pushbutton toggle (0 = toggle, 1 = toggle)<br> <code>8</code> = multi change toggle (0 = toggle, 1 = toggle, 2x change = hold)<br> <code>9</code> = multi change follow (0 = off, 1 = on, 2x change = hold)<br> <code>10</code> = inverted multi change follow (0 = on, 1 = off, 2x change = hold)<br> <code>11</code> = pushbutton with dimmer mode <br> <code>12</code> = inverted pushbutton with dimmer mode <br> <code>13</code> = pushon mode (1 = on, switch off using <code>PulseTime</code>)<br> <code>13</code> = inverted pushon mode (0 = on, switch off using <code>PulseTime</code>)</td> </tr> <tr> <td align=left>See also</td> <td align=left><a href=#setoption1><code>SetOption1</code></a> - Set button multipress mode<br><a href=#setoption11><code>SetOption11</code></a> - Swap pushbutton single and double press functionality<br><a href=#setoption13><code>SetOption13</code></a> - Allow immediate action on single button press<br><a href=#setoption26><code>SetOption26</code></a> - Use indexes even when only one relay is present<br><a href=#setoption31><code>SetOption31</code></a> - Disable Wi-Fi LED status blinking<br><a href=#setoption32><code>SetOption32</code></a> - Set hold interval before sending <code>HOLD</code> action<br><a href=#setoption40><code>SetOption40</code></a> - Stop detecting any input change on button GPIO<br><a href=#setoption67><code>SetOption67</code></a> - Enable/Disable Buzzer</td> </tr> </tbody> </table> <p><a id=management></a></p> <h3 id=management>Management<a class=headerlink href=#management title="Permanent link">~</a></h3> <table> <thead> <tr> <th align=left>Command</th> <th align=left>Parameters</th> </tr> </thead> <tbody> <tr> <td align=left>Delay<a id=delay></a></td> <td align=left><code>2..3600</code> = set delay between two backlog commands with 0.1 second increment</td> </tr> <tr> <td align=left>DeepSleepTime<a id=deepsleeptime></a></td> <td align=left>Time to enter <a href=../DeepSleep/ >deep sleep mode</a><br><code>0</code> = disable deep sleep mode <em>(default)</em><br><code>10..86400</code> = set deep sleep mode time period in seconds</td> </tr> <tr> <td align=left>Emulation<a id=emulation></a></td> <td align=left><code>0</code> = disable emulation <em>(default)</em><br><code>1</code> = enable Belkin WeMo emulation for <a href=../Alexa/ >Alexa</a><br><code>2</code> = enable Hue Bridge emulation for <a href=../Alexa/ >Alexa</a></td> </tr> <tr> <td align=left>FriendlyName&lt;x><a id=friendlyname></a></td> <td align=left><code>1</code> = Reset friendly name to firmware default<br><code>&lt;value&gt;</code> = set friendly name (32 char limit)</td> </tr> <tr> <td align=left>Gpios<a id=gpios></a></td> <td align=left>Show list of available <a href=../Components/#components-list>components</a> by name and index<br><code>255</code> / <code>All</code> Show list of all <a href=../Components/#components-list>components</a> by name and index<br></td> </tr> <tr> <td align=left>Gpio<a id=gpio></a></td> <td align=left>Show current <a href=../Components/#components-list>component</a> assignments of the Module's configurable GPIO<br><code>255</code> / <code>All</code> Show <a href=../Components/#components-list>component</a> assignments for all the devices available GPIO<br></td> </tr> <tr> <td align=left>Gpio&lt;x><a id=gpiox></a></td> <td align=left><em>For built-in Modules only. This command does not work for devices configured with a Template.</em><br><code>&lt;component&gt;</code> = assign a <a href=../Components/ >component</a> to <code>Gpio&lt;x&gt;</code></td> </tr> <tr> <td align=left>I2Cscan<a id=I2Cscan></a></td> <td align=left>Scan I<sup>2</sup>C bus and show addresses for found devices</td> </tr> <tr> <td align=left>I2CDriver<a id=I2CDriver></a></td> <td align=left>Enable / Disable I<sup>2</sup>C sensor drivers. <a href=../I2CDevices/ >Read more...</a><br></td> </tr> <tr> <td align=left>LogHost<a id=loghost></a></td> <td align=left><code>1</code> = reset <a href=https://www.sigmdel.ca/michel/ha/rpi/syslog_en.html>syslog</a> host to firmware default (<code>SYS_LOG_HOST</code>)<br><code>&lt;value&gt;</code> = set syslog host (32 chars max)</td> </tr> <tr> <td align=left>LogPort<a id=logport></a></td> <td align=left><code>1</code> = reset <a href=https://www.sigmdel.ca/michel/ha/rpi/syslog_en.html>syslog</a> port to firmware default (<code>SYS_LOG_PORT</code>)<br><code>2..32766</code> = set syslog port</td> </tr> <tr> <td align=left>Modules<a id=modules></a></td> <td align=left>Show available modules by name and index</td> </tr> <tr> <td align=left>Module<a id=module></a></td> <td align=left>Displays active module by name and index<br><code>&lt;x&gt;</code> = switch to Module&lt;x> and restart<br><code>0</code> = switch to defined <a href=../Templates/ >template</a> and restart</td> </tr> <tr> <td align=left>MqttLog<a id=mqttlog></a></td> <td align=left><code>0</code> = disable logging via MQTT <em>(default)</em><br> <code>1</code> = show only error messages<br> <code>2</code> = show error and info messages<br><code>3</code> = show error, info and debug messages<br><code>4</code> = show error, info and more debug messsages</td> </tr> <tr> <td align=left>NtpServer&lt;x><a id=ntpserver></a></td> <td align=left>NTP server setup (x= <code>1..3</code>)<br><code>0</code> = clear NtpServer&lt;x> settings<br><code>1</code> = reset NtpServer&lt;x> settings to firmware defaults<br><code>&lt;value&gt;</code> = set NtpServer&lt;x> host or IP address (32 char limit)</td> </tr> <tr> <td align=left>OtaUrl<a id=otaurl></a></td> <td align=left>Display current OTA URL<br> <code>1</code> = Reset OtaUrl to firmware default<br> <code>url</code> = set address for OTA (100 char limit)</td> </tr> <tr> <td align=left>Pwm&lt;x><a id=pwm></a></td> <td align=left><code>0..1023</code> = set PWM value for channel</td> </tr> <tr> <td align=left>PwmFrequency<a id=pwmfrequency></a></td> <td align=left><code>1</code> = reset PWM frequency to 880Hz<br><code>100..4000</code> = set PWM frequency (100Hz to 4kHz)</td> </tr> <tr> <td align=left>PwmRange<a id=pwmrange></a></td> <td align=left><code>1</code> = reset maximum PWM range to 1023<br><code>255..1023</code> = set maximum PWM range</td> </tr> <tr> <td align=left>Reset<a id=reset></a></td> <td align=left><code>1</code> = reset device settings to firmware defaults and restart<br><code>2</code> = erase flash, reset device settings to firmware defaults and restart<br> <code>3</code> = erase System Parameter Area in flash (Wi-Fi calibration and related data) and restart<br><code>4</code> = reset device settings to firmware defaults but retain Wi-Fi credentials and restart<br> <code>5</code> = erase all flash and reset parameters to firmware defaults but keep Wi-Fi settings and restart<br><code>6</code> = erase all flash and reset parameters to firmware defaults but keep Wi-Fi and MQTT settings and restart<br><em>(Erase of flash can take a few seconds to complete and there is no output during the erase process on the serial or web console)</em><br><code>99</code> = reset device bootcount to zero</td> </tr> <tr> <td align=left>Restart<a id=restart></a></td> <td align=left><code>1</code> = restart device with configuration saved to flash<br><code>99</code> = force restart device without configuration save<br><em>For debug and testing stack trace dumps only:</em><br><code>-1</code> = force an Exception (28) crash<br><code>-2</code> = force a Soft WDT reset (after a freeze of 2 seconds)<br><code>-3</code> = force an OS watchdog reset (after a freeze of 120 seconds, <strong>caution!</strong>)</td> </tr> <tr> <td align=left>SaveData<a id=savedata></a></td> <td align=left><code>0</code> = save parameter changes only manually, e.g. with <code>Restart 1</code><br><code>1</code> = save parameter changes every second <em>(default)</em><br><code>2..3600</code> = save parameter changes every x second</td> </tr> <tr> <td align=left>SerialLog<a id=seriallog></a></td> <td align=left>Disable hardware serial bridge and<br><code>0</code> = disable serial logging<br> <code>1</code> = show only error messages<br> <code>2</code> = show error and info messages <em>(default)</em><br><code>3</code> = show error, info and debug messages<br><code>4</code> = show error, info and more debug messages<br><code>SerialLog</code> will be disabled automatically 10 minutes after the device reboots.</td> </tr> <tr> <td align=left>Sleep<a id=sleep></a></td> <td align=left><code>0</code> = turn sleep off<br><code>1..250</code> = set sleep duration in milliseconds to enable <a href=../Energy-Saving/ >energy saving</a> <em>(default = <code>50</code>)</em></td> </tr> <tr> <td align=left>State<a id=state></a></td> <td align=left>Display current device state and publish to <code>%prefix%/%topic%/RESULT</code> topic&emsp; 5.12.0</td> </tr> <tr> <td align=left>Status<a id=status></a></td> <td align=left><code></code> = show abbreviated <a href=../JSON-Status-Responses/#basic-response>status information</a><br><code>0</code> = show all status information (1 - 11)<br><code>1</code> = show device parameters information<br><code>2</code> = show firmware information<br><code>3</code> = show logging and telemetry information<br><code>4</code> = show memory information<br><code>5</code> = show network information<br><code>6</code> = show MQTT information<br><code>7</code> = show time information<br><code>8</code> = show connected sensor information<br><code>9</code> = show power thresholds <em>(only on modules with power monitoring)</em><br><code>10</code> = same as <code>Status 8</code> <em>(retained for backwards compatibility)</em><br><code>11</code> = show information equal to <a href=#teleperiod><code>TelePeriod</code></a> state message<br><code>12</code> = in case of crash to dump the call stack saved in RT memory</td> </tr> <tr> <td align=left>SysLog<a id=syslog></a></td> <td align=left><code>0</code> = disable syslog logging <em>(default)</em><br> <code>1</code> = show only error messages<br> <code>2</code> = show error and info messages<br><code>3</code> = show error, info and debug messages<br><code>4</code> = show error, info and more debug messages</td> </tr> <tr> <td align=left>Template<a id=template></a></td> <td align=left>Show current <a href=../Templates/ >Template</a><br><code>0</code> = create template from active module<br><code>x</code> = create template from a <a href=../Modules/ >supported module</a><br><code>255</code> = merge current module and template settings into new template<br><code>{ ... }</code> = store template in a <a href=../Templates/#anatomy-of-a-template>JSON payload</a><br>Does not activate the template. To activate use <code>Module 0</code>.</td> </tr> <tr> <td align=left>Time<a id=time></a></td> <td align=left><code>0</code> = enable NTP <em>(default)</em><br><code>1</code> = format JSON message timestamp in ISO format<br><code>2</code> = format JSON message timestamp in both ISO and Epoch format<br><code>3</code> = format JSON message timestamp in Epoch format<br><code>&lt;value&gt;</code> = disable NTP and set UTC time as epoch value if greater than <code>1451602800</code> (January 1, 2016)</td> </tr> <tr> <td align=left>TimeSTD<br>TimeDST<a id=timestd></a><a id=timedst></a></td> <td align=left>Set policies for the beginning of daylight saving time (DST) and return back to standard time (STD)&emsp; 5.14.0<br><code>0</code> = reset parameters to firmware defaults<br><code>H</code>,<code>W</code>,<code>M</code>,<code>D</code>,<code>h</code>,<code>T</code><br> <code>H</code> = hemisphere (<code>0</code> = northern hemisphere / <code>1</code> = southern hemisphere)<br> <code>W</code> = week (<code>0</code> = last week of month, <code>1..4</code> = first .. fourth)<br> <code>M</code> = month (<code>1..12</code>)<br> <code>D</code> = day of week (<code>1..7</code> <code>1</code> = sunday <code>7</code> = saturday)<br> <code>h</code> = hour (<code>0..23</code>)<br> <code>T</code> = timezone (<code>-780..780</code>) (offset from UTC in <strong>MINUTES</strong> - 780min / 60min=13hrs)<br><em>Example:</em> <code>TIMEDST 1,1,10,1,2,660</code></td> </tr> <tr> <td align=left>Timezone<a id=timezone></a></td> <td align=left><code>-13..+13</code> = set timezone offset from UTC in hours<br><code>-13:00..+13:00</code> = set timezone offset from UTC in hours and minutes<br><code>99</code> = use timezone configured with <code>TimeDST</code> and <code>TimeSTD</code></td> </tr> <tr> <td align=left>TuyaMCU<a id=tuyamcu></a></td> <td align=left>Used to map functions in TuyaMCU <br><code>&lt;fnId&gt;,&lt;dpId&gt;</code> = <a href=../TuyaMCU/ >read more...</a><br><code>&lt;fnId&gt;,0</code> = remove setting for fnId</td> </tr> <tr> <td align=left>Upgrade<a id=upgrade></a></td> <td align=left><code>1</code> = download firmware from <code>OtaUrl</code> and restart<br><code>&lt;value&gt;</code> = download firmware from <code>OtaUrl</code> if \&lt;value> is higher than device version</td> </tr> <tr> <td align=left>Upload<a id=upload></a></td> <td align=left><code>1</code> = download firmware from <code>OtaUrl</code> and restart<br><code>&lt;value&gt;</code> = download firmware from <code>OtaUrl</code> if \&lt;value> is higher than device version</td> </tr> <tr> <td align=left>WebLog<a id=weblog></a></td> <td align=left><code>0</code> = disable web logging<br> <code>1</code> = show only error messages<br> <code>2</code> = show error and info messages <em>(default)</em><br><code>3</code> = show error, info and debug messages<br><code>4</code> = show error, info and more debug messages</td> </tr> <tr> <td align=left>See also</td> <td align=left><a href=#setoption68><code>SetOption68</code></a> - PWM Channel control<br><a href=#setoption76><code>SetOption76</code></a> - DeepSleep disable bootcount incrementing</td> </tr> </tbody> </table> <p><a id=wi-fi></a></p> <h3 id=wi-fi>Wi-Fi<a class=headerlink href=#wi-fi title="Permanent link">~</a></h3> <table> <thead> <tr> <th align=left>Command</th> <th align=left>Parameters</th> </tr> </thead> <tbody> <tr> <td align=left>AP<a id=ap></a></td> <td align=left><code>0</code> = switch to other Wi-Fi Access Point<br><code>1</code>= select Wi-Fi Access Point 1<br><code>2</code>= select Wi-Fi Access Point 2</td> </tr> <tr> <td align=left>CORS<a id=cors></a></td> <td align=left><code>"</code> = disable CORS (Cross Origin Resource Sharing) (default)<br><code>*</code> = enable CORS for all locations<br><code>value</code> = Enable CORS for location. This needs to be complete url ex: <code>http://tasui.shantur.com</code></td> </tr> <tr> <td align=left>Hostname<a id=hostname></a></td> <td align=left><code>1</code> = reset hostname to <code>MQTT_TOPIC-&lt;4digits&gt;</code> and restart<br><code>&lt;value&gt;</code> = set hostname (32 char limit) and restart. If hostname contains <code>%</code> it will be reset to the default instead.<br><strong><em>If using MQTT to issue this command, if it is used with the device <code>GroupTopic</code>, the command will not be executed.</em></strong></td> </tr> <tr> <td align=left>IPAddress&#60;x&gt;<a id=ipaddress></a></td> <td align=left>Set networking IP (<code>XXX.XXX.XXX.XXX</code>) addresses<br><code>IPAddress1</code> = set device IP address<br><li><code>0.0.0.0</code> = use dynamic IP address (DHCP)</li><li><code>XXX.XXX.XXX.XXX</code> = set static IP address</li><code>IPAddress2</code> = set gateway IP address<br><code>IPAddress3</code> = set subnet mask<br><code>IPAddress4</code> = set DNS server IP address<br><br><em>follow IPAddress commands with <code>restart 1</code> to apply changes</em></td> </tr> <tr> <td align=left>Password&lt;x><a id=password></a></td> <td align=left><code>&lt;x&gt;</code> = <code>1..2</code><br><code>&lt;value&gt;</code> = set AP&lt;x> Wi-Fi password and restart<br><code>1</code> = reset AP&lt;x> Wi-Fi password to firmware default (<code>STA_PASS1</code> or <code>STA_PASS2</code>) and restart<br>Passwords are limited to 64 characters. <strong>Do not use special characters or white spaces in the password</strong>.<br><strong>Note that <code>Password</code> and <code>Password1</code> are equivalent commands.</strong></td> </tr> <tr> <td align=left>Ssid&lt;x><a id=ssid></a></td> <td align=left><code>&lt;x&gt;</code> = <code>1..2</code><br><code>&lt;value&gt;</code> = set AP&lt;x> Wi-Fi SSID and restart<br><code>1</code> = reset AP&lt;x> Wi-Fi SSID to firmware default (<code>STA_SSID1</code> or <code>STA_SSID2</code>) and restart<br>SSID are limited to 32 characters. <strong>Do not use special characters or white spaces in the SSID</strong></td> </tr> <tr> <td align=left>WebColor&lt;x><a id=webcolor></a></td> <td align=left>Configure Web GUI colors (x = <code>1..19</code>)<br><code>#RRGGBB</code> = Set color for <code>WebColor&lt;x&gt;</code><br><code>1</code> = Global text (Black)<br><code>2</code> = Global background (White)<br><code>3</code> = Form background (Greyish)<br><code>4</code> = Input text (Black)<br><code>5</code> = Input background (White)<br><code>6</code> = Console text (Black)<br><code>7</code> = Console background (White)<br><code>8</code> = Warning text (Red)<br><code>9</code> = Success text (Green)<br><code>10</code> = Button text (White)<br><code>11</code> = Button (Blueish)<br><code>12</code> = Button hovered over (Darker blueish)<br><code>13</code> = Restart/Reset/Delete button (Redish)<br><code>14</code> = Restart/Reset/Delete button hover (Darker reddish)<br><code>15</code> = Save button (Greenish)<br><code>16</code> = Save button hover (Darker greenish)<br><code>17</code> = Config timer tab text (White)<br><code>18</code> = Config timer tab background (Light grey)<br><code>19</code> = Module title and FriendlyName text (Whiteish)<br><a href=../WebUI/#themes>User themes</a></td> </tr> <tr> <td align=left>WebPassword<a id=webpassword></a></td> <td align=left>Show current web server password<br><code>0</code> = disable use of password for web UI<br><code>1</code> = reset password to firmware default (<code>WEB_PASSWORD</code>)<br><code>&lt;value&gt;</code> = set web UI password (32 char limit) for user <code>WEB_USERNAME</code> <em>(Default WEB_USERNAME = <code>admin</code>)</em></td> </tr> <tr> <td align=left>WebRefresh<a id=webrefresh></a></td> <td align=left>Web page refresh<br><code>1000..10000</code> = set refresh time in milliseconds <em>(default = <code>2345</code>)</em></td> </tr> <tr> <td align=left>WebSend<a id=websend></a></td> <td align=left>Send a command to Tasmota host over http. If a command starts with a <code>\</code> it will be used as a link.<br><code>[&lt;host&gt;:&lt;port&gt;,&lt;user&gt;:&lt;password&gt;] &lt;command&gt;</code><br><code>&lt;host&gt;</code> = hostname or IP address.<br><code>&lt;port&gt;</code> = port for the device if not the default <code>80</code><br><code>&lt;user&gt;</code> = enter username of the device you're sending the command to<br><code>&lt;password&gt;</code> = enter password of the device you're sending the command to<br><code>&lt;command&gt;</code> = command and payload<br><em>example: <code>[&lt;ip&gt;] POWER1 ON</code> sends <code>http://&lt;ip&gt;/cm?cmnd=POWER1 ON</code></em></td> </tr> <tr> <td align=left>WebSensor&lt;x><a id=websensor></a></td> <td align=left>Control display of sensor telemetry in the web UI<br><code>0</code> = Do not display sensor's telemetry<br><code>1</code> = Display sensor's telemetry (<em>default</em>)<br><code>&lt;x&gt;</code> = number corresponding to the sensor - listed in the <code>sns</code> section of the <a href="https://docs.google.com/spreadsheets/d/e/2PACX-1vRBFqaP5QAFmT8iIYBxrn-EQp7-SrkxL6tb0OjpqtBxDEsmkiWCFei3sFyA_UXoqlbs3CqtEdOfC6Pa/pubhtml?gid=1029939700&single=true">supported sensor spreadsheet</a><br><code>&lt;x&gt;</code> = <code>3</code> Energy telemetry<br>Issue a <code>Status 4</code> to obtain a list of sensor types enabled in the firmware loaded on the device.</td> </tr> <tr> <td align=left>WebServer<a id=webserver></a></td> <td align=left><code>0</code> = stop web server<br><code>1</code> = start web server in user mode<br><code>2</code> = start web server in admin mode</td> </tr> <tr> <td align=left>WifiConfig<a id=wificonfig></a></td> <td align=left><code>0</code> = disable Wi-Fi Manager and reboot (used with alternate AP)<br><code>2</code> = set <a href=https://github.com/tzapu/WiFiManager/blob/master/README.md#how-it-works>Wi-Fi Manager</a> as the current configuration tool and start Wi-Fi Manager (web server at 192.168.4.1) for 3 minutes, then reboot and try to connect Wi-Fi network<br><code>4</code> = disable Wi-Fi Manager but retry the other AP without rebooting<br><code>5</code> = disable Wi-Fi Manager and wait until that AP is available again without rebooting<br><code>6</code> = Wi-Fi parameters can only be entered via commands in the serial console<br><code>7</code> = set <a href=https://github.com/tzapu/WiFiManager/blob/master/README.md#how-it-works>Wi-Fi Manager</a> (web server at 192.168.4.1) as the current configuration tool restricted with the only option to reset settings. <br><em>This setting is recommended for devices without an external control/reset button</em>.<br>&emsp;<em>No longer supported</em> <br><code>1</code> = set <a href=https://community.particle.io/t/smart-config-the-missing-manual-now-available/442>SmartConfig</a> (<a href="https://play.google.com/store/apps/details?id=com.iotmaker&hl=en_US">Android</a>/iOS) as the current configuration tool, start SmartConfig for 3 minutes and reboot and try to connect to Wi-Fi<br><code>3</code> = set <a href=https://en.wikipedia.org/wiki/Wi-Fi_Protected_Setup>WPS</a> as configuration tool, try WPS for 3 minutes and reboot and try to connect to Wi-Fi</td> </tr> <tr> <td align=left><a href=../WifiPower/ >WifiPower</a><a id=wifipower></a></td> <td align=left>set Wi-Fi transmit power level in decibel-milliwatts (dBm) <em>(default = <code>17</code>)</em></td> </tr> <tr> <td align=left>See also</td> <td align=left><a href=#setoption55><code>SetOption55</code></a> - mDNS service control<br><a href=#setoption56><code>SetOption56</code></a> - Wi-Fi network scan to select strongest signal on restart<br><a href=#setoption57><code>SetOption57</code></a> - Wi-Fi network re-scan, alternate AP</td> </tr> </tbody> </table> <p><a id=mqtt></a></p> <h3 id=mqtt>MQTT<a class=headerlink href=#mqtt title="Permanent link">~</a></h3> <table> <thead> <tr> <th align=left>Command</th> <th align=left>Parameters</th> </tr> </thead> <tbody> <tr> <td align=left>ButtonRetain<a id=buttonretain></a></td> <td align=left><code>0</code> = disable use of MQTT retain flag <em>(default)</em><br><code>1</code> = enable MQTT retain flag on button press</td> </tr> <tr> <td align=left>ButtonTopic<a id=buttontopic></a></td> <td align=left><code>&lt;value&gt;</code> = set MQTT button topic (32 chars max)<br><code>0</code> = disable use of MQTT button topic<br><code>1</code> = set MQTT button topic to device <code>%topic%</code><br><code>2</code> = reset MQTT button topic to firmware default (<code>MQTT_BUTTON_TOPIC</code>) <em>(default = <code>0</code>)</em><br><em>If using MQTT to issue this command, if it is published to the device <code>GroupTopic</code>, the command will not be executed.</em></td> </tr> <tr> <td align=left>FullTopic<a id=fulltopic></a></td> <td align=left><code>1</code> = reset MQTT fulltopic to firmware default (<code>MQTT_FULLTOPIC</code>) and restart<br><code>&lt;value&gt;</code> = set MQTT fulltopic (100 chars max) and restart. Use of <a href=../MQTT/#mqtt-topic-definition>optional %prefix%, %topic%, %hostname%, and %id% substitution tokens</a> is allowed.<br><em>If using MQTT to issue this command, if it is published to the device <code>GroupTopic</code>, <em>you must ensure uniqueness of the resulting fulltopic on each destination device by using one or more of these substitution tokens.</em></em></td> </tr> <tr> <td align=left>GroupTopic&lt;x><a id=grouptopic></a></td> <td align=left><code>1</code> = reset MQTT group &lt;x> topic to firmware default (<code>MQTT_GRPTOPIC</code>) and restart<br><code>&lt;value&gt;</code> = set MQTT group &lt;x> topic (32 chars max) and restart</td> </tr> <tr> <td align=left>MqttClient<a id=mqttclient></a></td> <td align=left><code>1</code> = reset MQTT client to firmware config (<code>MQTT_CLIENT_ID</code>) and restart<br><code>&lt;value&gt;</code> = set MQTT client (32 chars max) and restart.<br>You can use the <code>%06X</code> substitution token to replace with last six characters of MAC address.<br><em>If using MQTT to issue this command, if it is used with the device <code>GroupTopic</code>, the command will not be executed.</em></td> </tr> <tr> <td align=left>MqttFingerprint<a id=mqttfingerprint></a></td> <td align=left><em>TLS needs to be enabled in firmware for this command</em>&emsp; 5.13.1<br><code>&lt;value&gt;</code> = set current fingerprint as 20 space separated bytes (59 chars max)</td> </tr> <tr> <td align=left>MqttHost<a id=mqtthost></a></td> <td align=left><code>0</code> = clear MQTT host field and allow mDNS to find MQTT host<br><code>1</code> = reset MQTT host to firmware default (<code>MQTT_HOST</code>) and restart<br><code>&lt;value&gt;</code> = set MQTT host (32 chars max) and restart (do NOT use <code>.local</code>)</td> </tr> <tr> <td align=left>MqttPassword<a id=mqttpassword></a></td> <td align=left><code>0</code> = clear MQTT password<br><code>1</code> = reset MQTT password to firmware default (<code>MQTT_PASS</code>) and restart<br><code>&lt;value&gt;</code> = set MQTT password (32 chars max) and restart</td> </tr> <tr> <td align=left>MqttPort<a id=mqttport></a></td> <td align=left><code>1</code> = reset MQTT port to firmware default (<code>MQTT_PORT</code>) and restart<br><code>&lt;value&gt;</code> = set MQTT port between 2 and 32766 and restart</td> </tr> <tr> <td align=left>MqttRetry<a id=mqttretry></a></td> <td align=left><code>10..32000</code> = set MQTT connection retry timer in seconds <em>(default = <code>10</code>)</em></td> </tr> <tr> <td align=left>MqttUser<a id=mqttuser></a></td> <td align=left><code>0</code> = clear MQTT user name<br><code>1</code> = reset MQTT user name to firmware default (<code>MQTT_USER</code>) and restart<br><code>&lt;value&gt;</code> = set MQTT user name (32 chars max) and restart</td> </tr> <tr> <td align=left>PowerRetain<a id=powerretain></a></td> <td align=left>MQTT <a href=../MQTT/#retained-mqtt-messages>power retain state</a><br> <code>0</code> / <code>off</code> = disable MQTT power retain on status update <em>(default)</em> <br> <code>1</code> / <code>on</code> = enable MQTT power retain on status update <br></td> </tr> <tr> <td align=left>Prefix1<a id=Prefix1></a></td> <td align=left><code>1</code> = reset MQTT command subscription prefix to firmware default (<code>SUB_PREFIX</code>) and restart<br><code>&lt;value&gt;</code> = set MQTT command subscription prefix (10 chars max) and restart</td> </tr> <tr> <td align=left>Prefix2<a id=Prefix2></a></td> <td align=left><code>1</code> = reset MQTT status prefix to firmware default (<code>PUB_PREFIX</code>) and restart<br><code>&lt;value&gt;</code> = set MQTT status prefix (10 chars max) and restart</td> </tr> <tr> <td align=left>Prefix3<a id=Prefix3></a></td> <td align=left><code>1</code> = Reset MQTT telemetry prefix to firmware default (<code>PUB_PREFIX2</code>) and restart<br><code>&lt;value&gt;</code> = set MQTT telemetry prefix (10 chars max) and restart</td> </tr> <tr> <td align=left>Publish<a id=publish></a></td> <td align=left><code>&lt;topic&gt; &lt;payload&gt;</code> = MQTT publish any topic and optional payload&emsp; 5.13.0</td> </tr> <tr> <td align=left>Publish2<a id=Publish2></a></td> <td align=left><code>&lt;topic&gt; &lt;payload&gt;</code> = MQTT publish any topic and optional payload with retain flag</td> </tr> <tr> <td align=left>SensorRetain<a id=sensorretain></a></td> <td align=left><code>0</code> = disable use of sensor MQTT retain flag <em>(default)</em><br><code>1</code> = enable MQTT retain flag on message <code>tele/%topic%/SENSOR</code></td> </tr> <tr> <td align=left>StateText1<a id=StateText1></a></td> <td align=left><code>&lt;value&gt;</code> = set <code>OFF</code> state text (10 chars max)</td> </tr> <tr> <td align=left>StateText2<a id=StateText2></a></td> <td align=left><code>&lt;value&gt;</code> = set <code>ON</code> state text (10 chars max)</td> </tr> <tr> <td align=left>StateText3<a id=StateText3></a></td> <td align=left><code>&lt;value&gt;</code> = set <code>TOGGLE</code> state text (10 chars max)</td> </tr> <tr> <td align=left>StateText4<a id=StateText4></a></td> <td align=left><code>&lt;value&gt;</code> = set <code>HOLD</code> state text (10 chars max)</td> </tr> <tr> <td align=left>SwitchRetain<a id=switchretain></a></td> <td align=left><code>0</code> = disable use of MQTT retain flag <em>(default)</em><br><code>1</code> = enable MQTT retain flag on switch press</td> </tr> <tr> <td align=left>Subscribe<a id=subscribe></a></td> <td align=left>Subscribes to an MQTT topic and assigns an Event name to it.<br><code>&lt;eventName&gt;, &lt;mqttTopic&gt; [, &lt;key&gt;]</code> = <a href=../Subscribe-%26-Unsubscribe/ >Read more...</a><br><code></code> = list all topics currently subscribed</td> </tr> <tr> <td align=left>SwitchTopic<a id=switchtopic></a></td> <td align=left><code>&lt;value&gt;</code> = set MQTT switch topic (32 chars max)<br><code>0</code> = disable use of MQTT switch topic<br><code>1</code> = set MQTT switch topic to device <code>%topic%</code><br><code>2</code> = reset MQTT switch topic to firmware default (<code>MQTT_SWITCH_TOPIC</code>) <em>(default = <code>0</code>)</em><br><a href=../Buttons-and-Switches/ >Read more</a> about this.<br><em>If using MQTT to issue this command, if it is used with the device <code>GroupTopic</code>, the command will not be executed.</em></td> </tr> <tr> <td align=left>TelePeriod<a id=teleperiod></a></td> <td align=left><code>0</code> = disable telemetry messages<br><code>1</code> = reset telemetry period to firmware default (<code>TELE_PERIOD</code>)<br><code>10..3600</code> = set telemetry period in seconds <em>(default = <code>300</code>)</em></td> </tr> <tr> <td align=left>Topic<a id=topic></a></td> <td align=left><code>1</code> = reset MQTT topic to firmware default (<code>MQTT_TOPIC</code>) and restart<br><code>&lt;value&gt;</code> = set MQTT topic (32 chars max) <strong>and</strong> <code>ButtonTopic</code> and restart.<br><em>If using MQTT to issue this command, if it is used with the device <code>GroupTopic</code>, the command will not be executed. (Mqtt Topic can't be equal to Mqtt Client)</em></td> </tr> <tr> <td align=left>Unsubscribe<a id=unsubscribe></a></td> <td align=left>Unsubscribe from topics subsribed to with <a href=#subscribe><code>Subscribe</code></a> <br><code></code> = unsubscribe all topics<br><code>&lt;eventName&gt;</code> = unsubscribe from a specific MQTT topic</td> </tr> <tr> <td align=left>See also</td> <td align=left><a href=#setoption3><code>SetOption3</code></a> - Disable//Enable MQTT<br><a href=#setoption4><code>SetOption4</code></a> - Return MQTT response as <code>RESULT</code> or <code>%COMMAND%</code> topic<br><a href=#setoption10><code>SetOption10</code></a> - Main topic change behavior</td> </tr> </tbody> </table> <p><a id=rules></a></p> <h3 id=rules>Rules<a class=headerlink href=#rules title="Permanent link">~</a></h3> <table> <thead> <tr> <th align=left>Command</th> <th align=left>Parameters</th> </tr> </thead> <tbody> <tr> <td align=left>Add&lt;x><a id=add></a></td> <td align=left><code>&lt;value&gt;</code> = add value to Var&lt;x> (<a href=Rulesarithmetic-commands-to-be-used-with-vars.md>example</a>)</td> </tr> <tr> <td align=left>CalcRes<a id=calcres></a></td> <td align=left>Current calculation resolution<br><code>0..7</code> = set number of decimal places to be used in <code>Add</code>, <code>Sub</code>, <code>Mult</code> and <code>Scale</code></td> </tr> <tr> <td align=left>Event<a id=event></a></td> <td align=left>Execute an event to trigger a rule as <a href=../Rules/#rule-trigger>documented</a>&emsp; 5.13.0</td> </tr> <tr> <td align=left>Mem&lt;x><a id=mem></a></td> <td align=left>Manage up to 16 variables stored on flash (x = <code>1..16</code>)<br><code>Mem</code> returns all current values. <code>Mem&lt;x&gt;</code> returns the variable's current value.<br><code>&lt;value&gt;</code> = store a string value in a variable<br><code>"</code> = clear stored value in Mem&lt;x></td> </tr> <tr> <td align=left>Mult&lt;x><a id=mult></a></td> <td align=left><code>&lt;value&gt;</code> = multiply value to Var&lt;x> (<a href=Rulesarithmetic-commands-to-be-used-with-vars.md>example</a>)<br></td> </tr> <tr> <td align=left>Rule&lt;x><a id=rule></a></td> <td align=left>Rules. <a href=../Rules/ >Read more...</a><br><code>0</code> = disable Rule&lt;x><br><code>1</code> = enable Rule&lt;x><br><code>2</code> = toggle Rule&lt;x><br><code>4</code> = disable one-shot detection (perform commands as long as trigger is met)<br><code>5</code> = enable one-shot (e.g., sometimes used for slow changing sensors like temperature) detection<br><code>6</code> = toggle one-shot detection<br><code>8</code> = disable stop-on-error after exception restart<br><code>9</code> = enable stop-on-error after exception restart<br><code>10</code> = toggle stop-on-error after exception restart<br><code>&lt;value&gt;</code> = define Rule&lt;x><br><code>+&lt;value&gt;</code> = append to Rule&lt;x><br><code>"</code> = clear Rule&lt;x></td> </tr> <tr> <td align=left>RuleTimer&lt;x><a id=ruletimer></a></td> <td align=left>Up to eight timers to be used as countdown event (x = <code>1..8</code>)&emsp; 5.13.0<br><code>0..32766</code> = set countdown rule timer in seconds</td> </tr> <tr> <td align=left>Scale&lt;x><a id=scale></a></td> <td align=left>Scale value from a low and high limit to another low and high limits and save in Var&lt;x> (<a href=Rulesarithmetic-commands-to-be-used-with-vars.md>example</a>)<br><code>v</code> = value: the number to scale<br><code>fl</code> = fromLow: the lower bound of the values current range<br><code>fh</code> = fromHigh: the upper bound of the values current range<br><code>tl</code> = toLow: the lower bound of the values target range<br><code>th</code> = toHigh: the upper bound of the values target range</td> </tr> <tr> <td align=left>Sub&lt;x><a id=sub></a></td> <td align=left><code>&lt;value&gt;</code> = subtract value to Var&lt;x> (<a href=Rulesarithmetic-commands-to-be-used-with-vars.md>example</a>)</td> </tr> <tr> <td align=left>Var&lt;x><a id=var></a></td> <td align=left>Manage up to 16 variables stored in memory (x = <code>1..16</code>)<br><code>Var</code> returns all current values. <code>Var&lt;x&gt;</code> returns the variable's current value.<br><code>&lt;string&gt;</code> = store a string value in a variable<br><code>"</code> = clear stored value in Var&lt;x></td> </tr> </tbody> </table> <p><a id=timers></a></p> <h3 id=timers>Timers<a class=headerlink href=#timers title="Permanent link">~</a></h3> <table> <thead> <tr> <th align=left>Command</th> <th align=left>Parameters</th> </tr> </thead> <tbody> <tr> <td align=left>Latitude<a id=latitude></a></td> <td align=left><code>&lt;value&gt;</code> = set latitude</td> </tr> <tr> <td align=left>Longitude<a id=longitude></a></td> <td align=left><code>&lt;value&gt;</code> = set longitude</td> </tr> <tr> <td align=left>Timers<a id=timers></a></td> <td align=left>Timers control<br><code>0</code> = disable all timers<br><code>1</code> = enable all timers<br><code>2</code> = toggle all timers<br></td> </tr> <tr> <td align=left>Timer&lt;x><a id=timer></a></td> <td align=left>Parameters for Timer&lt;x> where x = <code>1..16</code><br><code>0</code> = clear parameters for Timer&lt;x><br><code>1..16</code> = copy Timer\&lt;y> parameters to Timer&lt;x><br><code>{ "name":value ; .. }</code> = set all or individual parameters using JSON payload with names and values of data pairs from the <a href=../Timers/#json-payload-anatomy>table</a></td> </tr> </tbody> </table> <div class="admonition note"> <p class=admonition-title>Information on sensors documented below is transmitted in the Tasmota telemetry message</p> </div> <p><a id=sensors></a></p> <h3 id=sensors>Sensors<a class=headerlink href=#sensors title="Permanent link">~</a></h3> <table> <thead> <tr> <th align=left>Command</th> <th align=left>Parameters</th> </tr> </thead> <tbody> <tr> <td align=left>AdcParam<a id=adcparam></a></td> <td align=left>ADC0 analog input tuning parameters<br><code>&lt;sensor&gt;, &lt;param1&gt;, &lt;param2&gt;, &lt;param3&gt;, &lt;param4&gt;</code><br><code>&lt;sensor&gt;</code> values:<br>&emsp; <code>2</code> = Temperature <a href=https://en.wikipedia.org/wiki/Steinhart%E2%80%93Hart_equation>Steinhart-Hart thermistor equation</a> parameters:</li><ul><code>&lt;param1&gt;</code> = NTC Voltage bridge resistor in Ohms <em>(default = <code>32000</code>)</em><br><code>&lt;param2&gt;</code> = NTC Resistance in Ohms <em>(default = <code>10000</code>)</em><br><code>&lt;param3&gt;</code> = NTC Beta Coefficient <em>(default = <code>3350</code>)</em></li></ul><br>&emsp; <code>3</code> = Light <a href=https://www.allaboutcircuits.com/projects/design-a-luxmeter-using-a-light-dependent-resistor/ >Lux equation</a> parameters:</li><ul><code>&lt;param1&gt;</code> = LDR Voltage bridge resistor in Ohms <em>(default = <code>10000</code>)</em><br><code>&lt;param2&gt;</code> = LDR Lux Scalar <em>(default = <code>12518931</code>)</em><br><code>&lt;param3&gt;</code> = LDR Lux Exponent <em>(default = <code>-1.4050</code>)</em></li></ul><br>&emsp; <code>6</code> = ADC linear range remapping parameters:</li><ul><code>&lt;param1&gt;</code> = input range low value <code>adcLow</code> <em>(default = <code>0</code>)</em><br><code>&lt;param2&gt;</code> = input range high value <code>adcHigh</code> <em>(default = <code>1023</code>)</em><br><code>&lt;param3&gt;</code> = output range low value <code>rangeLow</code> <em>(default = <code>0</code>)</em><br><code>&lt;param4&gt;</code> = output range high value <code>rangeHigh</code> <em>(default = <code>100</code>)</em><br>The range remapping perform the following calculation on the ADC value <em>[0..1023]</em>:<br><code>Range = ((adcHigh - ADC) / (adcHigh - adcLow)) * (rangeLow - rangeHigh) + rangeHigh</code><br><em>The calculation is performed in double resolution floating point but all 4 parameters as well as the range output are unsigned 16 bit integers. The calculation result must not exceed [0..65535].</em><br>Example to convert the ADC value on a D1-mini into millivolts (using the default resistor bridge of 220k/100k):<br><code>AdcRange 6, 0, 1023, 0, 3200</code></td> </tr> <tr> <td align=left>Altitude<a id=altitude></a></td> <td align=left><code>-30000..30000</code> = altitude in meters</td> </tr> <tr> <td align=left>AmpRes<a id=sensors-ampres></a></td> <td align=left>Current sensor resolution<br><code>0..3</code> = maximum number of decimal places</td> </tr> <tr> <td align=left>Counter&lt;x><a id=counter></a></td> <td align=left><code>0</code> = reset Counter&lt;x><br> <code>1..64900</code> = preset Counter&lt;x><br><code>-1..-64900</code> = decrease Counter&lt;x><br><code>+1..+64900</code> = increase Counter&lt;x><br>In order to define and use a Counter, <em><strong>you must configure one of the free device GPIO as <code>Counter&lt;x&gt;</code></strong></em></td> </tr> <tr> <td align=left>CounterDebounce<a id=counterdebounce></a></td> <td align=left><code>0</code> = turn off counter debounce<br> <code>1..3200</code> = set counter debounce time in milliseconds</td> </tr> <tr> <td align=left>CounterType&lt;x><a id=countertype></a></td> <td align=left><code>0</code> = set Counter&lt;x> as pulse Counter<br><code>1</code> = set Counter&lt;x> as pulse Timer</td> </tr> <tr> <td align=left>HumOffset<a id=humoffset></a></td> <td align=left><code>-10.0..10.0</code> = Set calibraton offset value for reported humidity telemetry<br>This setting affects <strong>all</strong> humidity sensors on the device.</td> </tr> <tr> <td align=left>HumRes<a id=humres></a></td> <td align=left>Humidity sensor resolution<br><code>0..3</code> = maximum number of decimal places</td> </tr> <tr> <td align=left>PressRes<a id=pressres></a></td> <td align=left>Pressure sensor resolution<br><code>0..3</code> = maximum number of decimal places</td> </tr> <tr> <td align=left>Sensor13<a id=sensor13></a></td> <td align=left><a href=http://www.ti.com/product/INA219>INA219</a> low voltage current sensor calibration mode<br>Predefined modes to use with standard 0.1 ohm resistor:<br><code>0</code> = set INA219 calibration to max 32V and 2A<br><code>1</code> = set INA219 calibration to max 32V and 1A<br><code>2</code> = set INA219 calibration to max 16V and 0.4A<br><code>10</code>..<code>255</code>: Define custom shunt resistor encoded as a decimal number <code>RRM</code> such that <code>Rshunt = RR * 10^M</code> milliohm<br>Do not forget to choose a resistor adapted for the correct power dissipation and apply a 50% security margin !<br>Examples:<br><code>11</code> = 1 * 10^1 = 10 milliohm (Imax=32A =&gt; Pres=15W)<br><code>21</code> = 2 * 10^1 = 20 milliohm (Imax=16A =&gt; Pres=7W)<br><code>12</code> = 1 * 10^2 = 100 milliohm (default, Imax=3.2A =&gt; Pres=2W)<br><code>13</code> = 1 * 10^3 = 1000 milliohm = 1 ohm (Imax=0.320A =&gt; Pres=0,2W)</td> </tr> <tr> <td align=left>Sensor15<a id=sensor15></a></td> <td align=left><a href=https://github.com/arendst/Tasmota/blob/c97ea4d9176eb7e87abff5f963a0f1c60f0a5e52/sonoff/xsns_15_mhz19.ino#L47>Automatic Baseline Correction</a> for <a href=../MH-Z19B/ >MH-Z19B</a> CO<sub>2</sub> sensor<br><code>0</code> = disabled<br><code>1</code> = enabled <em>(default)</em><br><code>2</code> = disable and start manual calibration from 400 ppm of CO<sub>2</sub><br><code>9</code> = reset sensor to factory defaults<br><code>1000</code> = sets measurement range to 1000ppm CO<sub>2</sub><br><code>2000</code> = sets measurement range to 2000ppm CO<sub>2</sub><br><code>3000</code> = sets measurement range to 3000ppm CO<sub>2</sub><br><code>5000</code> = sets measurement range to 5000ppm CO<sub>2</sub></td> </tr> <tr> <td align=left>Sensor20<a id=sensor20></a></td> <td align=left><a href=../SDS011/ >Nova Fitness SDS011</a> dust sensor.<br>1..255` = number of seconds before TelePeriod to poll the sensor</td> </tr> <tr> <td align=left>Sensor27<a id=sensor27></a></td> <td align=left><a href=../APDS-9960/ >APDS-9960</a> sensor commands<br><code>0</code> = enable light level and proximity sensor / disable gestures <em>(default)</em> <br> <code>1</code> = enable gesture mode/ disable light level and proximity sensor<br> <code>2</code> = enable gestures with half gain / disable light and proximity sensor<br><code>3..255</code> = Set <a href=../APDS-9960/#known-issues>ATIME register</a> for different integration times</td> </tr> <tr> <td align=left>Sensor29<a id=sensor29></a></td> <td align=left>MCP23008 / MCP23017 I<sup>2</sup>C GPIO Expander configuration. <a href=../MCP230xx/ >Read more...</a><br><code>Reset&lt;x&gt;</code> = reset all pins<br>x = <code>1..6</code><br><code>1</code> = INPUT mode, no reporting, no pull-up<br><code>2</code> = INPUT mode, report on CHANGE, pull-up enabled<br><code>3</code> = INPUT mode, report on LOW, pull-up enabled<br><code>4</code> = INPUT mode, report on HIGH, pull-up enabled<br><code>5</code> = OUTPUT mode (if enabled by <code>#define USE_MCP230xx_OUTPUT</code>)<br><code>6</code> = inverted OUTPUT mode (if enabled by <code>#define USE_MCP230xx_OUTPUT</code>)<br><br><code>pin,pinmode{,intpullup\|outstate{,repmode}}</code><br><a href=../MCP230xx/#device-configuration>Continue reading...</a></td> </tr> <tr> <td align=left>Sensor34<a id=sensor34></a></td> <td align=left><br><a href=https://github.com/bogde/HX711>HX711 load cell</a> sensor calibration<br><code>1</code> = reset display to 0<br><code>2</code> = start calibration<br><code>2</code> <code>&lt;value&gt;</code> = set reference weight in grams and start calibration<br><code>3</code> = show reference weight in grams<br><code>3</code> <code>&lt;value&gt;</code> = set reference weight in grams<br><code>4</code> = show calibrated scale value<br><code>4</code> <code>&lt;value&gt;</code> = set calibrated scale value<br><code>5</code> = show max weight in gram<br><code>5</code> <code>&lt;value&gt;</code> = set max weight in grams<br><code>6</code> = show single item weight in grams<br><code>6</code> <code>&lt;value&gt;</code> = set single item weight in grams. Once the item weight is set, when items are added to the scale, the telemetry message will report <code>Count</code> as the number of items on the scale<br><code>7</code> = save current weight to be used as start weight on restart<br><code>8</code> <code>0/1</code> <br>&emsp;<code>0</code> = disable JSON message on weight change over 4 grams<br>&emsp;<code>1</code> = enable JSON message on weight change (see below)<br><code>9</code> <code>&lt;value&gt;</code> = set minimum delta to trigger JSON message (see above). <br>&emsp;<code>0</code> = 4 grams (old default)<br>&emsp;<code>1..100</code> = set delta to 0-99 grams<br>&emsp;<code>101-255</code> = set delta to 110-1650 grams (10g increments)</td> </tr> <tr> <td align=left>Sensor50<a id=Sensor50></a></td> <td align=left><a href=../PAJ7620/ >PAJ7620</a> gesture sensor<br><code>0</code> = sensor muted, no readings in Tasmota<br><code>1</code>= gesture mode<br><code>2</code> = proximity mode<br><code>3</code> = corner mode<br><code>4</code> = PIN mode<br><code>5</code> = cursor mode</td> </tr> <tr> <td align=left>Sensor52<a id=sensor52></a></td> <td align=left>iBeacon driver with <a href=../HM-10/ >HM10</a> or <a href=../HM-17/ >HM17/HM16</a><br><code>1</code> and <code>2</code> = required only once to initialize the module <br><code>u&lt;x&gt;</code> = sets update interval in seconds (scan tags every \&lt;x> seconds) <em>(default = 10)</em><br><code>t&lt;x&gt;</code> = set timeout interval in seconds (send RSSI=0 if tag is not detected after \&lt;x> seconds) <em>(default = 30)</em><br><code>d1</code> = enable debug mode (shows all serial traffic in console)<br><code>d0</code> = disable debug mode_(default = 30)_<br><code>c</code> = clears iBeacon list<br><code>s AT+&lt;command&gt;</code> = send native AT commands</td> </tr> <tr> <td align=left>Sensor53<a id=sensor53></a></td> <td align=left><a href=../Smart-Meter-Interface/ >Smart Meter Interface</a><br><code>r</code> = reset the driver with a new descriptor specified with the Tasmota <a href=../Scripting-Language/ >Scripting</a> language.<br><code>c&lt;x&gt; &lt;value&gt;</code> = preset counter (x = <code>1..5</code>) to <code>value</code> when the driver is set to counter mode<br><code>d&lt;x&gt;</code> = disable data decoding and dump meter (x = <code>1..5</code>) data to the Console. This is used to decipher the meter's data format to define the variable encoding in the meter's descriptor.<br><code>d0</code> = disable data dump mode and revert to decoding mode.</td> </tr> <tr> <td align=left>Sensor54<a id=sensor54></a></td> <td align=left>INA226 Current Sensor<br> <code>1</code> = rescan for devices and return the number of slaves found.<br><code>2</code> = save the configuration and restart<br><code>10</code> = return channel 1 shunt resistance and full scale current<br><code>11 &lt;resistance&gt;</code> = set INA226 channel 1 shunt <resistance> in ohms, floating point<br><code>12 &lt;current&gt;</code> = set INA226 channel 1 full scale <current> in amperes, floating point<br><code>20</code> = return channel 2 shunt resistance and full scale current<br><code>21 &lt;resistance&gt;</code> = set INA226 channel 2 shunt <resistance> in ohms, floating point<br><code>22 &lt;current&gt;</code> = set INA226 channel 2 full scale <current> in amperes, floating point<br><code>30</code> = return channel 1 shunt resistance and full scale current<br><code>31 &lt;resistance&gt;</code> = set INA226 channel 1 shunt <resistance> in ohms, floating point<br><code>32 &lt;current&gt;</code> = set INA226 channel 1 full scale <current> in amperes, floating point<br><code>40</code> = return channel 1 shunt resistance and full scale current<br><code>41 &lt;resistance&gt;</code> = set INA226 channel 1 shunt <resistance> in ohms, floating point<br><code>42 &lt;current&gt;</code> = set INA226 channel 1 full scale <current> in amperes, floating point</td> </tr> <tr> <td align=left>Sensor60<a id=sensor60></a></td> <td align=left>GPS<br><code>0</code> = write to all available sectors, then restart and overwrite the older ones<br><code>1</code> = write to all available sectors, then restart and overwrite the older ones<br><code>2</code> = filter out horizontal drift noise<br><code>3</code> = turn off noise filter<br><code>4</code> = start recording, new data will be appended<br><code>5</code> = start new recording, old data will lost<br><code>6</code> = stop recording, download link will be visible in webUI<br><code>7</code> = send mqtt on new postion + TELE <em>(consider to set TELE to a very high value)</em><br><code>8</code> = only TELE message<br><code>9</code> = start NTP server<br><code>10</code> = deactivate NTP server<br><code>11</code> = force update of Tasmota-system-UTC with every new GPS-time-message<br><code>12</code> = do not update of Tasmota-system-UTC with every new GPS-time-message<br><code>13</code> = set latitude and longitude in settings<br><code>14</code> = open virtual serial port over TCP, usable for u-center<br><code>15</code> = pause virtual serial port over TCP</td> </tr> <tr> <td align=left>SpeedUnit<a id=SpeedUnit></a></td> <td align=left><a href=../TX2x/ >TX20/TX23</a> anemometer speed unit<br><code>1</code> = m/s<br><code>2</code>= km/h<br><code>3</code> = kn<br><code>4</code> = mph<br><code>5</code> = ft/s<br><code>6</code> = yd/s</td> </tr> <tr> <td align=left>TempRes<a id=tempres></a></td> <td align=left>Temperature sensor resolution<br><code>0..3</code> = maximum number of decimal places</td> </tr> <tr> <td align=left>TempOffset<a id=tempoffset></a></td> <td align=left><code>-12.6..12.6</code> = Set calibraton offset value for reported temperature telemetry<br>This setting affects <strong>all</strong> temperature sensors on the device.</td> </tr> <tr> <td align=left>VoltRes<a id=sensors-voltres></a></td> <td align=left>Voltage sensor resolution<br><code>0..3</code> = maximum number of decimal places</td> </tr> <tr> <td align=left>WattRes<a id=sensors-wattres></a></td> <td align=left>Power sensor resolution<br><code>0..3</code> = maximum number of decimal places</td> </tr> <tr> <td align=left>WeightRes<a id=weightres></a></td> <td align=left>Load cell sensor resolution<br><code>0..3</code> = maximum number of decimal places</td> </tr> <tr> <td align=left>See also</td> <td align=left><a href=#setoption8><code>SetOption8</code></a> - Show temperature in Celsius <em>(default)</em> or Fahrenheit<br><a href=#setoption18><code>SetOption18</code></a> - Set status of signal light paired with CO<sub>2</sub> sensor<br><a href=#setoption24><code>SetOption24</code></a> - Set pressure units</td> </tr> </tbody> </table> <p><a id=power-monitoring></a></p> <h3 id=power-monitoring>Power Monitoring<a class=headerlink href=#power-monitoring title="Permanent link">~</a></h3> <table> <thead> <tr> <th align=left>Command</th> <th align=left>Parameters</th> </tr> </thead> <tbody> <tr> <td align=left>AmpRes<a id=ampres></a></td> <td align=left>Current sensor resolution<br><code>0..3</code> = maximum number of decimal places</td> </tr> <tr> <td align=left>CurrentCal<a id=currentcal></a></td> <td align=left><value> <code>1100..32767</code> <em>(default = <code>3500</code>)</em><br>Set calibration offset value for reported <code>Current</code> telemetry<br>Allows finer calibration for HLW8012, HJL01, and BL0937 energy monitoring devices</td> </tr> <tr> <td align=left>CurrentHigh<a id=currenthigh></a></td> <td align=left><code>0</code> = disable current high threshold <em>(default)</em><br><code>&lt;value&gt;</code> = set current high threshold value in milliamps</td> </tr> <tr> <td align=left>CurrentLow<a id=currentlow></a></td> <td align=left><code>0</code> = disable current low threshold <em>(default)</em><br><code>&lt;value&gt;</code> = set current low threshold value in milliamps</td> </tr> <tr> <td align=left>CurrentSet<a id=currentset></a></td> <td align=left><code>&lt;value&gt;</code> = <a href=../Power-Monitoring-Calibration/ >calibrate</a> current to target value in mA</td> </tr> <tr> <td align=left>EnergyRes<a id=energyres></a></td> <td align=left>Energy sensor resolution<br><code>0..5</code> = maximum number of decimal places</td> </tr> <tr> <td align=left>EnergyReset&#60;x&gt;<a id=energyreset></a></td> <td align=left><code>0..42500</code> (for <code>3</code>, Total, upper limit is <code>4250000</code>) in watt-hours (Wh)<br>x = <code>1..5</code><br><code>1</code> <code>&lt;value&gt;</code> = ((p)re)set values for Today<br><code>2</code> <code>&lt;value&gt;</code> = ((p)re)set values for Yesterday<br><code>3</code> <code>&lt;value&gt;</code> = ((p)re)set values for Total<br><br><code>4</code> <code>&lt;standard&gt;</code>{,<code>&lt;off-peak&gt;</code>} = ((p)re)set tariff period values for Totals<br><code>5</code> <code>&lt;standard&gt;</code>{,<code>&lt;off-peak&gt;</code>} = ((p)re)set tariff period values for Exported</td> </tr> <tr> <td align=left>FreqRes<a id=freqres></a></td> <td align=left>Frequency sensor resolution<br><code>0..3</code> = maximum number of decimal places</td> </tr> <tr> <td align=left>FrequencySet<a id=frequencyset></a></td> <td align=left><code>&lt;value&gt;</code> = <a href=../Power-Monitoring-Calibration/ >calibrate</a> frequency to a target value in Hz</td> </tr> <tr> <td align=left>MaxPower<a id=maxpower></a></td> <td align=left><code>0</code> = disable use maximum power monitoring<br><code>&lt;value&gt;</code> = set maximum allowed power in watts</td> </tr> <tr> <td align=left>MaxPowerHold<a id=maxpowerhold></a></td> <td align=left><code>1</code> = set default time to 10 seconds to stay over MaxPower before power off<br><code>&lt;value&gt;</code> = set time in seconds to stay over MaxPower before power off</td> </tr> <tr> <td align=left>MaxPowerWindow<a id=maxpowerwindow></a></td> <td align=left><code>1</code> = set default time to 30 seconds to stay power off before re-applying power up to 5 times<br><code>&lt;value&gt;</code> = set time in seconds to stay power off before re-applying power up to 5 times</td> </tr> <tr> <td align=left>ModuleAddress<a id=moduleaddress></a></td> <td align=left>Set the address of a PZEM module<br><code>1..3</code> = the last octet of the PZEM-004T serial address<br><code>&lt;address&gt;</code> = the last octet of the slave address on MODBUS PZEM energy monitoring modules<br>Prior to setting the module address, the PZEM <strong><em>must be connected</em></strong> to <strong>both</strong> RX and TX, <strong>and</strong> AC voltage.<br>Connect one PZEM at a time and issue this command. Repeat for each PZEM to be connected for multi-phase monitoring.<br><em>The command without an argument cannot be used to read the address of the connected PZEM.</em></td> </tr> <tr> <td align=left>PowerCal<a id=powercal></a></td> <td align=left><value> <code>4000..32767</code> <em>(default = <code>12530</code>)</em><br>Set calibration offset value for reported <code>Power</code> telemetry reading<br>Allows finer calibration for HLW8012, HJL01, and BL0937 energy monitoring devices</td> </tr> <tr> <td align=left>PowerDelta<a id=powerdelta></a></td> <td align=left>Set maximum delta for energy monitoring devices to report on active power load change while the power is ON. <code>PowerDelta</code> will not report when the power turns off.&emsp; 5.13.0<br><code>0</code> = disable reporting on power change<br><code>1..100</code> = set reporting on percentage power change to send an MQTT telemetry message<br><code>101..32000</code> = set reporting on absolute power change to send an MQTT telemetry message (offset by 100, e.g., <code>101</code>=1W, <code>207</code>=107W)</td> </tr> <tr> <td align=left>PowerHigh<a id=powerhigh></a></td> <td align=left><code>0</code> = disable power high threshold <em>(default)</em><br><code>&lt;value&gt;</code> = set power high threshold value in watts to send an MQTT telemetry message</td> </tr> <tr> <td align=left>PowerLow<a id=powerlow></a></td> <td align=left><code>0</code> = disable power low threshold <em>(default)</em><br><code>&lt;value&gt;</code> = set power low threshold value in watts to send an MQTT telemetry message</td> </tr> <tr> <td align=left>PowerSet<a id=powerset></a></td> <td align=left><code>&lt;value&gt;</code> = <a href=../Power-Monitoring-Calibration/ >calibrate</a> power to a target value in watts&emsp; 5.12.0</td> </tr> <tr> <td align=left>Status<a id=powermon-status></a></td> <td align=left><code>8</code> = show power usage<br><code>9</code> = show power thresholds</td> </tr> <tr> <td align=left>Tariff&#60;x&gt;<a id=tariff></a></td> <td align=left>P1 Smart Meter tariff configuration<br>x = <code>1, 2, 9</code><br><code>1</code> <code>STD,DST</code> Start times for off-peak tariff<br><code>2</code> <code>STD,DST</code> End times for off-peak tariff<br><code>9</code> <code>0/1</code><br>&emsp;<code>0</code> = use Start/End times also on weekends.<br>&emsp;<code>1</code> = use off-peak tariff all weekend.<br><code>STD</code> and <code>DST</code> may be specified as:<br>&emsp;<code>&lt;hour&gt;</code> = <code>0..23</code> or<br>&emsp;<code>&lt;time&gt;</code> = <code>00:00..23:59</code> or<br>&emsp;<code>&lt;minutes&gt;</code> = <code>0..1439</code> (since midnight)<br>If both <code>Tariff1</code> STD and <code>Tariff2</code> STD are equal, all tariffs are disabled.</td> </tr> <tr> <td align=left>VoltageCal<a id=voltagecal></a></td> <td align=left>Set calibration offset value for reported <code>Voltage</code> telemetry reading<br><value> <code>1000..32767</code> <em>(default = <code>1950</code>)</em><br>Allows finer calibration for HLW8012, HJL01, and BL0937 energy monitoring devices</td> </tr> <tr> <td align=left>VoltageHigh<a id=voltagehigh></a></td> <td align=left><code>0</code> = disable voltage high threshold <em>(default)</em><br><code>&lt;value&gt;</code> = set voltage high threshold value in V</td> </tr> <tr> <td align=left>VoltageLow<a id=voltagelow></a></td> <td align=left><code>0</code> = disable voltage low threshold <em>(default)</em><br><code>&lt;value&gt;</code> = set voltage low threshold value in V</td> </tr> <tr> <td align=left>VoltageSet<a id=voltageset></a></td> <td align=left><code>&lt;value&gt;</code> = <a href=../Power-Monitoring-Calibration/ >calibrate</a> voltage to a target value in V&emsp; 5.12.0</td> </tr> <tr> <td align=left>VoltRes<a id=voltres></a></td> <td align=left>Voltage sensor resolution<br><code>0..3</code> = maximum number of decimal places</td> </tr> <tr> <td align=left>WattRes<a id=wattres></a></td> <td align=left>Power sensor resolution<br><code>0..3</code> = maximum number of decimal places</td> </tr> <tr> <td align=left>See Also</td> <td align=left><a href=#setoption21><code>SetOption21</code></a> - Energy monitoring when power is off<br><a href=#setoption33><code>SetOption33</code></a> - Configure power monitoring Max_Power_Retry count number<br><a href=#setoption39><code>SetOption39</code></a> - Control handling of invalid power measurements<br><a href=#setoption72><code>SetOption72</code></a> - Set reference used for total energy</td> </tr> </tbody> </table> <p><a id=light></a></p> <h3 id=light>Light<a class=headerlink href=#light title="Permanent link">~</a></h3> <!--- 
<a id="Brightness>"></a>Brightness|<code>0..255</code> = set brightness value from 0 to 255
 --> <table> <thead> <tr> <th align=left>Command</th> <th align=left>Parameters</th> </tr> </thead> <tbody> <tr> <td align=left>Channel&lt;x><a id=channel></a></td> <td align=left><code>0..100</code> = set PWM channel dimmer value from 0 to 100%&emsp; 5.13.0<br><code>+</code> = increase by 10<br><code>-</code> = decrease by 10<br>When <a href=#setoption68><code>SetOption68</code></a> is set to <code>1</code> <code>Channel&lt;x&gt;</code> will follow <code>Power&lt;x&gt;</code> numbering with Relays first then PWM.<br><strong>Example</strong>:<br>2 Relays and 3 PWM: Relay1 = <code>Power1</code>; Relay2 = <code>Power2</code>; PWM1 = <code>Power3</code> and <code>Channel3</code>; PWM2 = <code>Power4</code> and <code>Channel4</code>; PWM3 = <code>Power5</code> and <code>Channel5</code></td> </tr> <tr> <td align=left>Color&lt;x><a id=color></a></td> <td align=left>x = <code>1..6</code><br>&emsp; <code>1</code> = Set color<br>&emsp; <code>2</code> = Set color adjusted to current <code>Dimmer</code> value<br>&emsp; <code>3</code> = Set clock seconds hand color <em>(<a href=#Scheme>Scheme</a> <code>5</code> only)</em><br>&emsp; <code>4</code> = Set clock minutes hand color <em>(<a href=#Scheme>Scheme</a> <code>5</code> only)</em><br>&emsp; <code>5</code> = Set clock hour hand color <em>(<a href=#Scheme>Scheme</a> <code>5</code> only)</em><br>&emsp; <code>6</code> = Set clock hour marker color<br><code>&lt;value&gt;</code><br><code>r,g,b</code> = set color by decimal value (<code>0..255</code>)<br><code>#CWWW</code> = set hex color value for CT lights <br><code>#RRGGBB</code> = set hex color value for RGB lights<br><code>#RRGGBBWW</code> = set hex color value for RGBW lights<br><code>#RRGGBBCWWW</code> = set hex color value for RGBCCT lights (5 PWM channels)<br><strong>Note</strong>:<br>Just append an <code>=</code> instead of the remaining color codes, this way they wont get changed. For example a command like <code>Color #00ff=</code> would update the RGB part to disable red and enable geen, but would omit to update blue or any white channel.</td> </tr> <tr> <td align=left></td> <td align=left></td> </tr> <tr> <td align=left>CT<a id=ct></a></td> <td align=left><code>153..500</code> = set color temperature from 153 (cold) to 500 (warm) for CT lights<br><code>+</code> = increase CT value by 10<br><code>-</code> = decrease CT value by 10</td> </tr> <tr> <td align=left>Dimmer<a id=dimmer></a></td> <td align=left><code>0..100</code> = set dimmer value from 0 to 100%<br><code>+</code> = increase by 10<br><code>-</code> = decrease by 10</td> </tr> <tr> <td align=left>Dimmer&#60;x&gt;</td> <td align=left><strong>Commands available only when <code>SetOption37 &gt;= 128</code></strong> (<a href=https://github.com/arendst/Tasmota/pull/6819>#6819</a>)<br><code>&lt;value&gt;</code> same as in <code>Dimmer</code><br><code>Dimmer0 &lt;value&gt;</code> = set dimming for all channels<br><code>Dimmer1 &lt;value&gt;</code> = set dimming for RGB channels<br><code>Dimmer2 &lt;value&gt;</code> = set dimming for white channels</td> </tr> <tr> <td align=left>DimmerRange<a id=dimmerrange></a></td> <td align=left>Change dimming range. <em>Works only with TuyaMCU and PS_16_DZ serial dimmers.</em><br><code>&lt;dimmerMin&gt;,&lt;dimmerMax&gt;</code> = set dimming range from minimum to maximum value<br><strong><em>Does not change <a href=#dimmer><code>Dimmer</code></a> command behavior</em></strong></td> </tr> <tr> <td align=left>Fade<a id=fade></a></td> <td align=left><code>0</code> = do not use fade <em>(default)</em> <br><code>1</code> = use fade</td> </tr> <tr> <td align=left>HsbColor<a id=hsbcolor></a></td> <td align=left><code>&lt;hue&gt;,&lt;sat&gt;,&lt;bri&gt;</code> = set color by hue, saturation and brightness</td> </tr> <tr> <td align=left>HsbColor1<a id=HsbColor1></a></td> <td align=left><code>0..360</code> = set hue</td> </tr> <tr> <td align=left>HsbColor2<a id=HsbColor2></a></td> <td align=left><code>0..100</code> = set saturation</td> </tr> <tr> <td align=left>HsbColor3<a id=HsbColor3></a></td> <td align=left><code>0..100</code> = set brightness</td> </tr> <tr> <td align=left>Led&lt;x><a id=led></a></td> <td align=left><code>#RRGGBB</code> = set hex color value where <code>&lt;x&gt;</code> is the pixel number of the LED<br> <em>(applies only to addressable LEDs)</em></td> </tr> <tr> <td align=left>LedTable<a id=ledtable></a></td> <td align=left><code>0</code> = do not use <a href="https://learn.adafruit.com/led-tricks-gamma-correction?view=all">LED gamma correction</a> <em>(default &laquo;6.5.0.9)</em><br><code>1</code> = use gamma correction <em>(default &raquo;6.5.0.9)</em></td> </tr> <tr> <td align=left>Pixels<a id=pixels></a></td> <td align=left><code>1..512</code> = set amount of pixels in strip or ring and reset <a href=#rotation><code>Rotation</code></a> <em>(applies only to addressable LEDs)</em></td> </tr> <tr> <td align=left>RGBWWTable<a id=rgbwwtable></a></td> <td align=left>Control compensation of unbalanced PWM channels or <a href=../White-Blend-Mode/ >White Blend Mode</a> <br><code>PWM1,PWM2,PWM3,PWM4,PWM5</code> = channel range with values <code>0..255</code> <em>(default =<code>255,255,255,255,255</code>)</em><br>Range adjustment is computed <strong>after</strong> Gamma correction.</td> </tr> <tr> <td align=left>Rotation<a id=rotation></a></td> <td align=left><code>&lt;value&gt;</code> = set amount of pixels to rotate (up to <code>Pixels</code> value) <em>(applies only to addressable LEDs)</em></td> </tr> <tr> <td align=left>Scheme<a id=scheme></a></td> <td align=left>Light effects<br><code>+</code> = next scheme<br><code>-</code> = previous scheme<br><code>0</code> = single color for LED light <em>(default)</em><br><code>1</code> = start wake up sequence (same as <a href=#wakeup><code>Wakeup</code></a>)<br><code>2</code> = cycle up through colors using Speed option<br><code>3</code> = cycle down through colors using Speed option<br><code>4</code> = random cycle through colors using Speed and Fade<br>Use <code>&lt;value&gt;, &lt;startcolor&gt;</code> if you want to set the starting color of selected scheme</td> </tr> <tr> <td align=left></td> <td align=left></td> </tr> <tr> <td align=left>Speed<a id=speed></a></td> <td align=left><code>1..40</code> = set fade speed from fast <code>1</code> to very slow <code>40</code><br><code>+</code> = increase speed<br><code>-</code> = decrease speed<br>The <code>Speed</code> value represents the time in 0.5s to fade from 0 to 100% (or the reverse). Example: <code>Speed 4</code> takes 2.0s to fade from full brightness to black, or 0.5s to move from 75% to 100%.</td> </tr> <tr> <td align=left>Wakeup<a id=wakeup></a></td> <td align=left>Start wake up sequence from OFF to stored <code>Dimmer</code> value<br><code>0..100</code> = Start wake up sequence from OFF to provided <code>Dimmer</code> value</td> </tr> <tr> <td align=left>WakeupDuration<a id=wakeupduration></a></td> <td align=left><code>1..3000</code> = set wake up duration in seconds</td> </tr> <tr> <td align=left>White<a id=white></a></td> <td align=left><br><code>1..100</code> = set white channel brightness in single white channel lights (single W or RGBW lights)</td> </tr> <tr> <td align=left>Width&#60;x&gt;<a id=width></a></td> <td align=left>x = <code>1..4</code><br><code>1</code> = <code>0..4</code> = LED group width <em>(<a href=#Scheme>Scheme</a> <code>6..12</code> only)</em><br><code>2</code> = <code>0..32</code> = seconds hand width <em>(<a href=#Scheme>Scheme</a> <code>5</code> only)</em><br><code>3</code> = <code>0..32</code> = minutes hand width <em>(<a href=#Scheme>Scheme</a> <code>5</code> only)</em><br><code>4</code> = <code>0..32</code> = hour hand width <em>(<a href=#Scheme>Scheme</a> <code>5</code> only)</em></td> </tr> <tr> <td align=left>See also</td> <td align=left><a href=#setoption15><code>SetOption15</code></a>, <a href=#setoption16><code>SetOption16</code></a>, <a href=#setoption17><code>SetOption17</code></a>, <a href=#setoption20><code>SetOption20</code></a>, <a href=#setoption37><code>SetOption37</code></a> and <a href=#setoption68><code>SetOption68</code></a></td> </tr> </tbody> </table> <p><a id=rf-bridge></a></p> <h3 id=rf-bridge>RF Bridge<a class=headerlink href=#rf-bridge title="Permanent link">~</a></h3> <table> <thead> <tr> <th align=left>Command</th> <th align=left>Parameters</th> </tr> </thead> <tbody> <tr> <td align=left>RfCode<a id=rfcode></a></td> <td align=left>Show last sent 24-bit user code<br><code>1..8388607</code> = send 24-bit user code<br><code>#1..#7FFFFF</code> = send 24-bit hexadecimal user code using RfSync, RfLow and RfHigh timing</td> </tr> <tr> <td align=left>RfHigh<a id=rfhigh></a></td> <td align=left><code>1</code> = reset high pulse time to 840 microseconds<br><code>2..32767</code> = set high pulse time in microseconds<br><code>#2..#7FFF</code> = set high pulse time in hexadecimal microseconds</td> </tr> <tr> <td align=left>RfHost<a id=rfhost></a></td> <td align=left>Show 16-bit host part of user code<br><code>1</code> = reset 16-bit host part of user code to 11802 (#2E1A)<br><code>2..32767</code> = set 16-bit host part of user code<br><code>#2..7FFF</code> = set 16-bit host part of user code in hexadecimal</td> </tr> <tr> <td align=left>RfKey&lt;x><a id=rfkey></a></td> <td align=left>Send learned or default RF data for RfKey&lt;x> (x = <code>1  16</code>)<br><code>1</code> = send default RF data for RfKey&lt;x> using RfSync, RfLow, RfHigh and RfHost parameters<br><code>2</code> = learn RF data for RfKey&lt;x><br><code>3</code> = unlearn RF data for RfKey&lt;x><br><code>4</code> = save RF data using RfSync, RfLow, RfHigh and last RfCode parameters<br><code>5</code> = show default or learned RF data<br><code>6</code> = send learned RF data</td> </tr> <tr> <td align=left>RfLow<a id=rflow></a></td> <td align=left><code>1</code> = reset low pulse time to 270 microseconds<br><code>2..32767</code> = set low pulse time in microseconds<br><code>#2..#7FFF</code> = set low pulse time in hexadecimal microseconds</td> </tr> <tr> <td align=left>RfRaw<a id=rfraw></a></td> <td align=left><strong>This command only works when the firmware has been updated with <a href=https://github.com/Portisch/RF-Bridge-EFM8BB1/releases>Portisch firmware</a>.</strong> Refer to the <a href=https://github.com/Portisch/RF-Bridge-EFM8BB1/wiki>Portisch wiki</a> for details.<br><a href=../devices/Sonoff-RF-Bridge-433/#portisch-firmware-specific-usage>Learning and Decoding RF Codes with Portisch Firmware</a><br><code>0</code> = Set iTead default firmware support and messages <em>(default on restart)</em><br> <code>1</code> = set Portisch firmware support and messages<br> <code>166</code> or <code>AAA655</code> = start sniffing/reading RF signals disabling iTead default RF handling<br> <code>167</code> or <code>AAA755</code> = stop sniffing/reading RF signals enabling iTead default RF handling<br> <code>168</code> or <code>AAA855</code> = transmitting iTead default RF protocols<br> <code>169</code> or <code>AAA955</code> = start sniffing and learning predefined protocols<br> <code>176</code> or <code>AAB055</code> = bucket Transmitting using command 0xB0<br> <code>177</code> or <code>AAB155</code> = start Bucket sniffing using command 0xB1<br> <code>192</code> or <code>AAC000C055</code> = beep (<code>00C0</code> is the length of the sound)<br> <code>255</code> or <code>AAFF55</code> = show Rf firmware version (result AA02FF means Version 02)<br> <code>&lt;value&gt;</code> = hexadecimal data to be sent to RF chip. This must be immediately followed by the <code>RfRaw 0</code> command (e.g., <code>Backlog RfRaw &lt;value&gt;; RfRaw 0</code></td> </tr> <tr> <td align=left>RfSync<a id=rfsync></a></td> <td align=left><code>1</code> = reset start sync pulse time to 8470 microseconds<br><code>2..32767</code> = set start sync pulse time in microseconds<br><code>#2..#7FFF</code> = set start sync pulse time in hexadecimal microseconds</td> </tr> <tr> <td align=left>See also</td> <td align=left><a href=#setoption28><code>SetOption28</code></a> - Set RF received data format</td> </tr> </tbody> </table> <p><a id=ir-remote></a></p> <h3 id=ir-remote>IR Remote<a class=headerlink href=#ir-remote title="Permanent link">~</a></h3> <table> <thead> <tr> <th align=left>Command</th> <th align=left>Parameters</th> </tr> </thead> <tbody> <tr> <td align=left>IRsend<code>&lt;x&gt;</code><a id=irsend></a></td> <td align=left>Send an IR remote control code as a decimal or hexadecimal string in a JSON payload. In order to send IR data, <em><strong>you must configure one of the free device GPIO as <code>IRsend (8)</code>. GPIO01 nor GPIO03 can be used.</strong></em><br><code>&lt;x&gt;</code> [<em>optional</em>] = number of times the IR message is sent. If not specified or <code>0..1</code>, the message is sent only once (i.e., not repeated) <em>(default)</em><br><code>&gt;1</code> = emulate a long-press on the remote control, sending the message <code>&lt;x&gt;</code> times, or sending a repeat message for specific protocols (like NEC)<br><br><code>{"Protocol":"&lt;value&gt;","Bits":&lt;value&gt;,"Data":&lt;value&gt;}</code><br><br><code>"Protocol"</code> (select one of the following):<ul><li><code>"NEC"</code></li><li><code>"SONY"</code></li><li><code>"RC5"</code></li><li><code>"RC6"</code></li><li><code>"DISH"</code></li><li><code>"JVC"</code></li><li><code>"PANASONIC"</code></li><li><code>"SAMSUNG"</code></li><li><code>"PIONEER"</code></li></ul><code>"Bits":1..32</code> = required number of data bits<br>&nbsp;&nbsp;&nbsp;&nbsp;for PANASONIC protocol this parameter is the the address, not the number of bits<br><br><code>"Data":1..(2^32)-1</code> = data frame as 32 bit decimal.<br>&nbsp;&nbsp;&nbsp;&nbsp;e.g., <code>IRsend {"Protocol":"NEC","Bits":32,"Data":2170978686}</code><br><strong>or</strong><br><code>"Data":0x1..0xFFFFFFFF</code> = data frame as 32 bit hexadecimal.<br>&nbsp;&nbsp;&nbsp;&nbsp;e.g., <code>IRsend {"Protocol":"NEC","Bits":32,"Data":0x8166817E}</code><br><br>Alternatively, you can send IR remote control codes using <a href=../IRSend-RAW-Encoding/ >RAW command encoding</a>.<br><br>Information on <a href=../Receiving-Infrared-Remote-Control-Data/ >Receiving Infrared Data</a></td> </tr> <tr> <td align=left>IRhvac<a id=irhvac></a></td> <td align=left>Send HVAC IR remote control code as JSON payload<br><code>{"Vendor":"&lt;value&gt;","Power":&lt;value&gt;,"Mode":&lt;value&gt;, "FanSpeed":&lt;value&gt;,"Temp":&lt;value&gt;}</code><br><code>"Vendor":"Toshiba"\|"Mitsubishi"\|"LG"\|"Fujitsu"</code><br><code>"Power":0\|1</code><br><code>"Mode":"Hot"\|"Cold"\|"Dry"\|"Auto"</code><br><code>"FanSpeed":"1"\|"2"\|"3"\|"4"\|"5"\|"Auto"\|"Silence"</code> <br><code>"Temp":17..30</code></td> </tr> <tr> <td align=left></td> <td align=left>See also</td> </tr> </tbody> </table> <p><a id=setoptions></a></p> <h3 id=setoptions>SetOptions<a class=headerlink href=#setoptions title="Permanent link">~</a></h3> <table> <thead> <tr> <th align=center>Command</th> <th align=left>Parameters</th> </tr> </thead> <tbody> <tr> <td align=center>SetOption0<a id=setoption0></a></td> <td align=left>Save power state and use after restart (=SaveState)<br> <code>0</code> = disable<br> <code>1</code> = enable <em>(default)</em></td> </tr> <tr> <td align=center>SetOption1<a id=setoption1></a></td> <td align=left>Set <a href=../Buttons-and-Switches/#multi-press-functions>button multipress</a> mode to<br> <code>0</code> = allow all button actions <em>(default)</em><br> <code>1</code> = restrict to single, double and hold actions (i.e., disable inadvertent reset due to long press)</td> </tr> <tr> <td align=center>SetOption3<a id=setoption3></a></td> <td align=left><a href=../MQTT/ >MQTT</a> <br><code>0</code> = disable MQTT<br> <code>1</code> = enable MQTT <em>(default)</em></td> </tr> <tr> <td align=center>SetOption4<a id=setoption4></a></td> <td align=left>Return MQTT response as<br> <code>0</code> = RESULT topic <em>(default)</em><br> <code>1</code> = %COMMAND% topic</td> </tr> <tr> <td align=center>SetOption8<a id=setoption8></a></td> <td align=left>Show temperature in<br> <code>0</code>= Celsius <em>(default)</em><br> <code>1</code> = Fahrenheit</td> </tr> <tr> <td align=center>SetOption10<a id=setoption10></a></td> <td align=left>When the device MQTT topic changes <br> <code>0</code> = remove retained message on old topic LWT <em>(default)</em><br> <code>1</code> = send "Offline" to old topic LWT</td> </tr> <tr> <td align=center>SetOption11<a id=setoption11></a></td> <td align=left>Swap button single and double press <a href=../Buttons-and-Switches/#changing-default-functionality>functionality</a><br> <code>0</code> = disabled <em>(default)</em><br> <code>1</code> = enabled</td> </tr> <tr> <td align=center>SetOption12<a id=setoption12></a></td> <td align=left>Configuration saving to flash option<br><code>0</code> = allow dynamic flash save slot rotation <em>(default)</em><br><code>1</code> = use fixed eeprom flash slot</td> </tr> <tr> <td align=center>SetOption13<a id=setoption13></a></td> <td align=left>Allow immediate action on single button press<br><code>0</code> = single, multi-press and hold button actions <em>(default)</em><br> <code>1</code> = only single press action for immediate response (i.e., disable multipress detection). Disable by holding for 4 x button hold time (see <a href=#setoption32><code>SetOption32</code></a>).</td> </tr> <tr> <td align=center>SetOption15<a id=setoption15></a></td> <td align=left>Set PWM control for LED lights<br><code>0</code> = basic PWM control<br><code>1</code> = control with <a href=#Color><code>Color</code></a> or <a href=#Dimmer><code>Dimmer</code></a> commands <em>(default)</em></td> </tr> <tr> <td align=center>SetOption16<a id=setoption16></a></td> <td align=left>Set addressable LED Clock scheme parameter<br> <code>0</code> = clock-wise mode <em>(default)</em><br> <code>1</code> = counter-clock-wise mode</td> </tr> <tr> <td align=center>SetOption17<a id=setoption17></a></td> <td align=left>Show <a href=#Color><code>Color</code></a> string as<br> <code>0</code> = hex string <em>(default)</em><br> <code>1</code> = comma-separated decimal string</td> </tr> <tr> <td align=center>SetOption18<a id=setoption18></a></td> <td align=left>Set status of signal light paired with <a href=#sensor14>CO<sub>2</sub> sensor</a><br> <code>0</code> = disable light <em>(default)</em><br><code>1</code> = enable light<br>The light will be green below <code>CO2_LOW</code> and red above <code>CO2_HIGH</code> (transition yellow/orange between). The default levels are: 800ppm for low and 1200ppm for high but these can be set in <code>user_config_override.h</code>.</td> </tr> <tr> <td align=center>SetOption19<a id=setoption19></a></td> <td align=left><a href=../Home-Assistant/ >Home Assistant</a> automatic discovery.<br><strong><em>WARNING</em></strong> On version 6.4.1.x enabling may cause a watchdog reset if used on a device with a configured sensor <br> <code>0</code> = disabled <em>(default)</em><br> <code>1</code> = enabled and also sets <a href=#setoption59><code>SetOption59 1</code></a><br>If you enable and then disable <code>SetOption19</code>, doing so does not set <a href=#setoption59><code>SetOption59</code></a><code>= 0</code> and does not revert to default <code>%prefix%/%topic%/</code> <a href=#fulltopic><code>FullTopic</code></a></td> </tr> <tr> <td align=center>SetOption20<a id=setoption20></a></td> <td align=left>Update of Dimmer/Color/CT without turning power on<br><code>0</code> = disabled <em>(default)</em><br><code>1</code> = enabled</td> </tr> <tr> <td align=center>SetOption21<a id=setoption21></a></td> <td align=left>Energy monitoring when power is off<br><code>0</code> = disabled <em>(default)</em><br><code>1</code> = enabled</td> </tr> <tr> <td align=center>SetOption24<a id=setoption24></a></td> <td align=left>Set pressure units <br> <code>0</code> = hPa <em>(default)</em><br> <code>1</code> = mmHg</td> </tr> <tr> <td align=center>SetOption26<a id=setoption26></a></td> <td align=left>Use indexes even when only one relay is present<br> <code>0</code> = messages use POWER <em>(default)</em><br> <code>1</code> = messages use POWER1</td> </tr> <tr> <td align=center>SetOption28<a id=setoption28></a></td> <td align=left>RF received data format<br> <code>0</code> = hex <em>(default)</em><br> <code>1</code> = decimal</td> </tr> <tr> <td align=center>SetOption29<a id=setoption29></a></td> <td align=left>IR received data format<br> <code>0</code> = hex <em>(default)</em><br> <code>1</code> = decimal</td> </tr> <tr> <td align=center>SetOption30<a id=setoption30></a></td> <td align=left>Enforce Home Assistant auto-discovery as light<br> <code>0</code> = relays are announced as a switch and PWM as a light <em>(default)</em><br> <code>1</code> = both relays and PWM are announced as light</td> </tr> <tr> <td align=center>SetOption31<a id=setoption31></a></td> <td align=left>Set status LED blinking during Wi-Fi and MQTT connection problems.<br> <em><a href=#LedPower><code>LedPower</code></a> must be set to <code>0</code> for this feature to work</em><br><code>0</code> = Enabled <em>(default)</em><br> <code>1</code> = Disabled</td> </tr> <tr> <td align=center>SetOption32<a id=setoption32></a></td> <td align=left>Number of 0.1 seconds to hold button before sending <code>HOLD</code> action message.<br> <code>1..100</code> to set button hold time <em>(default = <code>40</code>)</em>. This option also affects the time required to perform a firmware defaults reset (10x <code>HOLD</code> action time)</td> </tr> <tr> <td align=center>SetOption33<a id=setoption33></a></td> <td align=left>Number of seconds for which the maximum power limit can be exceeded before the power is turned off<br> <code>1..250</code> = set number of seconds <em>(default = <code>5</code>)</em></td> </tr> <tr> <td align=center>SetOption34<a id=setoption34></a></td> <td align=left><code>0..255</code> = set <a href=#backlog>Backlog</a> inter-command delay in milliseconds <em>(default = <code>200</code>)</em></td> </tr> <tr> <td align=center>SetOption36<a id=setoption36></a></td> <td align=left>Boot loop defaults restoration control.<br><code>0</code> = disable boot loop control<br> <code>1..200</code> = set number of boot loops (a restart caused by any exception or watchdog timer within less than <code>BOOT_LOOP_TIME</code> (default 10 seconds) before beginning to restore settings <em>(default = <code>1</code>)</em>. Once this number is reached, subsequent restarts will:<ul><li>1<sup>st</sup> restart: disable ESP8285 generic GPIOs interfering with flash SPI</li><li>2<sup>nd</sup> restart: disable rules causing boot loop</li><li>3<sup>rd</sup> restart: disable all rules</li><li>4<sup>th</sup> restart: reset user defined GPIOs to disable any attached peripherals</li><li>5<sup>th</sup> restart: reset module to Sonoff Basic (1)</li></ul></td> </tr> <tr> <td align=center>SetOption37<a id=setoption37></a></td> <td align=left>Color remapping for led channels, also provides an option for allowing independent handling of RGB and white channels. Setting changes require a device reboot.<br><code>0</code> = disabled<br><code>1..119</code> = according to <a href=../SetOption37/ >this table</a><br><code>120..127</code> = invalid (results in same as <code>0</code>)<br><code>128..255</code> = same as <code>0..127</code> but with independent channel handling enabled</td> </tr> <tr> <td align=center>SetOption38<a id=setoption38></a></td> <td align=left><code>6..255</code> = set IRReceive protocol detection sensitivity minimizing UNKNOWN protocols</td> </tr> <tr> <td align=center>SetOption39<a id=setoption39></a></td> <td align=left>Control handling of invalid power measurements. <a href=../Power-Monitoring-Calibration/#known-issues>Read more...</a><br><code>0</code> = reset to default on next restart<br><code>1..255</code> = number of invalid power readings before reporting no load <em>(default =<code>128</code>)</em>.</td> </tr> <tr> <td align=center>SetOption40<a id=setoption40></a></td> <td align=left>Stop detecting input change on the button GPIO. Solves <a href=https://github.com/arendst/Tasmota/issues/5449>#5449</a><br>Active only when <a href=#setoption1><code>SetOption1 1</code></a> and <a href=#setoption13><code>SetOption13 0</code></a>. <strong>This disables all long press functionality.</strong><br><code>0..250</code> = button hold time in 0.1 seconds after which button functionality is disabled.<em>(default =<code>1</code>)</em> <br>Example: <code>Backlog SetOption1 1; SetOption13 0; SetOption40 10</code> = discard any button press over 1 second</td> </tr> <tr> <td align=center>SetOption42<a id=setoption42></a></td> <td align=left><br><code>0..255</code> = set over-temperature (Celsius only) threshold resulting in power off on all energy monitoring devices <em>(default = <code>90</code>)</em></td> </tr> <tr> <td align=center>SetOption43<a id=setoption43></a></td> <td align=left><strong>Deprecated</strong> in favor of <a href=#DimmerRange><code>DimmerRange</code></a> <br><code>0..255</code> = set maximum dimming value (<a href=../TuyaMCU/#dimming-range>details</a>) <em>(default = <code>100</code>)</em><br>Available for Tuya and PS_16_DZ dimmers</td> </tr> <tr> <td align=center>SetOption51<a id=setoption51></a></td> <td align=left>Enable GPIO9 and GPIO10 component selections in Module Configuration<br><img alt= class=emojione src=https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/1f6a8.png title=:rotating_light:> <strong>WARNING</strong> Do not use on ESP8266 devices! <img alt= class=emojione src=https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/1f6a8.png title=:rotating_light:><br><code>0</code> = disable <em>(default)</em><br><code>1</code> = enable</td> </tr> <tr> <td align=center>SetOption52<a id=setoption52></a></td> <td align=left>Control display of optional time offset from UTC in JSON payloads<br><code>0</code> = disable <em>(default)</em><br> <code>1</code> = enable</td> </tr> <tr> <td align=center>SetOption53<a id=setoption53></a></td> <td align=left>Display hostname and IP address in GUI<br><code>0</code> = disable <em>(default)</em><br> <code>1</code> = enable</td> </tr> <tr> <td align=center>SetOption54<a id=setoption54></a></td> <td align=left>Apply <a href=#setoption20><code>SetOption20</code></a> settings to commands from Tuya device<br><code>0</code> = disable <em>(default)</em><br> <code>1</code> = enable</td> </tr> <tr> <td align=center>SetOption55<a id=setoption55></a></td> <td align=left>mDNS service<br><code>0</code> = disable <em>(default)</em> <br> <code>1</code> = enable</td> </tr> <tr> <td align=center>SetOption56<a id=setoption56></a></td> <td align=left>Wi-Fi network scan to select strongest signal on restart (network has to be visible)<br><code>0</code> = disable <em>(default)</em><br> <code>1</code> = enable</td> </tr> <tr> <td align=center>SetOption57<a id=setoption57></a></td> <td align=left>Wi-Fi network re-scan every 44 minutes with alternate to +10dB stronger signal if detected (only visible networks)<br><code>0</code> = disable <em>(default)</em><br> <code>1</code> = enable</td> </tr> <tr> <td align=center>SetOption58<a id=setoption58></a></td> <td align=left><a href=https://github.com/arendst/Tasmota/issues/2116#issuecomment-440716483>IR Raw data in JSON payload</a><br><code>0</code> = disable <em>(default)</em><br> <code>1</code> = enable</td> </tr> <tr> <td align=center>SetOption59<a id=setoption59></a></td> <td align=left>Send <code>tele/%topic%/STATE</code> in addition to <code>stat/%topic%/RESULT</code> for commands: <a href=#State><code>State</code></a>, <a href=#Power><code>Power</code></a> and any command causing a light to be turned on.<br><code>0</code> = disable <em>(default)</em><br> <code>1</code> = enable</td> </tr> <tr> <td align=center>SetOption60<a id=setoption60></a></td> <td align=left>Set sleep mode<br> <code>0</code> = <a href=../Dynamic-Sleep/ >dynamic sleep</a> <em>(default)</em><br> <code>1</code> = normal sleep</td> </tr> <tr> <td align=center>SetOption61<a id=setoption61></a></td> <td align=left>Force <a href=https://github.com/arendst/Tasmota/pull/4562#issuecomment-446230001>local operation</a> when <a href=#ButtonTopic><code>ButtonTopic</code></a> or <a href=#SwitchTopic><code>SwitchTopic</code></a> is set.<br><code>0</code> = disable <em>(default)</em><br> <code>1</code> = enable</td> </tr> <tr> <td align=center>SetOption62<a id=setoption62></a></td> <td align=left>Set retain on Button or Switch hold messages<br><code>0</code> = disable <em>(default)</em><br> <code>1</code> = don't use retain flag on <code>HOLD</code> messages</td> </tr> <tr> <td align=center>SetOption63<a id=setoption63></a></td> <td align=left>Set relay state feedback scan at restart (<a href=https://github.com/arendst/Tasmota/issues/5594>#5594</a>, <a href=https://github.com/arendst/Tasmota/issues/5663>#5663</a>)<br><code>0</code> = Scan power state at restart <em>(default)</em><br> <code>1</code> = Disable power state scanning at restart</td> </tr> <tr> <td align=center>SetOption64<a id=setoption64></a></td> <td align=left>Switch between <code>-</code> or <code>_</code> as sensor name separator<br><code>0</code> = sensor name index separator is <code>-</code> <em>(hyphen)</em> <em>(default)</em><br> <code>1</code> = sensor name index separator is <code>_</code> <em>(underscore)</em><br><em>Affects DS18X20, DHT, BMP and SHT3X sensor names in tele messages</em></td> </tr> <tr> <td align=center>SetOption65<a id=setoption65></a></td> <td align=left>Device recovery using <a href=../Fast-power-cycle-device-recovery/ >fast power cycle detection</a><br><code>0</code> = enabled <em>(default)</em><br><code>1</code> = disabled</td> </tr> <tr> <td align=center>SetOption66<a id=setoption66></a></td> <td align=left>Set publishing TuyaReceived to MQTT<br><code>0</code> = disable publishing <code>TuyaReceived</code> over MQTT <em>(default)</em><br><code>1</code> = enable publishing <code>TuyaReceived</code> over MQTT</td> </tr> <tr> <td align=center>SetOption67<a id=setoption67></a></td> <td align=left>iFan03 Buzzer control<br><code>0</code> = disable Sonoff iFan03 buzzer <em>(default)</em><br><code>1</code> = enable Sonoff iFan03 buzzer</td> </tr> <tr> <td align=center>SetOption68<a id=setoption68></a></td> <td align=left>Multi-channel PWM instead of a single light<br><code>0</code> = Treat <a href=#pwm>PWM</a> as a single light <em>(default)</em><br><code>1</code> = Treat <a href=#pwm>PWM</a> as separate channels. In this mode, use <a href=#power><code>Power&lt;x&gt;</code></a> to turn lights on and off, and <a href=#channel><code>Channel&lt;x&gt;</code></a> to change the value of each channel.<br><a href=#color><code>Color</code></a> still works to set all channels at once.<br><strong><em>Requires restart after change</em></strong></td> </tr> <tr> <td align=center>SetOption69<a id=setoption69></a></td> <td align=left><strong>Deprecated</strong> in favor of <a href=#DimmerRange>DimmerRange</a> <br>By default Tuya dimmers won't dim below 10% because some don't function very well that way.<br><code>0</code> = disable Tuya dimmer 10% lower limit<br><code>1</code> = enable Tuya dimmer 10% lower limit <em>(default)</em></td> </tr> <tr> <td align=center>SetOption71<a id=setoption71></a></td> <td align=left>Set DDS238 Modbus register for active energy<br><code>0</code> = set primary register <em>(default)</em><br><code>1</code> = set alternate register</td> </tr> <tr> <td align=center>SetOption72<a id=setoption72></a></td> <td align=left>Set reference used for total energy <br><code>0</code> = use firmware counter <em>(default)</em><br><code>1</code> = use energy monitor (e.g., PZEM-0xx, SDM120, SDM630, DDS238, DDSU666) hardware counter</td> </tr> <tr> <td align=center>SetOption73<a id=setoption73></a></td> <td align=left><em>Deprecated in version 7.1.2.4 in favor of CORS command</em><br>Set HTTP Cross-Origin Resource Sharing (CORS) <br><code>0</code> = disable CORS <em>(default)</em><br><code>1</code> = enable CORS</td> </tr> <tr> <td align=center>SetOption74<a id=setoption74></a></td> <td align=left>Enable internal pullup for single DS18x20 sensor <br><code>0</code> = disabled <em>(default)</em><br><code>1</code> = internal pullup enabled</td> </tr> <tr> <td align=center>SetOption75<a id=setoption75></a></td> <td align=left>Set grouptopic behaviour (<a href=https://github.com/arendst/Tasmota/issues/6779>#6779</a>)<br><code>0</code> = GroupTopic using FullTopic replacing %topic% <em>(default)</em><br><code>1</code> = GroupTopic is <code>cmnd/%grouptopic%/</code></td> </tr> <tr> <td align=center>SetOption76<a id=setoption76></a></td> <td align=left>Bootcount incrementing when <a href=../DeepSleep/ >DeepSleep</a> is enabled (<a href=https://github.com/arendst/Tasmota/issues/6930>#6930</a>)<br><code>0</code> = disable bootcount incrementing <em>(default)</em><br><code>1</code> = enable bootcount incrementing</td> </tr> <tr> <td align=center>SetOption77<a id=setoption77></a></td> <td align=left>Do not power off if a slider is moved to far left<br><code>0</code> = disabled <em>(default)</em><br><code>1</code> = enabled</td> </tr> <tr> <td align=center>SetOption78<a id=setoption78></a></td> <td align=left>Version check on Tasmota upgrade<br><code>0</code> = enabled <em>(default)</em><br><code>1</code> = disabled</td> </tr> <tr> <td align=center>SetOption79<a id=setoption79></a></td> <td align=left>Reset counters at TelePeriod time<br><code>0</code> = disabled <em>(default)</em><br><code>1</code> = enabled</td> </tr> <tr> <td align=center>SetOption80<a id=setoption80></a></td> <td align=left><a href=../Blinds-and-Shutters/ >Blinds and shutters</a> support<br><code>0</code> = disable blinds and shutters support <em>(default)</em><br><code>1</code> = enable blinds and shutters support</td> </tr> <tr> <td align=center>SetOption81<a id=setoption81></a></td> <td align=left>Set PCF8574 component behavior for all ports<br><code>0</code> = set as regular state <em>(default)</em><br><code>1</code> = set as inverted state</td> </tr> <tr> <td align=center>SetOption82<a id=setoption82></a></td> <td align=left>Reduce the CT range from 153..500 to 200.380 to accomodate with Alexa range<br><code>0</code> = CT ranges from 153 to 500 <em>(default)</em><br><code>1</code> = CT ranges from 200 to 380 (although you can still set in from 153 to 500)</td> </tr> <tr> <td align=center>SetOption83<a id=setoption83></a></td> <td align=left>Uses Zigbee device friendly name instead of 16 bits short addresses as JSON key when reporting values and commands<br><code>0</code> = JSON key as short address<br><code>1</code> = JSON key as friendly name<br>See <a href=#zbname><code>ZbName &lt;device&gt;,&lt;name&gt;</code></a></td> </tr> <tr> <td align=center>SetOption84<a id=setoption84></a></td> <td align=left>(Experimental) When using AWS IoT, sends a device shadow update (alternative to retained)<br><code>0</code> = don't update device shadow (default)<br><code>1</code> = update device shadow<br>Note: if the <code>Topic</code> contains <code>'/'</code> they are replaced with <code>'_'</code></td> </tr> <tr> <td align=center>SetOption85<a id=setoption85></a></td> <td align=left><a href=Device-groups.md>Device group</a> support<br><code>0</code> = disabled <em>(default)</em><br><code>1</code> = enabled</td> </tr> <tr> <td align=center>SetOption86<a id=setoption86></a></td> <td align=left><strong>PWM Dimmer only!</strong> Turn brightness LED's off 5 seconds after last change<br><code>0</code> = disabled <em>(default)</em><br><code>1</code> = enabled</td> </tr> <tr> <td align=center>SetOption87<a id=setoption87></a></td> <td align=left><strong>PWM Dimmer only!</strong> Turn red LED on when powered off<br><code>0</code> = disabled <em>(default)</em><br><code>1</code> = enabled</td> </tr> <tr> <td align=center>SetOption88<a id=setoption88></a></td> <td align=left><strong>PWM Dimmer only!</strong> Buttons control remote devices<br><code>0</code> = disabled <em>(default)</em><br><code>1</code> = enabled</td> </tr> <tr> <td align=center>SetOption89<a id=setoption89></a></td> <td align=left>Configure MQTT topic for Zigbee devices (also see <code>SensorRetain</code>)<br><code>0</code> = single <code>tele/%topic%/SENSOR</code> topic <em>(default)</em> <br><code>1</code> = unique device topic based on Zigbee device ShortAddr<br><em>Example:</em> <code>tele/Zigbee/5ADF/SENSOR = {"ZbReceived":{"0x5ADF":{"Dimmer":254,"Endpoint":1,"LinkQuality":70}}}</code></td> </tr> </tbody> </table> <p><a id=serial-bridge></a></p> <h3 id=serial-bridge>Serial Bridge<a class=headerlink href=#serial-bridge title="Permanent link">~</a></h3> <p>Both hardware and software Serial Bridge are supported.</p> <p>Hardware Serial Bridge uses <code>GPIO1 (Tx)</code> and <code>GPIO3 (Rx)</code> or <code>GPIO13 (Tx)</code> and <code>GPIO15 (Rx)</code> pins of your device. <br> Software Serial Bridge can use any other GPIO to be configured as components <code>Serial Tx</code> and <code>Serial Rx</code> (or <code>SerBr Tx</code> and <code>SerBr Rx</code>). If <code>Tx</code> and <code>Rx</code> components are not assigned in the Template or Module, <code>GPIO1</code> and <code>GPIO3</code> will be used. Note that changing serial logging (<a href=#seriallog><code>SerialLog</code></a> 0) will disable the hardware Serial Bridge. </p> <p>Information received by Tasmota over the serial bridge is captured automatically. Before data will be received, a properly formatted <a href=#SerialSend><code>SerialSend&lt;x&gt;</code> or <code>SSerialSend&lt;x&gt;</code></a> command must be executed. This must be done any time the device restarts (e.g., via a <code>System#Boot</code> triggered rule). This command is required in order to set how the expected serial data will be formatted and interpreted (i.e., which &#60;x&gt; option). A <code>{"SSerialReceived":{"Data":"&lt;string&gt;"}}</code> message will be posted. You can use <a href=Rulesswitch-relays-via-serial-interface.md>a rule</a> to process the string which will be contained in <code>SSerialReceived#Data</code>.</p> <p>Expect possible communication errors when additional sensors are configured. </p> <table> <thead> <tr> <th align=left>Command</th> <th align=left>Parameters</th> </tr> </thead> <tbody> <tr> <td align=left>Baudrate<a id=baudrate></a></td> <td align=left><code>1</code> = set hardware serial bridge to default baud rate of 115200 bps<br><code>&lt;value&gt;</code> = set baud rate. The set rate will be a multiple of 300. The maximum baud rate possible is 19,660,500.</td> </tr> <tr> <td align=left>SBaudrate<a id=sbaudrate></a></td> <td align=left><code>1</code> = set software serial bridge to default baud rate of 9600 bps<br><code>&lt;value&gt;</code> = set baud rate. The set rate will be a multiple of 300. The maximum baud rate possible is 19,660,500.</td> </tr> <tr> <td align=left>SerialConfig<a id=serialconfig></a></td> <td align=left><code>value</code> = set serial protocol using <a href=https://en.wikipedia.org/wiki/Serial_port#Settings>data/parity/stop</a> conventional notation (example: <code>8N1</code> or <code>702</code>)<br><code>0..23</code> = set serial protocol (<code>3</code> equals <code>8N1</code>)</td> </tr> <tr> <td align=left>SerialDelimiter<a id=serialdelimiter></a></td> <td align=left><code>&lt;value&gt;</code> = set serial delimiter to <a href=https://en.wikipedia.org/wiki/Escape_character#ASCII_escape_character>escape character code</a> or ASCII character<br><code>1..127</code> = set serial delimiter to <a href=http://www.asciichart.com/ >decimal ASCII</a><br><code>128</code> = only allow ASCII characters 32 to 127 in response text<br><code>129..255</code> = disable serial delimiter</td> </tr> <tr> <td align=left>SerialSend&#60;x&gt;<a id=serialsend></a></td> <td align=left><code>&lt;string&gt;</code><br>Disable serial logging and send using hardware serial<br>x = <code>1..5</code><br><code>1</code> = send appending <code>\n</code> (newline) ()<br><code>2</code> = send<br><code>3</code> = replace escape characters and send <br><code>4</code> = send as binary. Data in serial response messages is encoded as hex strings <br><code>5</code> = send as hex. Data in serial response messages is encoded as hex strings</td> </tr> <tr> <td align=left>SSerialSend&#60;x&gt;<a id=sserialsend></a></td> <td align=left><code>&lt;string&gt;</code><br>Send using software serial protocol<br>x = <code>1..5</code><br><code>1</code> = send appending <code>\n</code> (newline) ()<br><code>2</code> = send<br><code>3</code> = replace escape characters and send <br><code>4</code> = send as binary data. Data in serial response messages is encoded as hex strings<br><code>5</code> = send as hex. Data in serial response messages is encoded as hex strings</td> </tr> <tr> <td align=left>TuyaSend&#60;x&gt;<a id=tuyasend></a></td> <td align=left>Send data to MCU with <a href=../TuyaMCU/ >TuyaMCU</a><br>x = <code>1..4</code><br><code>TuyaSend1 &lt;dpId&gt;,&lt;boolean&gt;</code> = send boolean (<code>0</code>/<code>1</code>) data type to dpId (1 byte max length)<br><code>TuyaSend2 &lt;dpId&gt;,&lt;int&gt;</code> = send integer data to dpId (4 bytes max length)<br><code>TuyaSend2 &lt;dpId&gt;,&lt;0xAABBCCDD&gt;</code> = send 4 byte data to dpId (4 bytes max length)<br><code>TuyaSend3 &lt;dpId&gt;,&lt;value&gt;</code> = send any data type to dpId (unknown max length)<br><code>TuyaSend4 &lt;dpId&gt;,&lt;enum&gt;</code> = send enumerated (<code>0</code>/<code>1</code>/<code>2</code>/<code>3</code>/<code>4</code>/<code>5</code>) data type to dpId (1 byte max length)<br></td> </tr> </tbody> </table> <p><a id=domoticz></a></p> <h3 id=domoticz>Domoticz<a class=headerlink href=#domoticz title="Permanent link">~</a></h3> <table> <thead> <tr> <th align=left>Command</th> <th align=left>Parameters</th> </tr> </thead> <tbody> <tr> <td align=left><a id=domoticzidx></a>DomoticzIdx&lt;x></td> <td align=left>Show Domoticz Relay idx &lt;x> (x = <code>1..4</code>)<br><code>0</code> = disable use of Relay idx &lt;x> <em>(default)</em><br><code>&lt;value&gt;</code> = Show Relay idx &lt;x></td> </tr> <tr> <td align=left><a id=domoticzkeyidx></a>DomoticzKeyIdx&lt;x></td> <td align=left>Show Domoticz Key idx &lt;x> (x = <code>1..4</code>)<br><code>0</code> = disable use of Key idx &lt;x> <em>(default)</em><br><code>&lt;value&gt;</code> = Show Key idx &lt;x> (to use enable <a href=#buttontopic>ButtonTopic</a>)</td> </tr> <tr> <td align=left><a id=domoticzsensoridx></a>DomoticzSensorIdx&lt;x></td> <td align=left>Show Domoticz Sensor idx &lt;x> (x = <code>1..5</code>)<br><code>0</code> = disable use of Sensor idx &lt;x> <em>(default)</em><br><code>&lt;value&gt;</code> = Show Sensor idx &lt;x></td> </tr> <tr> <td align=left><a id=domoticzswitchidx></a>DomoticzSwitchIdx&lt;x></td> <td align=left>Show Domoticz Switch idx &lt;x> (x = <code>1..4</code>)<br><code>0</code> = disable use of Switch idx &lt;x> <em>(default)</em><br><code>&lt;value&gt;</code> = Show Switch idx &lt;x> (to use enable <a href=#switchtopic>SwitchTopic</a>)</td> </tr> <tr> <td align=left><a id=domoticzupdatetimer></a>DomoticzUpdateTimer</td> <td align=left>Show current update timer value in seconds<br><code>0</code> = disable sending interim Domoticz status <em>(default)</em><br><code>1..3600</code> = send status to Domoticz in defined intervals</td> </tr> </tbody> </table> <p><a id=knx></a></p> <h3 id=knx>KNX<a class=headerlink href=#knx title="Permanent link">~</a></h3> <table> <thead> <tr> <th align=left>Command</th> <th align=left>Parameters</th> </tr> </thead> <tbody> <tr> <td align=left>KnxTx_Cmnd&lt;x><a id=KnxTx_Cmnd></a></td> <td align=left><code>0</code> or <code>1</code> = send command using slot &lt;x> set in KNX Menu at KNX_TX</td> </tr> <tr> <td align=left>KnxTx_Val&lt;x><a id=KnxTx_Val></a></td> <td align=left><code>&lt;value&gt;</code> = send float value using slot &lt;x> set in KNX Menu at KNX_TX</td> </tr> <tr> <td align=left>KNX_ENABLED<a id=KNX_ENABLED></a></td> <td align=left>Status of KNX Communications<br><code>0</code> = set to Disable<br><code>1</code> = set to Enable</td> </tr> <tr> <td align=left>KNX_ENHANCED<a id=KNX_ENHANCED></a></td> <td align=left>Status of Enhanced mode for KNX Communications<br><code>0</code> = set to Disable<br><code>1</code> = set to Enable</td> </tr> <tr> <td align=left>KNX_PA<a id=KNX_PA></a></td> <td align=left>KNX Physical Address<br><code>0.0.0</code> = address not set<br><code>x.x.x</code> = set the device address (example <code>1.1.0</code>)</td> </tr> <tr> <td align=left>KNX_GA<a id=KNX_GA></a></td> <td align=left>Return the amount of Group Address to Send Data/Commands configured</td> </tr> <tr> <td align=left>KNX_GA&lt;x><a id=KNX_GAx></a></td> <td align=left>Setup Group Address to Send Data/Commands (&lt;x> = KNX Group Address number)<br><code>1</code> = return configuration of GA&lt;x><br><code>&lt;option&gt;, &lt;area&gt;, &lt;line&gt;, &lt;member&gt;</code> to set configuration of GA&lt;x><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>&lt;option&gt;</code> = <a href=#knxJSON>see table below for OPTION list</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>&lt;area&gt;, &lt;line&gt;, &lt;member&gt;</code> = KNX Address to Send Data/Commands<br></td> </tr> <tr> <td align=left>KNX_CB<a id=KNX_CB></a></td> <td align=left>Return the amount of Group Address to Receive Data/Commands configured</td> </tr> <tr> <td align=left>KNX_CB&lt;x><a id=KNX_CBx></a></td> <td align=left>Setup Group Address to Receive Data/Commands <br><code>1</code> = return configuration of CB&lt;x><br><code>&lt;option&gt;, &lt;area&gt;, &lt;line&gt;, &lt;member&gt;</code> to set configuration of CB&lt;x><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>&lt;option&gt;</code> = <a href=#knxJSON>see table below for OPTION list</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>&lt;area&gt;, &lt;line&gt;, &lt;member&gt;</code> = KNX Address to Receive Data/Commands</td> </tr> </tbody> </table> <p><a id=knxjson></a></p> <table> <thead> <tr> <th align=left>OPTION</th> <th>OPTION<br>Value</th> <th align=left><br>OPTION</th> <th>OPTION<br>Value</th> </tr> </thead> <tbody> <tr> <td align=left>1</td> <td>Relay 1</td> <td align=left>17</td> <td>TEMPERATURE</td> </tr> <tr> <td align=left>2</td> <td>Relay 2</td> <td align=left>18</td> <td>HUMIDITY</td> </tr> <tr> <td align=left>3</td> <td>Relay 3</td> <td align=left>19</td> <td>ENERGY_VOLTAGE</td> </tr> <tr> <td align=left>4</td> <td>Relay 4</td> <td align=left>20</td> <td>ENERGY_CURRENT</td> </tr> <tr> <td align=left>5</td> <td>Relay 5</td> <td align=left>21</td> <td>ENERGY_POWER</td> </tr> <tr> <td align=left>6</td> <td>Relay 6</td> <td align=left>22</td> <td>ENERGY_POWERFACTOR</td> </tr> <tr> <td align=left>7</td> <td>Relay 7</td> <td align=left>23</td> <td>ENERGY_DAILY</td> </tr> <tr> <td align=left>8</td> <td>Relay 8</td> <td align=left>24</td> <td>ENERGY_START</td> </tr> <tr> <td align=left>9</td> <td>Button 1</td> <td align=left>25</td> <td>ENERGY_TOTAL</td> </tr> <tr> <td align=left>10</td> <td>Button 2</td> <td align=left>26</td> <td>KNX_SLOT1</td> </tr> <tr> <td align=left>11</td> <td>Button 3</td> <td align=left>27</td> <td>KNX_SLOT2</td> </tr> <tr> <td align=left>12</td> <td>Button 4</td> <td align=left>28</td> <td>KNX_SLOT3</td> </tr> <tr> <td align=left>13</td> <td>Button 5</td> <td align=left>29</td> <td>KNX_SLOT4</td> </tr> <tr> <td align=left>14</td> <td>Button 6</td> <td align=left>30</td> <td>KNX_SLOT5</td> </tr> <tr> <td align=left>15</td> <td>Button 7</td> <td align=left>255</td> <td>EMPTY</td> </tr> <tr> <td align=left>16</td> <td>Button 8</td> <td align=left></td> <td></td> </tr> </tbody> </table> <p><a id=displays></a></p> <h3 id=displays>Displays<a class=headerlink href=#displays title="Permanent link">~</a></h3> <table> <thead> <tr> <th align=left>Command</th> <th align=left>Parameters</th> </tr> </thead> <tbody> <tr> <td align=left>Display<a id=display></a></td> <td align=left>Show current display setting as a JSON payload</td> </tr> <tr> <td align=left>DisplayAddress<a id=displayaddress></a></td> <td align=left><code>0..255</code> Set display module address</td> </tr> <tr> <td align=left>DisplayDimmer<a id=displaydimmer></a></td> <td align=left><code>0</code> Turn the display off<br> <code>1..100</code> Turn the display on<br><code>0..100</code> Set display luminosity <em>(only on 8x8 Dot-Matrix displays)</em></td> </tr> <tr> <td align=left>DisplayMode<a id=displaymode></a></td> <td align=left><code>0..5</code> Set to display <a href=../Displays/#displaymode-parameters>predefined content</a> according to display type</td> </tr> <tr> <td align=left>DisplayModel<a id=displaymodel></a></td> <td align=left>Set display model:<br><code>1</code> = <a href=https://learn.adafruit.com/i2c-spi-lcd-backpack>I<sup>2</sup>C LCD Display</a> (default addresses <code>0x27</code>, <code>0x3F</code>)<br><code>2</code> = <a href=https://learn.adafruit.com/monochrome-oled-breakouts/arduino-library-and-examples>SSD1306</a> OLED 128x32/128x64 (default I<sup>2</sup>C addresses <code>0x3C</code>, <code>0x3D</code>)<br><code>3</code> = <a href=https://www.adafruit.com/product/1427>HT16K33</a> 8x8 Dot-Matrix<br><code>4</code> = <a href=https://www.adafruit.com/product/1770>ILI9341</a> TFT LCD<br><code>5</code> = <a href=https://www.waveshare.com/wiki/2.9inch_e-Paper_Module>2.9 inch E-Paper Display</a> 296x128 (software 3-wire SPI)<br><code>6</code> = <a href=https://www.waveshare.com/wiki/4.2inch_e-Paper_Module>4.2 inch E-Paper Display</a> 400x300 (software 3-wire SPI)<br><code>7</code> = <a href=https://www.ebay.com/itm/1-3-SH1106-I2C-IIC-128X64-OLED-LCD-LED-Display-Module-Board-For-Arduino-BLUE/391701761596>SH1106</a> OLED 128x64 (default I<sup>2</sup>C address <code>0x3c</code>)<br><code>8</code> = <a href=https://www.buydisplay.com/default/lcd-3-5-inch-320x480-tft-display-module-optl-touch-screen-w-breakout-board>ILI9488</a> TFT 480x320 (capacitive touch, hardware 3-wire SPI)<br><code>9</code> = <a href=https://www.ebay.com/itm/3-3V-5V-General-1-5inch-RGB-OLED-Display-Module-128x128-SSD1351-SPI-Interface/253655550921>SSD1351</a> color OLED 128x128 (hardware 3-wire SPI)<br><code>10</code> = <a href=https://www.buydisplay.com/default/spi-7-inch-tft-lcd-dislay-module-1024x600-ra8876-optl-touch-screen-panel>RA8867</a> TFT LCD 1024x600 (capacitive touch, hardware 4-wire SPI)</td> </tr> <tr> <td align=left>DisplayRefresh<a id=displayrefresh></a></td> <td align=left><code>1..7</code> Set time in seconds to update predefined content when using <code>DisplayMode</code> &ne; <code>0</code></td> </tr> <tr> <td align=left>DisplaySize<a id=displaysize></a></td> <td align=left><code>1..4</code> Set display scale-up size <em>(SSD1306 and ILI9341 only)</em></td> </tr> <tr> <td align=left>DisplayRotate<a id=displayrotate></a></td> <td align=left>Set rotation angle<br> <code>0</code> = 0<br> <code>1</code> = 90<br> <code>2</code> = 180<br> <code>3</code> = 270</td> </tr> <tr> <td align=left>DisplayText<a id=displaytext></a></td> <td align=left><code>&lt;value&gt;</code> = See <a href=../Displays/#displaytext-use>DisplayText use</a></td> </tr> <tr> <td align=left>DisplayCols<a id=displaycols></a></td> <td align=left><code>1..44</code> Set number of display columns <em>(for display modes&gt;0)</em></td> </tr> <tr> <td align=left>DisplayRows <a id=displayrows></a></td> <td align=left><code>1..32</code> Set number of display rows <em>(for display modes&gt;0)</em></td> </tr> <tr> <td align=left>DisplayFont<a id=displayfont></a></td> <td align=left>Specify the current font<br><code>0</code> use classic GFX font<br><code>1</code> = 12<br><code>2</code> = 24<br><code>3</code> = 8 (opt)<br><code>7</code> use RA8876 internal font</td> </tr> <tr> <td align=left>DisplayWidth<a id=displaywidth></a></td> <td align=left>Specify the display width in pixels <em>(SSD1306 only)</em></td> </tr> <tr> <td align=left>DisplayHeight<a id=displayheight></a></td> <td align=left>Specify the display height in pixels <em>(SSD1306 only)</em></td> </tr> </tbody> </table> <p><a id=stepper-motors></a></p> <h3 id=stepper-motors>Stepper Motors<a class=headerlink href=#stepper-motors title="Permanent link">~</a></h3> <table> <thead> <tr> <th align=left>Command</th> <th align=left>Parameters</th> </tr> </thead> <tbody> <tr> <td align=left>MotorMIS<a id=motormis></a></td> <td align=left><code>1,2,4,8,16</code> Set micro stepping increment - 1/1 (full steps) to 1/16 <em>(default = <code>1</code>)</em></td> </tr> <tr> <td align=left>MotorSPR<a id=motorspr></a></td> <td align=left><code>integer</code> Set the number of steps the given motor needs for one revolution <em>(default = <code>200</code>)</em><br>This is dependent on the type of motor and micro stepping. Most common motors are 1.8 per step.</td> </tr> <tr> <td align=left>MotorRPM<a id=motorrpm></a></td> <td align=left><code>1..300</code> Set revolutions per minute <em>(default = <code>30</code>)</em></td> </tr> <tr> <td align=left>MotorMove<a id=motormove></a></td> <td align=left><code>integer</code> Move the motor the given number of steps (positive values: clockwise, negative values: counterclockwise)</td> </tr> <tr> <td align=left>MotorRotate<a id=motorrotate></a></td> <td align=left><code>integer</code> Rotate the motor the given number of degrees (positive values: clockwise, negative values: counterclockwise)</td> </tr> <tr> <td align=left>MotorTurn<a id=motorturn></a></td> <td align=left><code>float</code> Spin the motor the given number of turns (positive values: clockwise, negative values: counterclockwise)</td> </tr> </tbody> </table> <p><a id=blinds></a></p> <h3 id=blinds-shutters-and-rollers>Blinds, Shutters and Rollers<a class=headerlink href=#blinds-shutters-and-rollers title="Permanent link">~</a></h3> <table> <thead> <tr> <th align=left>Command<br> (x = <code>1..4</code>)</th> <th align=left>Parameters</th> </tr> </thead> <tbody> <tr> <td align=left>ShutterButton&#60;x&gt;<a id=shutterbutton></a></td> <td align=left><code>&lt;button&gt; &lt;func&gt; &lt;mqtt&gt;</code><br><br>Assign a button to control the shutter. For more details please refer to <a href=../Blinds-and-Shutters/ >Blinds and Shutters</a> support<br><br><code>&lt;button&gt;</code><br>&emsp;<code>0</code>: disable buttons for this shutter<br>&emsp;<code>1..4</code>: Button number<br><code>&lt;func&gt;</code> <code>up</code>/<code>down</code>/<code>updown</code>: function to assign to the button<br><code>&lt;mqtt&gt;</code> <code>1</code>/<code>0</code>: enable/disable MQTT publish for button hold action<br><br>For example:<li>To control shutter #1 by two buttons: <code>Backlog ShutterButton1 1 up 1; ShutterButton1 2 down 1</code> assigns button #1 to act as an "up" button and button #2 to act as an "down" button for shutter #1 including MQTT publish.</li><li>To control shutter #1 by a single button: <code>ShutterButton1 1 updown 0</code> assigns button #1 to act as an "up and down" button.</li></td> </tr> <tr> <td align=left>ShutterCalibration&#60;x&gt;<a id=shuttercalibration></a></td> <td align=left>Granular shutter position calibration. The measured opening position of the shutter at the 30, 50, 70, 90, and 100 percent opened locations. For example: <code>ShutterCalibration&lt;x&gt; 23 38 56 74 82</code></td> </tr> <tr> <td align=left>ShutterCloseDuration&#60;x&gt;<a id=shuttercloseduration></a></td> <td align=left><code>1..255</code> <em>(default = <code>10</code>)</em><br>time, in seconds, it takes to fully close the shutter. A fraction of a second can be specified (e.g. <code>45.7</code>).</td> </tr> <tr> <td align=left>ShutterClose&#60;x&gt;<a id=shutterclose></a></td> <td align=left>Engage the relay to close the shutter. This action can be requested at any time. Number of shutter can be the index or the arguement</td> </tr> <tr> <td align=left>ShutterFrequency&#60;x&gt;<a id=shutterfrequency></a></td> <td align=left><code>0..10,000</code>Hz <em>(default = <code>1000</code>)</em><br>the maximum frequency at which the stepper motor can operate reliably. Typically this is up to 2,000Hz with a 12V power supply and up to 5,000Hz with a 24V power supply.</td> </tr> <tr> <td align=left>ShutterEnableEndStopTime&#60;x&gt;<a id=shutterenableendstoptime></a></td> <td align=left><code>0</code> = no additional shutter end stop time <em>(default)</em><br><code>1</code> = 1 s additional shutter end stop time</td> </tr> <tr> <td align=left>ShutterInvert&#60;x&gt;<a id=shutterinvert></a></td> <td align=left><code>0</code> = use default shutter positioning (<code>0</code> = Closed, <code>100</code> = Open)<br><code>1</code> = invert shutter positioning (<code>100</code> = Closed, <code>0</code> = Open) (e.g., if used with KNX)</td> </tr> <tr> <td align=left>ShutterInvertWebButtons&#60;x&gt;<a id=shutterinvertwebbuttons></a></td> <td align=left><code>0</code> = use default button icons ( for open,  for close)<br><code>1</code> = invert button icons ( for open,  for close) (e.g., if used with horizontal awning: where open means rolling-down fabric material and close rolling-up in a protect position)</td> </tr> <tr> <td align=left>ShutterLock&#60;x&gt;<a id=shutterlock></a></td> <td align=left><code>0</code> = unlock shutter positioning <em>(default)</em><br><code>1</code> = lock shutter positioning</td> </tr> <tr> <td align=left>ShutterMotorDelay&#60;x&gt;<a id=shuttermotordelay></a></td> <td align=left><code>0.00 .. 12.75</code> <em>(default = <code>0</code>)</em><br>time, in seconds, it takes the motor to start moving once power is turned on; i.e., motor lag time.<br><br>When used with stepper motors, this setting defines the ramp up/down speed (i.e., acceleration/deceleration) before the motor reaches its target speed for gradual starting and stopping.</td> </tr> <tr> <td align=left>ShutterOpenDuration&#60;x&gt;<a id=shutteropenduration></a></td> <td align=left><code>1..255</code> <em>(default = <code>10</code>)</em><br>time, in seconds, it takes to fully open the shutter. A fraction of a second can be specified (e.g. <code>45.7</code>).</td> </tr> <tr> <td align=left>ShutterOpen&#60;x&gt;<a id=shutteropen></a></td> <td align=left>Engage the relay to open the shutter. This action can be requested at any time. Number of shutter can be index or the arguement</td> </tr> <tr> <td align=left>ShutterPosition&#60;x&gt;<a id=shutterposition></a></td> <td align=left><code>0..100</code>, <code>UP</code>, <code>DOWN</code>, <code>STOP</code><br>A shutter position change can be requested at any time. The shutter will stop and revert or update to the requested position. The shutter's actual position will be saved <em><strong>after</strong></em> the movement is completed. In this case, the position will be restored during reboot. An interruption during shutter movement (e.g., a device restart) will lose the current position.</td> </tr> <tr> <td align=left>ShutterRelay&#60;x&gt;<a id=shutterrelay></a></td> <td align=left><code>&lt;value&gt;</code><br><code>0</code> = disable this and all higher numbered shutters<br><code>1,3,5,7,...</code> (must be an odd number) = <code>Relay&lt;value&gt;</code> component used to open the shutter. This relay's mate, the next higher numbered relay, closes the shutter. Depending on the shutter mode, the relays may need to be interlocked using the <a href=./#interlock><code>Interlock</code></a> command.<br><strong>The <code>ShutterRelay</code> command must be executed first before any other shutter commands for <code>Shutter&lt;x&gt;</code> can be executed.</strong></td> </tr> <tr> <td align=left>ShutterSetClose&#60;x&gt;<a id=shuttersetclose></a></td> <td align=left>shutter closed position. <code>ShutterPosition</code> will be reset to fully closed value (e.g., <code>0</code> when <code>ShutterInvert = 0</code>, <code>100</code> otherwise).</td> </tr> <tr> <td align=left>ShutterSetHalfway&#60;x&gt;<a id=shuttersethalfway></a></td> <td align=left><code>0..100</code> <em>(default = <code>50</code>)</em><br>Define shutter half open position (in percent)</td> </tr> <tr> <td align=left>ShutterStop&#60;x&gt;<a id=shutterstop></a></td> <td align=left>Disengage the relays to stop the shutter. Number of shutter can be the index or the argument</td> </tr> <tr> <td align=left>See also</td> <td align=left><a href=#setoption80><code>SetOption80</code></a> - Enable shutter support</td> </tr> </tbody> </table> <p><a id=zigbee></a></p> <h3 id=zigbee>Zigbee<a class=headerlink href=#zigbee title="Permanent link">~</a></h3> <p>See the <a href=../Zigbee/ >Complete Zigbee guide</a></p> <table> <thead> <tr> <th align=left>Command</th> <th align=left>Parameters</th> </tr> </thead> <tbody> <tr> <td align=left></td> <td align=left></td> </tr> <tr> <td align=left>ZbBind<a id=zbbind></a></td> <td align=left>Binds one Zigbee device to another device or to a groups. This allows one device to directly send commands, like a remote to a bulb, without any action on the coordinator.<br><code>{"Device":"&lt;device&gt;", "Endpoint":&lt;endpoint&gt;, "Cluster":&lt;cluster&gt;, "ToDevice":"&lt;to_device&gt;", "ToEndpoint":&lt;to_endpoint&gt;, "ToGroup":&lt;to_group&gt; }</code><br>&emsp;<code>&lt;device&gt;</code> = the device sending the messages (mandatory)<br>&emsp;<code>&lt;endpoint&gt;</code> = the source endpoint (mandatory)<br>&emsp;<code>&lt;cluster&gt;</code> = the source cluster id (mandatory)<br>&emsp;<code>&lt;to_device&gt;</code> = the target device (optional)<br>&emsp;<code>&lt;to_endpoint&gt;</code> = the target endpoint (optional if it can be inferred from <code>ZbStatus3</code>)<br>&emsp;<code>&lt;to_group&gt;</code> = the target group id (optional)<br><br>Note1: you must specify either <code>"ToDevice"</code> or <code>"ToGroup"</code> but not both<br>Note2: Z2T must know the IEEE address of the target device, see <code>ZbStatus2</code> to verify, and <code>ZbProbe</code> to have Z2T query the address</td> </tr> <tr> <td align=left>ZbForget<a id=zbforget></a></td> <td align=left>Removes a device from the Tasmota flash memory. To be used for devices that are no more used and are still visible in <code>ZbStatus</code><br>&emsp;<code>&lt;device&gt;</code></td> </tr> <tr> <td align=left>ZbLight<a id=zblight></a></td> <td align=left>Zigbee Hue Emulation for use with Alexa: this command sets or reads the light type to be emulated.<br>&emsp;<code>&lt;device&gt;,&lt;light_type&gt;</code> sets the light type<br>&emsp;<code>&lt;device&gt;,-1</code> removes the device from Philips Hue emulation<br>&emsp;<code>&lt;device&gt;</code> displays the current status of the Light (Z2T tracks all changes to the light)<br>Light_type is a integer <code>0..5</code> corresponding to the number of channels (from On/Off to RGBCW)</td> </tr> <tr> <td align=left>ZbName<a id=zbname></a></td> <td align=left>Sets or reads the Zigbee device friendly name (up to 32 characters).<br>&emsp;<code>&lt;device&gt;,&lt;name&gt;</code> sets the new friendly name<br>&emsp;<code>&lt;device&gt;,</code> (empty name) clears the friendly name<br>&emsp;<code>&lt;device&gt;</code> displays the current friendly name<br>See <a href=#setoption83><code>SetOption83 1</code></a> to enable friendly names as JSON keys instead of short addresses</td> </tr> <tr> <td align=left>ZbPermitJoin<a id=zbpermitjoin></a></td> <td align=left>Sets new device pairing mode<br><code>0</code> = disable pairing<br><code>1</code> = enable pairing for 60 seconds<br><code>99</code> = enable pairing until device reboot<br><ul><img alt= class=emojione src=https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/26a0.png title=:warning:> Leaving your Zigbee network pairing open to join will allow any Zigbee device to connect and retrieve your network encryption key. This can lead to a compromise of your Zigbee network.</ul></td> </tr> <tr> <td align=left>ZbPing<a id=zbping></a></td> <td align=left>Test the availability of a Zigbee device. If the device is connected and not sleeping, you should receive a <code>ZbPing</code> message within the next second.<br>&emsp;<code>&lt;device&gt;</code><br>Ex: <code>ZbPing 0x5ADF</code><br><code>{"ZbPing":{"Device":"0x5ADF","IEEEAddr":"0x90FD9FFFFE03B051"}}</code></td> </tr> <tr> <td align=left>ZbSend<a id=zbsend></a></td> <td align=left><code>{"Device":"&lt;shortaddr&gt;", "Endpoint":"&lt;endpoint&gt;", "Send":{"&lt;sendcmd&gt;":&lt;sendparam&gt;}}</code><br>&emsp;<code>&lt;shortaddr&gt;</code> the short address of the Zigbee device on the network.<br>&emsp;<code>&lt;endpoint&gt;</code> the target endpoint on the device (<a href=../Zigbee/#understanding-endpoints>understandig endpoints</a>)<br>&emsp;<code>"&lt;sendcmd&gt;":&lt;sendparam&gt;</code> the command and parameters to send (<a href=../Zigbee/#supported-zigbee-device-commands>Zigbee Device Commands</a>)<br>Note: Use <a href=#ZbZNPSend><code>ZbZNPSend</code></a> to send a raw form low-level message<br><br>Ex: <code>ZigbeeSend { "Device":"0x1234", "Endpoint":"0x03", "Send":{"Power":"on"} }</code></td> </tr> <tr> <td align=left>ZbStatus&#60;x&gt;<a id=zigbeestatus></a></td> <td align=left>Display Zigbee devices seen on the network since boot<br><code>&lt;device&gt;</code> (optional)<br><code></code> = all devices<br>This command provides three levels of increasing detail according to <code>&lt;x&gt;</code><br><code>ZbStatus1</code> Display Short Address, and Friendly Name<br><code>ZbStatus2</code> Also include Manufacturer ID and Model ID<br><code>ZbStatus3</code> Also include a list of endpoints and the clusterIds supported by each endpoint<br>Ex: <code>ZbStatus3 1</code> requests all details for device number 1<br><br>The information requested may exceed the maximum result size allowed by Tasmota. In this case, the output will be truncated. To get all of the desired information, request results for a specific device individually.</td> </tr> </tbody> </table> <h4>Zigbee Debug Functions</h4> <p><img alt= class=emojione src=https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/26a0.png title=:warning:> <img alt= class=emojione src=https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/26a0.png title=:warning:> <img alt= class=emojione src=https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/26a0.png title=:warning:> <strong>Do not use unless you know exactly what you are doing.</strong> <img alt= class=emojione src=https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/26a0.png title=:warning:> <img alt= class=emojione src=https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/26a0.png title=:warning:> <img alt= class=emojione src=https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/26a0.png title=:warning:></p> <table> <thead> <tr> <th align=left>Command</th> <th align=left>Parameters</th> </tr> </thead> <tbody> <tr> <td align=left>ZbModelId<a id=zbmodelid></a></td> <td align=left>Manually force the <code>ModelId</code> field of a Zigbee device. This is used to simulate devicesnot physically present on the network, for debugging only.<br>&emsp;<code>&lt;device&gt;,&lt;modelid&gt;</code> sets the new ModelId<br>&emsp;<code>&lt;device&gt;,</code> (empty modelid) clears the ModelId<br>&emsp;<code>&lt;device&gt;</code> displays the current ModelId, also displayed in <code>ZbStatus2</code></td> </tr> <tr> <td align=left>ZbProbe<a id=zbprobe></a></td> <td align=left>Probe a Zigbee device to get additional information including its IEEEaddress, vendor and model names, endpoints, and supported clusters per endpoint.<br><code>&lt;device&gt;</code><br>A device probe is performed automatically when a new Zigbee device connects.<br>Battery powered Zigbee devices can generally not be probed because they are in sleep mode most of the time.</td> </tr> <tr> <td align=left>ZbRead<a id=zbread></a></td> <td align=left>Read Zigbee device attributes<br><code>{ "Device":"&lt;shortaddr&gt;", "Endpoint":"&lt;endpoint&gt;", "Cluster":"&lt;cluster&gt;", "Read":[&lt;attrlist&gt;] }</code><br>&emsp;<code>&lt;shortaddr&gt;</code> the short address of the Zigbee device on the network.<br>&emsp;<code>&lt;endpoint&gt;</code> the target endpoint on the device (<a href=../Zigbee/#understanding-endpoints>understandig endpoints</a>)<br>&emsp;<code>&lt;cluster&gt;</code> the cluster number of the attributes<br>&emsp;<code>&lt;attrlist&gt;</code> requested attributes array<br><br>Ex: <code>ZbRead { "device":"0x69CF", "endpoint":"0x03", "cluster":"0x0006", "read":["0x0000"] }</code></td> </tr> <tr> <td align=left>ZbReset<a id=zbreset></a></td> <td align=left><code>1</code> = perform a factory reset and reconfiguration of the CC2530 chip.<br><strong>You will need to re-pair all Zigbee devices</strong></td> </tr> <tr> <td align=left>ZbRestore<a id=zbrestore></a></td> <td align=left>Restores a device configuration previously dumped with <code>ZbStatus2</code>. This command does not pair a device, but lets you get back device configuration like ModelId or IEEEAddress.<br>&emsp;<code>&lt;json&gt;</code> where json contains the fields dumped with <code>ZbStatus2</code>. <code>&lt;json&gt;</code> can contain multiple devices (if they fit).</td> </tr> <tr> <td align=left>ZbSave<a id=zbsave></a></td> <td align=left>Forces saving the Zigbee device information to Flash. Auto-saving happens 10 seconds after a new Device parameter was changed, this command is normally not useful</td> </tr> <tr> <td align=left>ZbZNPSend<a id=zbznpsend></a></td> <td align=left>Send a raw ZCL message to a Zigbee device. This is a low-level command, and requires to manually build the ZCL parameters. Most common usage will be provided as high-level functions.</td> </tr> <tr> <td align=left>ZbZNPReceive<a id=zbznpreceive></a></td> <td align=left>Simulates a received message<br>&emsp;<code>&lt;hex&gt;</code> = hex string of the simulated message, same format as <code>ZbZNPReceived</code> debug logs</td> </tr> </tbody> </table> <p><a id=hm-1x></a></p> <h3 id=hm-1x>HM-1x<a class=headerlink href=#hm-1x title="Permanent link">~</a></h3> <table> <thead> <tr> <th align=left>Command</th> <th align=left>Parameters</th> </tr> </thead> <tbody> <tr> <td align=left>HM10Scan<a id=hm10scan></a></td> <td align=left>Start a new device discovery scan</td> </tr> <tr> <td align=left>HM10Period<a id=hm10period></a></td> <td align=left>Show interval in seconds between sensor read cycles. Set to TelePeriod value at boot.<br></td> </tr> <tr> <td align=left>HM10Baud<a id=hm10baud></a></td> <td align=left>Show ESP8266 serial interface baudrate (<strong><em>Not HM-10 baudrate</em></strong>)<br><code>&lt;value&gt;</code> = set baudrate</td> </tr> <tr> <td align=left>HM10AT<a id=hm10at></a></td> <td align=left><code>&lt;command&gt;</code> = send AT commands to HM-10. See <a href=http://www.martyncurrey.com/hm-10-bluetooth-4ble-modules/#HM-10%20-%20AT%20commands>list</a></td> </tr> <tr> <td align=left>HM10Time <a id=hm10time></a></td> <td align=left><code>&lt;n&gt;</code> = set time time of a <strong>LYWSD02 only</strong> sensor to Tasmota UTC time and timezone. <code>&lt;n&gt;</code> is the sensor number in order of discovery starting with 0 (topmost sensor in the webUI list).</td> </tr> <tr> <td align=left>HM10Auto <a id=hm10auto></a></td> <td align=left><code>&lt;value&gt;</code> = start an automatic discovery scan with an interval of <code>&lt;value&gt;</code> seconds to receive data in BLE advertisements periodically.<br>This is an active scan and it should be used <strong>only if necessary</strong>. At the moment that is the case just with MJ_HT_V1. This can change if a future HM-10 firmware starts supporting passive scan.</td> </tr> </tbody> </table> <p><a id=mp3-player></a></p> <h3 id=mp3-player>MP3 Player<a class=headerlink href=#mp3-player title="Permanent link">~</a></h3> <p>The MP3 Player driver is based on the one from DFRobot. They named it <a href=https://www.dfrobot.com/wiki/index.php/DFPlayer_Mini_SKU:DFR0299>DFPlayer mini</a>. All MP3 Players with the identical Serial Control Command structure can be used.</p> <table> <thead> <tr> <th align=left>Command</th> <th align=left>Parameters</th> </tr> </thead> <tbody> <tr> <td align=left>MP3DAC<a id=MP3DAC></a></td> <td align=left><code>0</code> = DAC on <em>(default)</em><br><code>1</code> = DAC off</td> </tr> <tr> <td align=left>MP3Device<a id=MP3Device></a></td> <td align=left>Specify playback device<br><code>1</code> = USB<br><code>2</code> = SD Card <em>(default (also defaults on reset or power cycle))</em></td> </tr> <tr> <td align=left>MP3EQ<a id=MP3EQ></a></td> <td align=left>Set equalizer mode:<br><code>0</code> = normal<br><code>1</code> = pop<br><code>2</code> = rock<br><code>3</code> = jazz<br><code>4</code> = classic<br><code>5</code> = bass)</td> </tr> <tr> <td align=left>MP3Pause<a id=MP3Pause></a></td> <td align=left>Pause</td> </tr> <tr> <td align=left>MP3Play<a id=MP3Play></a></td> <td align=left>Play, works as a normal play on a real MP3 Player, starts at first MP3 file</td> </tr> <tr> <td align=left>MP3Reset<a id=MP3Reset></a></td> <td align=left>Reset the MP3 player to defaults</td> </tr> <tr> <td align=left>MP3Stop<a id=MP3Stop></a></td> <td align=left>Stop</td> </tr> <tr> <td align=left>MP3Track<a id=MP3Track></a></td> <td align=left><code>x</code> = play track &lt;x></td> </tr> <tr> <td align=left>MP3Volume<a id=MP3Volume></a></td> <td align=left><code>0..100</code> = set Volume</td> </tr> </tbody> </table> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <a href=../MQTT/ title=MQTT class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Previous </span> MQTT </div> </div> </a> <a href=../Templates/ title=Templates class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Next </span> Templates </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z /></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-footer-social> <a href=https://discord.gg/Ks2Kzd4 target=_blank rel=noopener title=discord.gg class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M297.216 243.2c0 15.616-11.52 28.416-26.112 28.416-14.336 0-26.112-12.8-26.112-28.416s11.52-28.416 26.112-28.416c14.592 0 26.112 12.8 26.112 28.416zm-119.552-28.416c-14.592 0-26.112 12.8-26.112 28.416s11.776 28.416 26.112 28.416c14.592 0 26.112-12.8 26.112-28.416.256-15.616-11.52-28.416-26.112-28.416zM448 52.736V512c-64.494-56.994-43.868-38.128-118.784-107.776l13.568 47.36H52.48C23.552 451.584 0 428.032 0 398.848V52.736C0 23.552 23.552 0 52.48 0h343.04C424.448 0 448 23.552 448 52.736zm-72.96 242.688c0-82.432-36.864-149.248-36.864-149.248-36.864-27.648-71.936-26.88-71.936-26.88l-3.584 4.096c43.52 13.312 63.744 32.512 63.744 32.512-60.811-33.329-132.244-33.335-191.232-7.424-9.472 4.352-15.104 7.424-15.104 7.424s21.248-20.224 67.328-33.536l-2.56-3.072s-35.072-.768-71.936 26.88c0 0-36.864 66.816-36.864 149.248 0 0 21.504 37.12 78.08 38.912 0 0 9.472-11.52 17.152-21.248-32.512-9.728-44.8-30.208-44.8-30.208 3.766 2.636 9.976 6.053 10.496 6.4 43.21 24.198 104.588 32.126 159.744 8.96 8.96-3.328 18.944-8.192 29.44-15.104 0 0-12.8 20.992-46.336 30.464 7.68 9.728 16.896 20.736 16.896 20.736 56.576-1.792 78.336-38.912 78.336-38.912z"/></svg> </a> <a href=https://t.me/tasmota target=_blank rel=noopener title=t.me class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"/></svg> </a> <a href=https://github.com/tasmota target=_blank rel=noopener title=github.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg> </a> </div> </div> </div> </footer> </div> <script src=../assets/javascripts/vendor.23350dc5.min.js></script> <script src=../assets/javascripts/bundle.36a8f969.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script> <script>
        app = initialize({
          base: "..",
          features: ["tabs"],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.3bc815f0.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>